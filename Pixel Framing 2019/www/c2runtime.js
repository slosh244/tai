// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ea,fa,ga,x,ha,ia,ka,la,na,oa,P,pa,ra,ta,ua,va,wa,xa,Q,ya,za,Ca,Da,Ea,V,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb={},$b={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,c,e,h){this.set(a,c,e,h)}function r(){this.Oa=this.Na=this.Qa=this.Pa=this.$a=this.Za=this.za=this.ya=0}function p(a,c,e,h){a<c?e<h?(m=a<e?a:e,y=c>h?c:h):(m=a<h?a:h,y=c>e?c:e):e<h?(m=c<e?c:e,y=a>h?a:h):(m=c<h?c:h,y=a>e?a:e)}function l(){this.items=this.G=null;this.Yg=0;ma&&(this.G=new Set);this.qg=[];this.ae=!0}function t(a){O[ja++]=a}function u(){this.ua=this.Kj=this.y=this.lk=0}function g(a){this.Ka=[];this.Wh=this.Yh=this.Zh=this.Xh=0;this.yh(a)}function a(a,c){this.qk=
a;this.pk=c;this.cells={}}function b(a,c){this.qk=a;this.pk=c;this.cells={}}function q(a,c,e){var h;return D.length?(h=D.pop(),h.Xk=a,h.x=c,h.y=e,h):new aa(a,c,e)}function c(a,c,e){this.Xk=a;this.x=c;this.y=e;this.eb=new ba}function k(a,c,e){var h;return A.length?(h=A.pop(),h.Xk=a,h.x=c,h.y=e,h):new ca(a,c,e)}function f(a,c,e){this.Xk=a;this.x=c;this.y=e;this.eb=[];this.Of=!0;this.kd=new ba;this.ug=!1}function e(a,c){return a.bd-c.bd}da=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};x=function(a){return"string"===typeof a};ha=function(a){return 0<a&&0===(a-1&a)};ia=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,c){return a>c?a:c};na=function(a,c){return a<c?a:c};oa=Math.PI;P=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var c=a|0;return c===a?c:c+1};
ra=function(a,c,e,h,k,b,f,w){var z,C,n,m;a<e?(C=a,z=e):(C=e,z=a);k<f?(m=k,n=f):(m=f,n=k);if(z<m||C>n)return!1;c<h?(C=c,z=h):(C=h,z=c);b<w?(m=b,n=w):(m=w,n=b);if(z<m||C>n)return!1;z=k-a+f-e;C=b-c+w-h;a=e-a;c=h-c;k=f-k;b=w-b;w=ka(c*k-b*a);return ka(k*C-b*z)>w?!1:ka(a*C-c*z)<=w};d.prototype.set=function(a,c,e,h){this.left=a;this.top=c;this.right=e;this.bottom=h};d.prototype.zf=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=function(){return this.right-
this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.Ot=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.Pt=function(a,c,e){return!(a.right+
c<this.left||a.bottom+e<this.top||a.left+c>this.right||a.top+e>this.bottom)};d.prototype.sb=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};d.prototype.Cg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};ta=d;r.prototype.De=function(a){this.ya=a.left;this.za=a.top;this.Za=a.right;this.$a=a.top;this.Pa=a.right;this.Qa=a.bottom;this.Na=a.left;this.Oa=a.bottom};r.prototype.Jp=function(a,c){if(0===c)this.De(a);else{var e=
Math.sin(c),h=Math.cos(c),k=a.left*e,b=a.top*e,f=a.right*e,e=a.bottom*e,w=a.left*h,z=a.top*h,C=a.right*h,h=a.bottom*h;this.ya=w-b;this.za=z+k;this.Za=C-b;this.$a=z+f;this.Pa=C-e;this.Qa=h+f;this.Na=w-e;this.Oa=h+k}};r.prototype.offset=function(a,c){this.ya+=a;this.za+=c;this.Za+=a;this.$a+=c;this.Pa+=a;this.Qa+=c;this.Na+=a;this.Oa+=c;return this};var m=0,y=0;r.prototype.nn=function(a){p(this.ya,this.Za,this.Pa,this.Na);a.left=m;a.right=y;p(this.za,this.$a,this.Qa,this.Oa);a.top=m;a.bottom=y};r.prototype.sb=
function(a,c){var e=this.ya,h=this.za,k=this.Za-e,b=this.$a-h,f=this.Pa-e,w=this.Qa-h,z=a-e,C=c-h,n=k*k+b*b,m=k*f+b*w,b=k*z+b*C,q=f*f+w*w,g=f*z+w*C,y=1/(n*q-m*m),k=(q*b-m*g)*y,n=(n*g-m*b)*y;if(0<=k&&0<n&&1>k+n)return!0;k=this.Na-e;b=this.Oa-h;n=k*k+b*b;m=k*f+b*w;b=k*z+b*C;y=1/(n*q-m*m);k=(q*b-m*g)*y;n=(n*g-m*b)*y;return 0<=k&&0<n&&1>k+n};r.prototype.Zd=function(a,c){if(c)switch(a){case 0:return this.ya;case 1:return this.Za;case 2:return this.Pa;case 3:return this.Na;case 4:return this.ya;default:return this.ya}else switch(a){case 0:return this.za;
case 1:return this.$a;case 2:return this.Qa;case 3:return this.Oa;case 4:return this.za;default:return this.za}};r.prototype.Wo=function(){return(this.ya+this.Za+this.Pa+this.Na)/4};r.prototype.Xo=function(){return(this.za+this.$a+this.Qa+this.Oa)/4};r.prototype.lo=function(a){var c=a.Wo(),e=a.Xo();if(this.sb(c,e))return!0;c=this.Wo();e=this.Xo();if(a.sb(c,e))return!0;var h,k,b,f,w,z,n,m;for(n=0;4>n;n++)for(m=0;4>m;m++)if(c=this.Zd(n,!0),e=this.Zd(n,!1),h=this.Zd(n+1,!0),k=this.Zd(n+1,!1),b=a.Zd(m,
!0),f=a.Zd(m,!1),w=a.Zd(m+1,!0),z=a.Zd(m+1,!1),ra(c,e,h,k,b,f,w,z))return!0;return!1};ua=r;va=function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);return a};wa=function(a,c){var e,h;c=P(c);if(!(0>c||c>=a.length)){e=c;for(h=a.length-1;e<h;e++)a[e]=a[e+1];xa(a,h)}};xa=function(a,c){a.length=c};Q=function(a){xa(a,0)};ya=function(a,c){Q(a);var e,h;e=0;for(h=c.length;e<h;++e)a[e]=c[e]};za=function(a,c){a.push.apply(a,c)};Ca=function(a,c){var e,h;e=0;for(h=a.length;e<h;++e)if(a[e]===c)return e;
return-1};Da=function(a,c){var e=Ca(a,c);-1!==e&&wa(a,e)};Ea=function(a,c,e){return a<c?c:a>e?e:a};V=function(a){return a/(180/oa)};Fa=function(a){return 180/oa*a};Ga=function(a){a%=360;0>a&&(a+=360);return a};Ha=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ia=function(a){return Ga(Fa(a))};Ja=function(a){return Ha(V(a))};Ka=function(a,c,e,h){return Math.atan2(h-c,e-a)};La=function(a,c){if(a===c)return 0;var e=Math.sin(a),h=Math.cos(a),k=Math.sin(c),b=Math.cos(c),e=e*k+h*b;return 1<=e?0:-1>=e?oa:Math.acos(e)};
Ma=function(a,c,e){var h=Math.sin(a),k=Math.cos(a),b=Math.sin(c),f=Math.cos(c);return Math.acos(h*b+k*f)>e?0<k*b-h*f?Ha(a+e):Ha(a-e):Ha(c)};Na=function(a,c){var e=Math.sin(a),h=Math.cos(a),k=Math.sin(c),b=Math.cos(c);return 0>=h*k-e*b};Oa=function(a,c,e,h){a=e-a;c=h-c;return Math.sqrt(a*a+c*c)};Pa=function(a,c){return!a!==!c};Qa=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Ra=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var J=+new Date;Sa=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-J};var h=!1,n=h=!1,v=!1;"undefined"!==typeof window&&(h=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),h=!h&&/safari/i.test(navigator.userAgent),n=/(iphone|ipod|ipad)/i.test(navigator.userAgent),v=window.c2ejecta);
var ma=!h&&!v&&!n&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;l.prototype.contains=function(a){return this.Dd()?!1:ma?this.G.has(a):this.items&&this.items.hasOwnProperty(a)};l.prototype.add=function(a){if(ma)this.G.has(a)||(this.G.add(a),this.ae=!1);else{var c=a.toString(),e=this.items;e?e.hasOwnProperty(c)||(e[c]=a,this.Yg++,this.ae=!1):(this.items={},this.items[c]=a,this.Yg=1,this.ae=!1)}};l.prototype.remove=function(a){if(!this.Dd())if(ma)this.G.has(a)&&(this.G["delete"](a),
this.ae=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.Yg--,this.ae=!1)}};l.prototype.clear=function(){this.Dd()||(ma?this.G.clear():(this.items=null,this.Yg=0),Q(this.qg),this.ae=!0)};l.prototype.Dd=function(){return 0===this.count()};l.prototype.count=function(){return ma?this.G.size:this.Yg};var O=null,ja=0;l.prototype.av=function(){if(!this.ae){if(ma)Q(this.qg),O=this.qg,ja=0,this.G.forEach(t),O=null,ja=0;else{var a=this.qg;Q(a);var c,e=0,h=this.items;
if(h)for(c in h)h.hasOwnProperty(c)&&(a[e++]=h[c])}this.ae=!0}};l.prototype.pd=function(){this.av();return this.qg};ba=l;var K=new ba;Ta=function(a){var c,e;c=0;for(e=a.length;c<e;++c)K.add(a[c]);ya(a,K.pd());K.clear()};Ua=function(a,c){ma?Va(a,c.G):Wa(a,c.pd())};Va=function(a,c){var e,h,k,b;h=e=0;for(k=a.length;e<k;++e)b=a[e],c.has(b)||(a[h++]=b);xa(a,h)};Wa=function(a,c){var e,h,k,b;h=e=0;for(k=a.length;e<k;++e)b=a[e],-1===Ca(c,b)&&(a[h++]=b);xa(a,h)};u.prototype.add=function(a){this.y=a-this.lk;
this.Kj=this.ua+this.y;this.lk=this.Kj-this.ua-this.y;this.ua=this.Kj};u.prototype.reset=function(){this.ua=this.Kj=this.y=this.lk=0};Xa=u;Ya=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};g.prototype.yh=function(a){this.up=a;this.Ac=a.length/2;this.Ka.length=a.length;this.bi=this.ci=-1;this.rn=0};g.prototype.qe=function(){return!this.up.length};g.prototype.ca=function(){for(var a=this.Ka,c=a[0],e=c,h=a[1],k=h,b,f,w=1,z=this.Ac;w<z;++w)f=2*w,b=a[f],f=a[f+1],b<c&&(c=b),b>e&&(e=b),
f<h&&(h=f),f>k&&(k=f);this.Xh=c;this.Yh=e;this.Zh=h;this.Wh=k};g.prototype.De=function(a,c,e){this.Ka.length=8;this.Ac=4;var h=this.Ka;h[0]=a.left-c;h[1]=a.top-e;h[2]=a.right-c;h[3]=a.top-e;h[4]=a.right-c;h[5]=a.bottom-e;h[6]=a.left-c;h[7]=a.bottom-e;this.ci=a.right-a.left;this.bi=a.bottom-a.top;this.ca()};g.prototype.Ce=function(a,c,e,h,k){this.Ka.length=8;this.Ac=4;var b=this.Ka;b[0]=a.ya-c;b[1]=a.za-e;b[2]=a.Za-c;b[3]=a.$a-e;b[4]=a.Pa-c;b[5]=a.Qa-e;b[6]=a.Na-c;b[7]=a.Oa-e;this.ci=h;this.bi=k;this.ca()};
g.prototype.Ip=function(a){this.Ac=a.Ac;ya(this.Ka,a.Ka);this.Xh=a.Xh;this.Zh-a.Zh;this.Yh=a.Yh;this.Wh=a.Wh};g.prototype.$d=function(a,c,e){if(this.ci!==a||this.bi!==c||this.rn!==e){this.ci=a;this.bi=c;this.rn=e;var h,b,k,f,w,z=0,n=1,m=this.up,q=this.Ka;0!==e&&(z=Math.sin(e),n=Math.cos(e));e=0;for(k=this.Ac;e<k;e++)h=2*e,b=h+1,f=m[h]*a,w=m[b]*c,q[h]=f*n-w*z,q[b]=w*n+f*z;this.ca()}};g.prototype.sb=function(a,c){var e=this.Ka;if(a===e[0]&&c===e[1])return!0;var h,b,k,f=this.Ac,w=this.Xh-110,z=this.Zh-
101,n=this.Yh+131,m=this.Wh+120,q,g,y=0,d=0;for(h=0;h<f;h++)b=2*h,k=(h+1)%f*2,q=e[b],b=e[b+1],g=e[k],k=e[k+1],ra(w,z,a,c,q,b,g,k)&&y++,ra(n,m,a,c,q,b,g,k)&&d++;return 1===y%2||1===d%2};g.prototype.Rg=function(a,c,e){var h=a.Ka,b=this.Ka;if(this.sb(h[0]+c,h[1]+e)||a.sb(b[0]-c,b[1]-e))return!0;var k,f,w,z,n,m,q,g,y,d,v,l;k=0;for(z=this.Ac;k<z;k++)for(f=2*k,w=(k+1)%z*2,g=b[f],f=b[f+1],y=b[w],d=b[w+1],w=0,q=a.Ac;w<q;w++)if(n=2*w,m=(w+1)%q*2,v=h[n]+c,n=h[n+1]+e,l=h[m]+c,m=h[m+1]+e,ra(g,f,y,d,v,n,l,m))return!0;
return!1};$a=g;a.prototype.ke=function(a,c,e){var h;h=this.cells[a];return h?(h=h[c])?h:e?(h=q(this,a,c),this.cells[a][c]=h):null:e?(h=q(this,a,c),this.cells[a]={},this.cells[a][c]=h):null};a.prototype.Db=function(a){return P(a/this.qk)};a.prototype.Eb=function(a){return P(a/this.pk)};a.prototype.update=function(a,c,e){var h,b,k,f,w;if(c)for(h=c.left,b=c.right;h<=b;++h)for(k=c.top,f=c.bottom;k<=f;++k)if(!e||!e.sb(h,k))if(w=this.ke(h,k,!1))w.remove(a),w.Dd()&&(w.eb.clear(),1E3>D.length&&D.push(w),
this.cells[h][k]=null);if(e)for(h=e.left,b=e.right;h<=b;++h)for(k=e.top,f=e.bottom;k<=f;++k)c&&c.sb(h,k)||this.ke(h,k,!0).gl(a)};a.prototype.rj=function(a,c){var e,h,k,b,f,w;e=this.Db(a.left);k=this.Eb(a.top);h=this.Db(a.right);for(f=this.Eb(a.bottom);e<=h;++e)for(b=k;b<=f;++b)(w=this.ke(e,b,!1))&&w.dump(c)};ab=a;b.prototype.ke=function(a,c,e){var h;h=this.cells[a];return h?(h=h[c])?h:e?(h=k(this,a,c),this.cells[a][c]=h):null:e?(h=k(this,a,c),this.cells[a]={},this.cells[a][c]=h):null};b.prototype.Db=
function(a){return P(a/this.qk)};b.prototype.Eb=function(a){return P(a/this.pk)};b.prototype.update=function(a,c,e){var h,k,b,f,w;if(c)for(h=c.left,k=c.right;h<=k;++h)for(b=c.top,f=c.bottom;b<=f;++b)if(!e||!e.sb(h,b))if(w=this.ke(h,b,!1))w.remove(a),w.Dd()&&(w.reset(),1E3>A.length&&A.push(w),this.cells[h][b]=null);if(e)for(h=e.left,k=e.right;h<=k;++h)for(b=e.top,f=e.bottom;b<=f;++b)c&&c.sb(h,b)||this.ke(h,b,!0).gl(a)};b.prototype.rj=function(a,c,e,h,b){var k,f;a=this.Db(a);c=this.Eb(c);e=this.Db(e);
for(k=this.Eb(h);a<=e;++a)for(h=c;h<=k;++h)(f=this.ke(a,h,!1))&&f.dump(b)};b.prototype.fu=function(a){var c,e,h,b,k;c=a.left;h=a.top;e=a.right;for(b=a.bottom;c<=e;++c)for(a=h;a<=b;++a)if(k=this.ke(c,a,!1))k.Of=!1};bb=b;var D=[];c.prototype.Dd=function(){return this.eb.Dd()};c.prototype.gl=function(a){this.eb.add(a)};c.prototype.remove=function(a){this.eb.remove(a)};c.prototype.dump=function(a){za(a,this.eb.pd())};aa=c;var A=[];f.prototype.Dd=function(){if(!this.eb.length)return!0;if(this.eb.length>
this.kd.count())return!1;this.Jk();return!0};f.prototype.gl=function(a){this.kd.contains(a)?(this.kd.remove(a),this.kd.Dd()&&(this.ug=!1)):this.eb.length?(this.eb[this.eb.length-1].hd()>a.hd()&&(this.Of=!1),this.eb.push(a)):(this.eb.push(a),this.Of=!0)};f.prototype.remove=function(a){this.kd.add(a);this.ug=!0;30<=this.kd.count()&&this.Jk()};f.prototype.Jk=function(){this.ug&&(this.kd.count()===this.eb.length?this.reset():(Ua(this.eb,this.kd),this.kd.clear(),this.ug=!1))};f.prototype.us=function(){this.Of||
(this.eb.sort(e),this.Of=!0)};f.prototype.reset=function(){Q(this.eb);this.Of=!0;this.kd.clear();this.ug=!1};f.prototype.dump=function(a){this.Jk();this.us();this.eb.length&&a.push(this.eb)};ca=f;var H="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");cb=function(a){return 0>=a||11<=a?"source-over":H[a-1]};db=function(a,c,e){if(e)switch(a.yb=e.ONE,a.tb=e.ONE_MINUS_SRC_ALPHA,c){case 1:a.yb=e.ONE;a.tb=e.ONE;break;case 3:a.yb=
e.ONE;a.tb=e.ZERO;break;case 4:a.yb=e.ONE_MINUS_DST_ALPHA;a.tb=e.ONE;break;case 5:a.yb=e.DST_ALPHA;a.tb=e.ZERO;break;case 6:a.yb=e.ZERO;a.tb=e.SRC_ALPHA;break;case 7:a.yb=e.ONE_MINUS_DST_ALPHA;a.tb=e.ZERO;break;case 8:a.yb=e.ZERO;a.tb=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.yb=e.DST_ALPHA;a.tb=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.yb=e.ONE_MINUS_DST_ALPHA,a.tb=e.SRC_ALPHA}};eb=function(a){return Math.round(1E6*a)/1E6};fb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?
!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};gb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||fb(a.tagName,"canvas")?!0:!1}})();var ac="undefined"!==typeof Float32Array?Float32Array:Array;function bc(d){var r=new ac(3);d&&(r[0]=d[0],r[1]=d[1],r[2]=d[2]);return r}
function cc(d){var r=new ac(16);d&&(r[0]=d[0],r[1]=d[1],r[2]=d[2],r[3]=d[3],r[4]=d[4],r[5]=d[5],r[6]=d[6],r[7]=d[7],r[8]=d[8],r[9]=d[9],r[10]=d[10],r[11]=d[11],r[12]=d[12],r[13]=d[13],r[14]=d[14],r[15]=d[15]);return r}function dc(d,r){r[0]=d[0];r[1]=d[1];r[2]=d[2];r[3]=d[3];r[4]=d[4];r[5]=d[5];r[6]=d[6];r[7]=d[7];r[8]=d[8];r[9]=d[9];r[10]=d[10];r[11]=d[11];r[12]=d[12];r[13]=d[13];r[14]=d[14];r[15]=d[15]}
function ec(d,r){var p=r[0],l=r[1];r=r[2];d[0]*=p;d[1]*=p;d[2]*=p;d[3]*=p;d[4]*=l;d[5]*=l;d[6]*=l;d[7]*=l;d[8]*=r;d[9]*=r;d[10]*=r;d[11]*=r}
function fc(d,r,p,l){l||(l=cc());var t,u,g,a,b,q,c,k,f=d[0],e=d[1];d=d[2];u=p[0];g=p[1];t=p[2];p=r[1];q=r[2];f===r[0]&&e===p&&d===q?(d=l,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(p=f-r[0],q=e-r[1],c=d-r[2],k=1/Math.sqrt(p*p+q*q+c*c),p*=k,q*=k,c*=k,r=g*c-t*q,t=t*p-u*c,u=u*q-g*p,(k=Math.sqrt(r*r+t*t+u*u))?(k=1/k,r*=k,t*=k,u*=k):u=t=r=0,g=q*u-c*t,a=c*r-p*u,b=p*t-q*r,(k=Math.sqrt(g*g+a*a+b*b))?(k=1/k,g*=k,a*=k,b*=k):b=a=g=0,
l[0]=r,l[1]=g,l[2]=p,l[3]=0,l[4]=t,l[5]=a,l[6]=q,l[7]=0,l[8]=u,l[9]=b,l[10]=c,l[11]=0,l[12]=-(r*f+t*e+u*d),l[13]=-(g*f+a*e+b*d),l[14]=-(p*f+q*e+c*d),l[15]=1)}
(function(){function d(a,b,q){this.ne=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ka=!!q;this.Ki=this.Sg=!1;this.oi=0;this.Zj=1;this.Pm=1E3;this.hv=(this.Pm-this.Zj)/32768;this.nk=bc([0,0,100]);this.Fo=bc([0,0,0]);this.bq=bc([0,1,0]);this.Oh=bc([1,1,1]);this.Hn=!0;this.bj=cc();this.lc=cc();this.tl=cc();this.wk=cc();this.u=a;this.version=0===this.u.getParameter(this.u.VERSION).indexOf("WebGL 2")?2:1;this.fo()}function r(a,b,q){this.u=a;this.zh=
b;this.name=q;this.wc=a.getAttribLocation(b,"aPos");this.ye=a.getAttribLocation(b,"aTex");this.Do=a.getUniformLocation(b,"matP");this.Yi=a.getUniformLocation(b,"matMV");this.Wf=a.getUniformLocation(b,"opacity");this.Gl=a.getUniformLocation(b,"colorFill");this.Eo=a.getUniformLocation(b,"samplerFront");this.hh=a.getUniformLocation(b,"samplerBack");this.gf=a.getUniformLocation(b,"destStart");this.ff=a.getUniformLocation(b,"destEnd");this.jh=a.getUniformLocation(b,"seconds");this.Il=a.getUniformLocation(b,
"pixelWidth");this.Hl=a.getUniformLocation(b,"pixelHeight");this.gh=a.getUniformLocation(b,"layerScale");this.fh=a.getUniformLocation(b,"layerAngle");this.kh=a.getUniformLocation(b,"viewOrigin");this.ih=a.getUniformLocation(b,"scrollPos");this.Kt=!!(this.Il||this.Hl||this.jh||this.hh||this.gf||this.ff||this.gh||this.fh||this.kh||this.ih);this.No=this.Oo=-999;this.aj=1;this.Jo=this.Io=0;this.Lo=this.Ho=this.Go=1;this.Ro=this.Qo=this.Po=this.To=this.So=this.Ko=0;this.sl=[];this.Mo=cc();this.Wf&&a.uniform1f(this.Wf,
1);this.Gl&&a.uniform4f(this.Gl,1,1,1,1);this.Eo&&a.uniform1i(this.Eo,0);this.hh&&a.uniform1i(this.hh,1);this.gf&&a.uniform2f(this.gf,0,0);this.ff&&a.uniform2f(this.ff,1,1);this.gh&&a.uniform1f(this.gh,1);this.fh&&a.uniform1f(this.fh,0);this.kh&&a.uniform2f(this.kh,0,0);this.ih&&a.uniform2f(this.ih,0,0);this.jh&&a.uniform1f(this.jh,0);this.Ue=!1}function p(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function l(a,b){this.type=a;this.n=b;this.u=b.u;this.Nb=this.ob=this.lp=0;this.O=this.Ec=null;this.Kp=[]}var t=cc();d.prototype.fo=function(){var a=this.u,b;this.xo=1;this.Ye=this.te=null;this.ni=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.ka?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.yo=a.ONE;this.uo=a.ONE_MINUS_SRC_ALPHA;this.Nh=new Float32Array(8E3*(this.ka?3:2));this.Gh=new Float32Array(16E3);this.Xl=new Float32Array(32E3);this.Wl=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Wl);a.bufferData(a.ARRAY_BUFFER,this.Xl.byteLength,a.DYNAMIC_DRAW);this.Mh=Array(4);this.Fh=Array(4);for(b=0;4>b;b++)this.Mh[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Mh[b]),a.bufferData(a.ARRAY_BUFFER,this.Nh.byteLength,a.DYNAMIC_DRAW),this.Fh[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Fh[b]),a.bufferData(a.ARRAY_BUFFER,this.Gh.byteLength,a.DYNAMIC_DRAW);this.td=0;this.Mt=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Mt);for(var q=new Uint16Array(12E3),c=b=0;12E3>b;)q[b++]=c,q[b++]=c+1,q[b++]=c+2,q[b++]=c,q[b++]=c+2,q[b++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,q,a.STATIC_DRAW);this.bg=this.Fe=this.Gc=0;this.Ea=[];b=this.ka?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";q=this.zg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Ea.push(q);q=this.zg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ea.push(q);q=this.zg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Ea.push(q);q=this.zg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Ea.push(q);for(var k in gc)gc.hasOwnProperty(k)&&this.Ea.push(this.zg(gc[k],b,k));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Kc=[];this.rc=0;this.lb=this.Sa=!1;this.Cn=this.Zg=-1;this.Bf=null;this.Ik=a.createFramebuffer();this.qi=this.tj=null;this.ln=!1;this.ka&&(this.qi=a.createRenderbuffer());this.He=bc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.iu=a[0];this.Kl=a[1];2048<this.Kl&&(this.Kl=2048);this.Sb(0)};r.prototype.Km=function(a){p(this.Mo,
a)||(dc(a,this.Mo),this.u.uniformMatrix4fv(this.Yi,!1,a))};d.prototype.zg=function(a,b,q){var c=this.u,k=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(k,a.src);c.compileShader(k);if(!c.getShaderParameter(k,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(k),c.deleteShader(k),Error("error compiling fragment shader: "+a);var f=c.createShader(c.VERTEX_SHADER);c.shaderSource(f,b);c.compileShader(f);if(!c.getShaderParameter(f,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(f),c.deleteShader(k),c.deleteShader(f),
Error("error compiling vertex shader: "+a);b=c.createProgram();c.attachShader(b,k);c.attachShader(b,f);c.linkProgram(b);if(!c.getProgramParameter(b,c.LINK_STATUS))throw a=c.getProgramInfoLog(b),c.deleteShader(k),c.deleteShader(f),c.deleteProgram(b),Error("error linking shader program: "+a);c.useProgram(b);c.deleteShader(k);c.deleteShader(f);k=new r(c,b,q);k.Gk=a.Gk||0;k.Hk=a.Hk||0;k.Bn=!!a.Bn;k.Tc=!!a.Tc;k.jn=!!a.jn;k.P=a.P||[];a=0;for(f=k.P.length;a<f;a++)k.P[a][1]=c.getUniformLocation(b,k.P[a][0]),
k.sl.push(0),c.uniform1f(k.P[a][1],0);return k};d.prototype.Vk=function(a){var b,q;b=0;for(q=this.Ea.length;b<q;b++)if(this.Ea[b].name===a)return b;return-1};d.prototype.tp=function(a,b,q){var c=this.lc,k=this.bj,f=[0,0,0,0,0,0,0,0];f[0]=c[0]*a+c[4]*b+c[12];f[1]=c[1]*a+c[5]*b+c[13];f[2]=c[2]*a+c[6]*b+c[14];f[3]=c[3]*a+c[7]*b+c[15];f[4]=k[0]*f[0]+k[4]*f[1]+k[8]*f[2]+k[12]*f[3];f[5]=k[1]*f[0]+k[5]*f[1]+k[9]*f[2]+k[13]*f[3];f[6]=k[2]*f[0]+k[6]*f[1]+k[10]*f[2]+k[14]*f[3];f[7]=-f[2];0!==f[7]&&(f[7]=1/
f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],q[0]=(.5*f[4]+.5)*this.width,q[1]=(.5*f[5]+.5)*this.height)};d.prototype.pf=function(a,b,q){if(this.width!==a||this.height!==b||q){this.fd();q=this.u;this.width=a;this.height=b;q.viewport(0,0,a,b);fc(this.nk,this.Fo,this.bq,this.lc);if(this.ka){var c=-a/2;a=a/2;var k=b/2;b=-b/2;var f=this.Zj,e=this.Pm,m=this.bj;m||(m=cc());var g=a-c,d=b-k,h=e-f;m[0]=2/g;m[1]=0;m[2]=0;m[3]=0;m[4]=0;m[5]=2/d;m[6]=0;m[7]=0;m[8]=0;m[9]=0;m[10]=-2/h;m[11]=0;m[12]=-(c+a)/g;m[13]=-(b+
k)/d;m[14]=-(e+f)/h;m[15]=1;this.Oh[0]=1;this.Oh[1]=1}else b=a/b,c=this.Zj,a=this.Pm,m=this.bj,e=c*Math.tan(45*Math.PI/360),b*=e,k=-b,f=-e,m||(m=cc()),g=b-k,d=e-f,h=a-c,m[0]=2*c/g,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=2*c/d,m[6]=0,m[7]=0,m[8]=(b+k)/g,m[9]=(e+f)/d,m[10]=-(a+c)/h,m[11]=-1,m[12]=0,m[13]=0,m[14]=-(a*c*2)/h,m[15]=0,c=[0,0],a=[0,0],this.tp(0,0,c),this.tp(1,1,a),this.Oh[0]=1/(a[0]-c[0]),this.Oh[1]=-1/(a[1]-c[1]);c=0;for(a=this.Ea.length;c<a;c++)k=this.Ea[c],k.Ue=!1,k.Do&&(q.useProgram(k.zh),
q.uniformMatrix4fv(k.Do,!1,this.bj));q.useProgram(this.Ea[this.Zg].zh);q.bindTexture(q.TEXTURE_2D,null);q.activeTexture(q.TEXTURE1);q.bindTexture(q.TEXTURE_2D,null);q.activeTexture(q.TEXTURE0);this.Ye=this.te=null;this.qi&&(q.bindFramebuffer(q.FRAMEBUFFER,this.Ik),q.bindRenderbuffer(q.RENDERBUFFER,this.qi),q.renderbufferStorage(q.RENDERBUFFER,q.DEPTH_COMPONENT16,this.width,this.height),this.ln||(q.framebufferRenderbuffer(q.FRAMEBUFFER,q.DEPTH_ATTACHMENT,q.RENDERBUFFER,this.qi),this.ln=!0),q.bindRenderbuffer(q.RENDERBUFFER,
null),q.bindFramebuffer(q.FRAMEBUFFER,null),this.tj=null)}};d.prototype.Bc=function(){fc(this.nk,this.Fo,this.bq,this.lc);ec(this.lc,this.Oh)};d.prototype.translate=function(a,b){if(0!==a||0!==b){this.He[0]=a;this.He[1]=b;this.He[2]=0;var q=this.lc,c=this.He,k=c[0],f=c[1],c=c[2];q[12]=q[0]*k+q[4]*f+q[8]*c+q[12];q[13]=q[1]*k+q[5]*f+q[9]*c+q[13];q[14]=q[2]*k+q[6]*f+q[10]*c+q[14];q[15]=q[3]*k+q[7]*f+q[11]*c+q[15]}};d.prototype.scale=function(a,b){if(1!==a||1!==b)this.He[0]=a,this.He[1]=b,this.He[2]=
1,ec(this.lc,this.He)};d.prototype.vj=function(a){if(0!==a){var b=this.lc,q,c=Math.sin(a);a=Math.cos(a);var k=b[0],f=b[1],e=b[2],m=b[3],g=b[4],d=b[5],h=b[6],n=b[7];q?b!==q&&(q[8]=b[8],q[9]=b[9],q[10]=b[10],q[11]=b[11],q[12]=b[12],q[13]=b[13],q[14]=b[14],q[15]=b[15]):q=b;q[0]=k*a+g*c;q[1]=f*a+d*c;q[2]=e*a+h*c;q[3]=m*a+n*c;q[4]=k*-c+g*a;q[5]=f*-c+d*a;q[6]=e*-c+h*a;q[7]=m*-c+n*a}};d.prototype.pc=function(){if(!p(this.tl,this.lc)){var a=this.Bb();a.type=5;a.O?dc(this.lc,a.O):a.O=cc(this.lc);dc(this.lc,
this.tl);this.lb=this.Sa=!1}};d.prototype.zj=function(a){this.ka&&(32760<a&&(a=32760),this.oi=this.nk[2]-this.Zj-a*this.hv)};l.prototype.as=function(){var a=this.u,b=this.n;0!==this.ob?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.Ik),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Ki=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Ki=
!1)};l.prototype.es=function(){this.u.bindTexture(this.u.TEXTURE_2D,this.Ec)};l.prototype.gs=function(){var a=this.u;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Ec);a.activeTexture(a.TEXTURE0)};l.prototype.bs=function(){var a=this.lp,b=this.n;b.ni=a;b=b.Bf;b.Wf&&b.aj!==a&&(b.aj=a,this.u.uniform1f(b.Wf,a))};l.prototype.Wr=function(){this.u.drawElements(this.u.TRIANGLES,this.Nb,this.u.UNSIGNED_SHORT,this.ob)};l.prototype.Yr=function(){this.u.blendFunc(this.ob,this.Nb)};l.prototype.hs=
function(){var a,b,q,c=this.n.Ea,k=this.n.Cn;a=0;for(b=c.length;a<b;a++)q=c[a],a===k&&q.Yi?(q.Km(this.O),q.Ue=!0):q.Ue=!1;dc(this.O,this.n.wk)};l.prototype.Xr=function(){var a=this.u,b=this.n;this.Ec?(b.Ye===this.Ec&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Ye=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Ik),b.Ki||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ec,0)):(b.ka||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,
a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};l.prototype.Tr=function(){var a=this.u,b=this.ob;0===b?(a.clearColor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};l.prototype.$r=function(){var a=this.u;0!==this.ob?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};l.prototype.Vr=
function(){var a=this.u,b=this.n;b.ka&&a.disable(a.DEPTH_TEST);var q=b.Ea[1];a.useProgram(q.zh);!q.Ue&&q.Yi&&(q.Km(b.wk),q.Ue=!0);a.enableVertexAttribArray(q.wc);a.bindBuffer(a.ARRAY_BUFFER,b.Wl);a.vertexAttribPointer(q.wc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.ob/4,this.Nb);q=b.Bf;a.useProgram(q.zh);0<=q.wc&&(a.enableVertexAttribArray(q.wc),a.bindBuffer(a.ARRAY_BUFFER,b.Mh[b.td]),a.vertexAttribPointer(q.wc,b.ka?3:2,a.FLOAT,!1,0,0));0<=q.ye&&(a.enableVertexAttribArray(q.ye),a.bindBuffer(a.ARRAY_BUFFER,
b.Fh[b.td]),a.vertexAttribPointer(q.ye,2,a.FLOAT,!1,0,0));b.ka&&a.enable(a.DEPTH_TEST)};l.prototype.cs=function(){var a=this.u,b=this.n,q=b.Ea[this.ob];b.Cn=this.ob;b.Bf=q;a.useProgram(q.zh);!q.Ue&&q.Yi&&(q.Km(b.wk),q.Ue=!0);q.Wf&&q.aj!==b.ni&&(q.aj=b.ni,a.uniform1f(q.Wf,b.ni));0<=q.wc&&(a.enableVertexAttribArray(q.wc),a.bindBuffer(a.ARRAY_BUFFER,b.Mh[b.td]),a.vertexAttribPointer(q.wc,b.ka?3:2,a.FLOAT,!1,0,0));0<=q.ye&&(a.enableVertexAttribArray(q.ye),a.bindBuffer(a.ARRAY_BUFFER,b.Fh[b.td]),a.vertexAttribPointer(q.ye,
2,a.FLOAT,!1,0,0))};l.prototype.Zr=function(){var a=this.O;this.u.uniform4f(this.n.Bf.Gl,a[0],a[1],a[2],a[3])};l.prototype.ds=function(){var a,b,q=this.n.Bf,c=this.u;a=this.O;q.hh&&this.n.Ye!==this.Ec&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Ec),this.n.Ye=this.Ec,c.activeTexture(c.TEXTURE0));var k=a[0];q.Il&&k!==q.Oo&&(q.Oo=k,c.uniform1f(q.Il,k));k=a[1];q.Hl&&k!==q.No&&(q.No=k,c.uniform1f(q.Hl,k));k=a[2];b=a[3];!q.gf||k===q.Io&&b===q.Jo||(q.Io=k,q.Jo=b,c.uniform2f(q.gf,k,b));
k=a[4];b=a[5];!q.ff||k===q.Go&&b===q.Ho||(q.Go=k,q.Ho=b,c.uniform2f(q.ff,k,b));k=a[6];q.gh&&k!==q.Lo&&(q.Lo=k,c.uniform1f(q.gh,k));k=a[7];q.fh&&k!==q.Ko&&(q.Ko=k,c.uniform1f(q.fh,k));k=a[8];b=a[9];!q.kh||k===q.So&&b===q.To||(q.So=k,q.To=b,c.uniform2f(q.kh,k,b));k=a[10];b=a[11];!q.ih||k===q.Po&&b===q.Qo||(q.Po=k,q.Qo=b,c.uniform2f(q.ih,k,b));k=a[12];q.jh&&k!==q.Ro&&(q.Ro=k,c.uniform1f(q.jh,k));if(q.P.length)for(a=0,b=q.P.length;a<b;a++)k=this.Kp[a],k!==q.sl[a]&&(q.sl[a]=k,c.uniform1f(q.P[a][1],k))};
d.prototype.Bb=function(){this.rc===this.Kc.length&&this.Kc.push(new l(0,this));return this.Kc[this.rc++]};d.prototype.fd=function(){if(0!==this.rc&&!this.u.isContextLost()){var a=this.u;0<this.bg&&(a.bindBuffer(a.ARRAY_BUFFER,this.Wl),a.bufferSubData(a.ARRAY_BUFFER,0,this.Xl.subarray(0,this.bg)),b&&0<=b.wc&&"<point>"===b.name&&a.vertexAttribPointer(b.wc,4,a.FLOAT,!1,0,0));if(0<this.Gc){var b=this.Bf;a.bindBuffer(a.ARRAY_BUFFER,this.Mh[this.td]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Nh.subarray(0,
this.Gc));b&&0<=b.wc&&"<point>"!==b.name&&a.vertexAttribPointer(b.wc,this.ka?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Fh[this.td]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Gh.subarray(0,this.Fe));b&&0<=b.ye&&"<point>"!==b.name&&a.vertexAttribPointer(b.ye,2,a.FLOAT,!1,0,0)}for(var q,a=0,b=this.rc;a<b;a++)switch(q=this.Kc[a],q.type){case 1:q.Wr();break;case 2:q.es();break;case 3:q.bs();break;case 4:q.Yr();break;case 5:q.hs();break;case 6:q.Xr();break;case 7:q.Tr();break;case 8:q.Vr();break;
case 9:q.cs();break;case 10:q.ds();break;case 11:q.gs();break;case 12:q.Zr();break;case 13:q.$r();break;case 14:q.as()}this.bg=this.Fe=this.Gc=this.rc=0;this.Ki=this.lb=this.Sa=!1;this.td++;4<=this.td&&(this.td=0)}};d.prototype.Jd=function(a){if(a!==this.xo&&!this.Sg){var b=this.Bb();b.type=3;this.xo=b.lp=a;this.lb=this.Sa=!1}};d.prototype.La=function(a){if(a!==this.te){var b=this.Bb();b.type=2;this.te=b.Ec=a;this.lb=this.Sa=!1}};d.prototype.Be=function(a,b){if((a!==this.yo||b!==this.uo)&&!this.Sg){var q=
this.Bb();q.type=4;q.ob=a;q.Nb=b;this.yo=a;this.uo=b;this.lb=this.Sa=!1}};d.prototype.Cp=function(){this.Be(this.u.ONE,this.u.ONE_MINUS_SRC_ALPHA)};d.prototype.Ae=function(a,b,q,c,k,f,e,m){15992<=this.Gc&&this.fd();var g=this.Gc,d=this.Fe,h=this.Nh,n=this.Gh,v=this.oi;if(this.Sa)this.Kc[this.rc-1].Nb+=6;else{var l=this.Bb();l.type=1;l.ob=this.ka?g:g/2*3;l.Nb=6;this.Sa=!0;this.lb=!1}this.ka?(h[g++]=a,h[g++]=b,h[g++]=v,h[g++]=q,h[g++]=c,h[g++]=v,h[g++]=k,h[g++]=f,h[g++]=v,h[g++]=e,h[g++]=m,h[g++]=v):
(h[g++]=a,h[g++]=b,h[g++]=q,h[g++]=c,h[g++]=k,h[g++]=f,h[g++]=e,h[g++]=m);n[d++]=0;n[d++]=0;n[d++]=1;n[d++]=0;n[d++]=1;n[d++]=1;n[d++]=0;n[d++]=1;this.Gc=g;this.Fe=d};d.prototype.Id=function(a,b,g,c,k,f,e,m,d){15992<=this.Gc&&this.fd();var l=this.Gc,h=this.Fe,n=this.Nh,v=this.Gh,r=this.oi;if(this.Sa)this.Kc[this.rc-1].Nb+=6;else{var t=this.Bb();t.type=1;t.ob=this.ka?l:l/2*3;t.Nb=6;this.Sa=!0;this.lb=!1}var t=d.left,p=d.top,u=d.right;d=d.bottom;this.ka?(n[l++]=a,n[l++]=b,n[l++]=r,n[l++]=g,n[l++]=c,
n[l++]=r,n[l++]=k,n[l++]=f,n[l++]=r,n[l++]=e,n[l++]=m,n[l++]=r):(n[l++]=a,n[l++]=b,n[l++]=g,n[l++]=c,n[l++]=k,n[l++]=f,n[l++]=e,n[l++]=m);v[h++]=t;v[h++]=p;v[h++]=u;v[h++]=p;v[h++]=u;v[h++]=d;v[h++]=t;v[h++]=d;this.Gc=l;this.Fe=h};d.prototype.wp=function(a,b,g,c,k,f,e,m,d,l,h,n,v){15992<=this.Gc&&this.fd();var r=this.Gc,t=this.Fe,p=this.Nh,u=this.Gh,D=this.oi;if(this.Sa)this.Kc[this.rc-1].Nb+=6;else{var A=this.Bb();A.type=1;A.ob=this.ka?r:r/2*3;A.Nb=6;this.Sa=!0;this.lb=!1}this.ka?(p[r++]=a,p[r++]=
b,p[r++]=D,p[r++]=g,p[r++]=c,p[r++]=D,p[r++]=k,p[r++]=f,p[r++]=D,p[r++]=e,p[r++]=m,p[r++]=D):(p[r++]=a,p[r++]=b,p[r++]=g,p[r++]=c,p[r++]=k,p[r++]=f,p[r++]=e,p[r++]=m);u[t++]=d;u[t++]=l;u[t++]=h;u[t++]=0;u[t++]=n;u[t++]=0;u[t++]=v;u[t++]=0;this.Gc=r;this.Fe=t};d.prototype.yn=function(a){var b=a.length/2-2,g=b-1,c=a[0],k=a[1],f,e,m,d,l,h,n;for(f=0;f<b;f+=2)e=2*f,m=a[e+2],d=a[e+3],l=a[e+4],h=a[e+5],f===g?this.Ae(c,k,m,d,l,h,l,h):(n=a[e+6],e=a[e+7],this.Ae(c,k,m,d,l,h,n,e))};d.prototype.vu=function(a,
b,g,c){7996<=this.bg&&this.fd();var k=this.bg,f=this.Xl;if(this.lb)this.Kc[this.rc-1].Nb++;else{var e=this.Bb();e.type=8;e.ob=k;e.Nb=1;this.lb=!0;this.Sa=!1}f[k++]=a;f[k++]=b;f[k++]=g;f[k++]=c;this.bg=k};d.prototype.Sb=function(a){if(this.Zg!==a){if(!this.Ea[a]){if(0===this.Zg)return;a=0}var b=this.Bb();b.type=9;this.Zg=b.ob=a;this.lb=this.Sa=!1}};d.prototype.uh=function(a){a=this.Ea[a];return!(!a.gf&&!a.ff)};d.prototype.Zl=function(a){a=this.Ea[a];return!!(a.gf||a.ff||a.Bn)};d.prototype.Yl=function(a){return this.Ea[a].Tc};
d.prototype.Du=function(a){a=this.Ea[a];return 0!==a.Gk||0!==a.Hk};d.prototype.ot=function(a){return this.Ea[a].Gk};d.prototype.pt=function(a){return this.Ea[a].Hk};d.prototype.qt=function(a,b){return this.Ea[a].P[b][2]};d.prototype.pj=function(a){return this.Ea[a].jn};d.prototype.ig=function(a,b,g,c,k,f,e,m,d,l,h,n,v,r,t){var p=this.Ea[this.Zg],u,D;if(p.Kt||t.length){u=this.Bb();u.type=10;u.O?dc(this.lc,u.O):u.O=cc();D=u.O;D[0]=b;D[1]=g;D[2]=c;D[3]=k;D[4]=f;D[5]=e;D[6]=m;D[7]=d;D[8]=l;D[9]=h;D[10]=
n;D[11]=v;D[12]=r;p.hh?u.Ec=a:u.Ec=null;if(t.length)for(g=u.Kp,g.length=t.length,a=0,b=t.length;a<b;a++)g[a]=t[a];this.lb=this.Sa=!1}};d.prototype.clear=function(a,b,g,c){var k=this.Bb();k.type=7;k.ob=0;k.O||(k.O=cc());k.O[0]=a;k.O[1]=b;k.O[2]=g;k.O[3]=c;this.lb=this.Sa=!1};d.prototype.clearRect=function(a,b,g,c){if(!(0>g||0>c)){var k=this.Bb();k.type=7;k.ob=1;k.O||(k.O=cc());k.O[0]=a;k.O[1]=b;k.O[2]=g;k.O[3]=c;this.lb=this.Sa=!1}};d.prototype.Fp=function(a){if(this.ka&&(a=!!a,this.Sg!==a)){var b=
this.Bb();b.type=14;b.ob=a?1:0;this.lb=this.Sa=!1;this.Sg=a;this.tj=null;this.Sg?this.Sb(2):this.Sb(0)}};d.prototype.Ep=function(a){if(this.ka){var b=this.Bb();b.type=13;b.ob=a?1:0;this.lb=this.Sa=!1}};d.prototype.On=function(){dc(this.tl,t);this.Bc();this.pc();var a=this.width/2,b=this.height/2;this.Ae(-a,b,a,b,a,-b,-a,-b);dc(t,this.lc);this.pc()};d.prototype.Dp=function(a,b,g){this.Sb(3);var c=this.Bb();c.type=12;c.O||(c.O=cc());c.O[0]=a;c.O[1]=b;c.O[2]=g;c.O[3]=1;this.lb=this.Sa=!1};d.prototype.Su=
function(){this.Sb(0)};d.prototype.Iu=function(){this.Sb(2)};d.prototype.Cu=function(){this.fd();this.u.flush()};var u=[],g={};d.prototype.Lr=function(){Q(u);g={}};d.prototype.Vf=function(a,b,q,c){b=!!b;q=!!q;var k=a.src+","+b+","+q+(b?",undefined":""),f=null;if("undefined"!==typeof a.src&&g.hasOwnProperty(k))return f=g[k],f.ai++,f;this.fd();var e=this.u,m=ha(a.width)&&ha(a.height),f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var d=e.RGBA,l=
e.RGBA,h=e.UNSIGNED_BYTE;if(c&&!this.ne)switch(c){case 1:l=d=e.RGB;break;case 2:h=e.UNSIGNED_SHORT_4_4_4_4;break;case 3:h=e.UNSIGNED_SHORT_5_5_5_1;break;case 4:l=d=e.RGB,h=e.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!m&&b){c=document.createElement("canvas");c.width=ia(a.width);c.height=ia(a.height);var n=c.getContext("2d");"undefined"!==typeof n.imageSmoothingEnabled?n.imageSmoothingEnabled=q:(n.webkitImageSmoothingEnabled=q,n.mozImageSmoothingEnabled=q,n.msImageSmoothingEnabled=q);n.drawImage(a,
0,0,a.width,a.height,0,0,c.width,c.height);e.texImage2D(e.TEXTURE_2D,0,d,l,h,c)}else e.texImage2D(e.TEXTURE_2D,0,d,l,h,a);b?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));q?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),(m||2<=this.version)&&this.Hn?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,
e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST));e.bindTexture(e.TEXTURE_2D,null);this.te=null;f.Oe=a.width;f.Ne=a.height;f.ai=1;f.qn=k;u.push(f);return g[k]=f};d.prototype.Hb=function(a,b,g,c,k){this.fd();var f=this.u;this.ne&&(c=!1);var e=f.createTexture();f.bindTexture(f.TEXTURE_2D,e);f.texImage2D(f.TEXTURE_2D,
0,f.RGBA,a,b,0,f.RGBA,c?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);k?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,g?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,g?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.te=null;
e.Oe=a;e.Ne=b;u.push(e);return e};d.prototype.Om=function(a,b,g){this.fd();var c=this.u;this.ne&&(g=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,g?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(k){console&&console.error&&console.error("Error updating WebGL texture: ",k)}c.bindTexture(c.TEXTURE_2D,null);this.te=null};d.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.ai&&1<a.ai?a.ai--:(this.fd(),
a===this.te&&(this.u.bindTexture(this.u.TEXTURE_2D,null),this.te=null),a===this.Ye&&(this.u.activeTexture(this.u.TEXTURE1),this.u.bindTexture(this.u.TEXTURE_2D,null),this.u.activeTexture(this.u.TEXTURE0),this.Ye=null),Da(u,a),"undefined"!==typeof a.qn&&delete g[a.qn],this.u.deleteTexture(a)))};d.prototype.Cc=function(a){if(a!==this.tj){var b=this.Bb();b.type=6;this.tj=b.Ec=a;this.lb=this.Sa=!1}};hb=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.vc=(this.jl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Cd=!!a.dc;this.St="undefined"!==typeof window.AppMobi||
this.Cd;this.kc=!!window.c2cocoonjs;this.Pc=!!window.c2ejecta;this.kc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Pc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Ha=this.Cd||this.kc||this.Pc;this.Li=
/edge\//i.test(navigator.userAgent);this.ne=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Li;this.no=/tizen/i.test(navigator.userAgent);this.il=/android/i.test(navigator.userAgent)&&!this.no&&!this.ne&&!this.Li;this.so=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.ne&&!this.Li;this.bu=/ipad/i.test(navigator.userAgent);this.Pi=this.so||this.bu||this.Pc;this.Ut=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.ne&&!this.Li;this.Rt=/amazonwebappplatform/i.test(navigator.userAgent);this.Wt=/firefox/i.test(navigator.userAgent);this.ml="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.qo=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Zt=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Wg=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ql=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.pl=!!window.cr_windows10;this.po=this.qo||this.Zt||this.ql||this.pl;this.Tt=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.mo=this.il&&!this.Ut&&!this.jl&&!this.Wt&&!this.Rt&&!this.Ha;this.devicePixelRatio=1;this.pe=this.vc||this.jl||this.St||this.kc||this.il||this.Pi||this.Wg||this.ql||this.Tt||this.no||this.Pc;this.pe||
(this.pe=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.oo=!!(this.Pi&&this.vc&&window.webkit);"undefined"===typeof cr_is_preview||this.ml||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.ml=!0);this.canvas=a;this.sn=document.getElementById("c2canvasdiv");this.n=this.u=null;this.Wk="(unavailable)";this.ka=!1;this.Re=0;this.Ba=null;this.xi=!1;this.ep=this.fp=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Cd&&(window.c2runtime=this);this.ml&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.mo&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.I=this.width;this.H=this.height;this.li=this.width;this.Bg=this.height;this.Sf=window.innerWidth;this.Rf=window.innerHeight;this.ba=!0;this.Ug=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.q=[];this.Aa=[];this.Al={};this.Rc=[];this.Fk={};this.xd=[];this.sg=[];this.Qj=[];this.ur=[];this.Ar=[];this.tm=this.Qp=null;this.Pe={};this.ll=this.le=!1;
this.Qc=0;this.kl=this.ol=!1;this.Mc=[];this.Tg=!1;this.dh=this.xj="";this.Va=null;this.Ed="";this.Dh=this.Mp=!1;this.wi=[];this.Qe=this.Ef=0;this.Yo=30;this.uk=this.mh=0;this.ng=1;this.$b=new Xa;this.Wj=new Xa;this.ej=this.Ci=this.ti=this.Yc=this.$e=this.Kk=this.Ri=0;this.rk=null;this.Dn=[];this.Ek=[];this.si=-1;this.Jl=[[]];this.Gm=this.Zi=0;this.am(null);this.Eg=this.bp=this.oh=0;this.Eh=[];this.Dm=this.fm=-1;this.Qi=!0;this.Xi=0;this.Mi=!1;this.Vu=0;this.xg=null;this.oe=this.ao=!1;this.dp=new ba;
this.Pl=new ba;this.Ql=new ba;this.hm=[];this.Xc=new $a([]);this.Bm=new $a([]);this.xf=[];this.Ng={};this.fe={};this.Xd={};this.rg={};this.mn={};this.Bo=this.Vi=this.Ja=this.Ua=this.Ao=this.Ui=this.ma=null;this.pg=this.rl=!1;this.Mk=[null,null];this.Jf=0;this.Hd={};this.Bh=this.we=null;this.Op="";this.dj=[];this.Hu()}}function r(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}function p(){try{return!!window.indexedDB}catch(a){return!1}}function l(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function t(a,c,e,h){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=l;b.onerror=h;b.onsuccess=function(b){b=b.target.result;b.onerror=h;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=e}}catch(k){h(k)}}function u(a,c,e){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=l;h.onerror=e;h.onsuccess=function(h){h=h.target.result;h.onerror=e;var b=h.transaction(["saves"]).objectStore("saves").get(a);b.onsuccess=function(){b.result?
c(b.result.data):c(null)}}}catch(b){e(b)}}function g(){da("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,e={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ba||a[c]&&"undefined"!==typeof a[c].kw||"spriteCreatedDestroyCallback"!==c&&(e[c]=a[c]);return e}var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.Hu=function(){var a=this;if(this.oo)this.$s(function(c){a.eh(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.Wg?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var e="data.js";if(this.qo||this.Wg||this.ql||this.pl)e="data.json";c.open("GET",e,!0);var h=!1;if(!this.Ha&&"response"in c&&"responseType"in c)try{c.responseType="json",h="json"===c.responseType}catch(b){h=!1}if(!h&&"responseType"in
c)try{c.responseType="text"}catch(k){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.Wg?c.onreadystatechange=function(){4===c.readyState&&a.eh(JSON.parse(c.responseText))}:(c.onload=function(){if(h)a.eh(c.response);else if(a.Pc){var e=c.responseText,e=e.substr(e.indexOf("{"));a.eh(JSON.parse(e))}else a.eh(JSON.parse(c.responseText))},c.onerror=function(a){ea("Error requesting "+e+":");ea(a)});c.send()}};d.prototype.Nt=function(){var a=this,c,e,h,
b,k,f,n,g,m;this.Xe=(!this.Ha||this.Pc||this.vc)&&this.bv&&!this.mo;0===this.Jb&&this.Pi&&(this.Xe=!1);this.devicePixelRatio=this.Xe?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.pb();0<this.Jb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.ku();da("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){a.n.fo();a.n.pf(a.n.width,a.n.height,!0);a.Ua=null;a.Ja=null;a.Mk[0]=null;a.Mk[1]=null;a.lu();a.ba=!0;da("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.rs&&(this.kc||this.Pc||!this.Ha)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.il||(this.u=this.canvas.getContext("webgl2",c)),this.u||(this.u=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(q){}if(this.u){if(c=
this.u.getExtension("WEBGL_debug_renderer_info"))this.Wk=this.u.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.u.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.ka&&(this.Wk+=" [front-to-back enabled]");this.Ha||(this.mb=document.createElement("canvas"),jQuery(this.mb).appendTo(this.canvas.parentNode),this.mb.oncontextmenu=function(){return!1},this.mb.onselectstart=function(){return!1},this.mb.width=Math.round(this.li*this.devicePixelRatio),this.mb.height=Math.round(this.Bg*this.devicePixelRatio),
jQuery(this.mb).css({width:this.li+"px",height:this.Bg+"px"}),this.sp(),this.Vl=this.mb.getContext("2d"));this.n=new hb(this.u,this.pe,this.ka);this.n.pf(this.canvas.width,this.canvas.height);this.n.Hn=0!==this.js;this.Ba=null;c=0;for(e=this.q.length;c<e;c++)for(k=this.q[c],h=0,b=k.L.length;h<b;h++)n=k.L[h],n.Ma=this.n.Vk(n.id),n.Tc=this.n.Yl(n.Ma),this.pg=this.pg||this.n.uh(n.Ma);c=0;for(e=this.Rc.length;c<e;c++){g=this.Rc[c];h=0;for(b=g.L.length;h<b;h++)n=g.L[h],n.Ma=this.n.Vk(n.id),n.Tc=this.n.Yl(n.Ma);
g.$c();h=0;for(b=g.N.length;h<b;h++){m=g.N[h];k=0;for(f=m.L.length;k<f;k++)n=m.L[k],n.Ma=this.n.Vk(n.id),n.Tc=this.n.Yl(n.Ma),this.pg=this.pg||this.n.uh(n.Ma);m.$c()}}}else{if(0<this.Jb&&this.Cd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Ba=AppMobi.canvas.getContext("2d");try{this.Ba.samplingMode=this.na?"smooth":"sharp",this.Ba.globalScale=1,this.Ba.HTML5CompatibilityMode=!0,this.Ba.imageSmoothingEnabled=this.na}catch(d){}0!==this.width&&
0!==this.height&&(this.Ba.width=this.width,this.Ba.height=this.height)}this.Ba||(this.kc?(c={antialias:!!this.na,alpha:!0},this.Ba=this.canvas.getContext("2d",c)):(c={alpha:!0},this.Ba=this.canvas.getContext("2d",c)),this.yj(this.Ba,this.na));this.Vl=this.mb=null}this.Vp=function(c){a.Tb(!1,c)};window==window.top||this.Ha||this.po||this.Wg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&
(this.kc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(da("Reloading for continuous preview"),this.dh="__c2_continuouspreview",this.Dh=!0),this.uu&&!this.pe&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.mf()});this.Ha||(c=function(a){if(gb(a)&&document.activeElement&&document.activeElement!==
document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Jb&&this.Xe&&1<this.devicePixelRatio&&this.setSize(this.Xa,this.Wa,!0);this.Zp();this.Ht();this.go();this.aa={}};d.prototype.setSize=function(a,
c,e){var h=0,b=0,k=0,f=0,f=0;if(this.Sf!==a||this.Rf!==c||e){this.Sf=a;this.Rf=c;var n=this.Jb;if((k=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Mi)&&!this.vc)||0!==this.Jb||e)k&&(n=this.Jf),e=this.devicePixelRatio,4<=n?(k=this.Xa/this.Wa,a/c>k?(k*=c,5===n?(f=k*e/this.Xa,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),k=this.Xa*f/e,f=this.Wa*f/e,h=(a-k)/2,b=(c-f)/2,a=k,c=f):(h=(a-k)/2,a=k)):(f=a/k,5===n?(f=f*e/this.Wa,1<f?f=Math.floor(f):
1>f&&(f=1/Math.ceil(1/f)),k=this.Xa*f/e,f=this.Wa*f/e,h=(a-k)/2,b=(c-f)/2,a=k):b=(c-f)/2,c=f)):k&&0===n&&(h=Math.floor((a-this.Xa)/2),b=Math.floor((c-this.Wa)/2),a=this.Xa,c=this.Wa),2>n&&(this.wg=e),this.li=Math.round(a),this.Bg=Math.round(c),this.width=Math.round(a*e),this.height=Math.round(c*e),this.ba=!0,this.kq?(this.I=this.width,this.H=this.height,this.ic=!0):this.width<this.Xa&&this.height<this.Wa||1===n?(this.I=this.width,this.H=this.height,this.ic=!0):(this.I=this.Xa,this.H=this.Wa,this.ic=
!1,2===n?(k=this.Xa/this.Wa,n=this.Sf/this.Rf,n<k?this.I=this.H*n:n>k&&(this.H=this.I/n)):3===n&&(k=this.Xa/this.Wa,n=this.Sf/this.Rf,n>k?this.I=this.H*n:n<k&&(this.H=this.I/n))),this.sn&&!this.Ha&&(jQuery(this.sn).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(h)+"px","margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*e),
this.canvas.height=Math.round(c*e),this.Pc?(this.canvas.style.left=Math.floor(h)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.Xe&&!this.Ha&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.mb&&(this.mb.width=Math.round(a*e),this.mb.height=Math.round(c*e),this.mb.style.width=this.li+"px",this.mb.style.height=this.Bg+"px"),this.n&&this.n.pf(Math.round(a*e),Math.round(c*
e)),this.Cd&&this.Ba&&(this.Ba.width=Math.round(a),this.Ba.height=Math.round(c)),this.Ba&&this.yj(this.Ba,this.na),this.Zp(),this.so&&!this.vc&&window.scrollTo(0,0)}};d.prototype.Zp=function(){if(this.Cr&&0!==this.Ul){var a="portrait";2===this.Ul&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):
screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};d.prototype.ku=function(){this.n.Lr();this.rl=!0;var a,c,e;a=0;for(c=this.q.length;a<c;a++)e=this.q[a],e.ag&&e.ag()};d.prototype.lu=function(){this.rl=!1;var a,c,e;a=0;for(c=this.q.length;a<c;a++)e=this.q[a],e.rh&&e.rh()};d.prototype.sp=function(){if(!this.Ha){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||
this.Mi)&&!this.vc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.mb).css(a)}};var q=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var c;if(a&&!this.Ug)for(da("[Construct 2] Suspending"),this.Ug=!0,-1!==this.fm&&q&&q(this.fm),-1!==this.Dm&&clearTimeout(this.Dm),a=0,c=this.Eh.length;a<c;a++)this.Eh[a](!0);else if(!a&&
this.Ug){da("[Construct 2] Resuming");this.Ug=!1;this.Ri=Sa();this.$e=Sa();a=this.mh=this.Ci=0;for(c=this.Eh.length;a<c;a++)this.Eh[a](!1);this.Tb(!1)}};d.prototype.sr=function(a){this.Eh.push(a)};d.prototype.Vd=function(a){return this.dj[a]};d.prototype.eh=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.Nn=a[1];this.Jb=a[12];this.Xa=a[10];this.Wa=a[11];this.mp=this.Xa/2;this.np=this.Wa/2;this.Ha&&!this.Pc&&(4<=a[12]||0===a[12])&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Jb=3);this.Nm=a[18];this.xe=a[19];if(0===this.xe){var c=new Image;c.crossOrigin="anonymous";this.Gp(c,"loading-logo.png");this.we={$i:c}}else if(4===this.xe){c=new Image;c.src="";var e=new Image;e.src="";var h=new Image;h.src="";var k=new Image;k.src="";var b=new Image;b.src="";var f=new Image;f.src="";var n=new Image;n.src="";var g=new Image;g.src="";var m=new Image;m.src="";var q=new Image;q.src="";var d=new Image;d.src="";var y=new Image;y.src="";this.we={$i:[c,e,h,k],zu:[b,f,n,g],gv:[m,q,
d,y]}}this.oh=a[21];this.dj=hc();this.md=new W(this);c=0;for(e=a[2].length;c<e;c++)n=a[2][c],h=this.Vd(n[0]),ib(n,h.prototype),g=new h(this),g.Cj=n[1],g.re=n[2],g.au=n[5],g.Zo=n[9],g.R&&g.R(),this.plugins.push(g);this.dj=hc();c=0;for(e=a[3].length;c<e;c++){n=a[3][c];b=this.Vd(n[1]);g=null;h=0;for(k=this.plugins.length;h<k;h++)if(this.plugins[h]instanceof b){g=this.plugins[h];break}m=new g.qa(g);m.name=n[0];m.B=n[2];m.hl=n[3].slice(0);m.dv=n[3].length;m.Dr=n[4];m.dt=n[5];m.V=n[11];m.B?(m.Yf=[],m.yd=
this.Eg++,m.wa=null):(m.Yf=null,m.yd=-1,m.wa=[]);m.vi=null;m.Hf=null;m.In=null;m.Ob=!1;m.Xb=null;n[6]?(m.Mj=n[6][0],m.Cm=n[6][1],m.Hh=n[6][2]):(m.Mj=null,m.Cm=0,m.Hh=0);n[7]?m.Wb=n[7]:m.Wb=null;m.index=c;m.d=[];m.pi=[];m.Qd=[new jb(m)];m.ed=0;m.tc=null;m.Rr=0;m.lg=!0;m.Sj=kb;m.ht=lb;m.mt=mb;m.da=pb;m.wh=qb;m.$l=rb;m.dg=sb;m.Di=tb;m.Ok=ub;m.Rk=vb;m.rd=wb;m.Sk=xb;m.ji=new ab(this.Xa,this.Wa);m.Th=!0;m.Uh=!1;m.aa={};m.toString=yb;m.Aa=[];h=0;for(k=n[8].length;h<k;h++){q=n[8][h];d=this.Vd(q[1]);y=null;
b=0;for(f=this.Aa.length;b<f;b++)if(this.Aa[b]instanceof d){y=this.Aa[b];break}y||(y=new d(this),y.Ol=[],y.cj=new ba,y.R&&y.R(),this.Aa.push(y),ic&&y instanceof ic&&(this.Qp=y),$b.Uu&&y instanceof $b.Uu&&(this.tm=y));-1===y.Ol.indexOf(m)&&y.Ol.push(m);b=new y.qa(y,m);b.name=q[0];b.V=q[2];b.R();m.Aa.push(b)}m.global=n[9];m.nl=n[10];m.L=[];h=0;for(k=n[12].length;h<k;h++)m.L.push({id:n[12][h][0],name:n[12][h][1],Ma:-1,Tc:!1,ab:!0,index:h});m.Iw=n[13];this.Nm&&!m.B&&!m.nl&&g.re||m.R();m.name&&(this.types[m.name]=
m);this.q.push(m);g.Cj&&(h=new g.ja(m),h.uid=this.oh++,h.vp=this.bp++,h.We=0,h.Lg=zb,h.toString=Ab,h.A=n[14],h.R(),m.d.push(h),this.Hd[h.uid.toString()]=h)}c=0;for(e=a[4].length;c<e;c++)for(b=a[4][c],f=this.q[b[0]],h=1,k=b.length;h<k;h++)n=this.q[b[h]],n.wa.push(f),f.Yf.push(n);c=0;for(e=a[28].length;c<e;c++){b=a[28][c];f=[];h=0;for(k=b.length;h<k;h++)f.push(this.q[b[h]]);h=0;for(k=f.length;h<k;h++)f[h].Ob=!0,f[h].Xb=f}if(0<this.Eg)for(c=0,e=this.q.length;c<e;c++)if(n=this.q[c],!n.B&&n.wa.length){n.vi=
Array(this.Eg);n.Hf=Array(this.Eg);n.In=Array(this.Eg);m=[];h=y=d=q=0;for(k=n.wa.length;h<k;h++)for(g=n.wa[h],n.vi[g.yd]=q,q+=g.dv,n.Hf[g.yd]=d,d+=g.Dr,n.In[g.yd]=y,y+=g.dt,b=0,f=g.L.length;b<f;b++)m.push(va({},g.L[b]));n.L=m.concat(n.L);h=0;for(k=n.L.length;h<k;h++)n.L[h].index=h}c=0;for(e=a[5].length;c<e;c++)n=a[5][c],h=new Bb(this,n),this.Al[h.name]=h,this.Rc.push(h);c=0;for(e=a[6].length;c<e;c++)n=a[6][c],h=new Cb(this,n),this.Fk[h.name]=h,this.xd.push(h);c=0;for(e=this.xd.length;c<e;c++)this.xd[c].Ga();
c=0;for(e=this.xd.length;c<e;c++)this.xd[c].Jm();c=0;for(e=this.Qj.length;c<e;c++)this.Qj[c].Ga();Q(this.Qj);this.Br=a[7];this.mc=a[9];this.wg=1;this.rs=a[13];this.na=a[14];this.wn=a[15];this.bv=a[17];this.Ul=a[20];this.Cr=0<this.Ul;this.uu=a[22];this.ic=this.kq=a[23];this.js=a[24];this.Au=a[25];this.ka=a[27]&&!this.ne;this.Gj=Date.now();Q(this.dj);this.Nt()};var c=!1,k=0,f=[];d.prototype.Gu=function(a,c){function e(){k--;h.Uo()}var h=this;a.addEventListener("load",e);a.addEventListener("error",e);
f.push([a,c]);this.Uo()};d.prototype.Uo=function(){for(var a;f.length&&100>k;)k++,a=f.shift(),this.Gp(a[0],a[1])};d.prototype.Vj=function(a,e){a.cocoonLazyLoad=!0;a.onerror=function(e){c=a.pn=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",e)};this.Pc?a.src=e:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(c){a.src=c},function(h){c=a.pn=!0;console&&console.error&&console.error("Error extracting image '"+e+"' from expansion file: ",h)}):(a.crossOrigin=
"anonymous",this.Gu(a,e)));this.sg.push(a)};d.prototype.ct=function(a){var c,e;c=0;for(e=this.sg.length;c<e;c++)if(this.sg[c].Mr===a)return this.sg[c];return null};var e=0,m=!1;d.prototype.Ht=function(){this.xg&&(e=this.xg.Ew(this.Br))};d.prototype.kn=function(){var a=e,c=0,h=0,b=!0,k,f,h=0;for(k=this.sg.length;h<k;h++){f=this.sg[h];var n=f.vk;if(!n||0>=n)n=5E4;a+=n;f.src&&(f.complete||f.loaded)&&!f.pn?c+=n:b=!1}b&&this.Au&&this.xg&&(m||(this.xg.Fw(),m=!0),h=this.xg.qw(),c+=h,h<e&&(b=!1));this.Uc=
0==a?1:c/a;return b};var y=!1;d.prototype.go=function(){if(this.Ba||this.n){var a=this.Ba||this.Vl;this.mb&&this.sp();var e=window.innerWidth,h=window.innerHeight;this.Sf===e&&this.Rf===h||this.setSize(e,h);this.Uc=0;this.zo=-1;var k=this;if(this.kn()&&(4!==this.xe||y))this.It();else{h=Date.now()-this.Gj;if(a){var f=this.width,n=this.height,e=this.devicePixelRatio;if(3>this.xe&&(this.kc||500<=h&&this.zo!=this.Uc)){a.clearRect(0,0,f,n);var h=f/2,n=n/2,f=0===this.xe&&this.we.$i.complete,m=40*e,g=0,
q=80*e,d;if(f){var v=this.we.$i,q=v.width*e;d=v.height*e;m=q/2;g=d/2;a.drawImage(v,P(h-m),P(n-g),q,d)}1>=this.xe?(h=P(h-m)+.5,n=P(n+(g+(f?12*e:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(h,n,Math.floor(q*this.Uc),6*e),a.strokeStyle="black",a.strokeRect(h,n,q,6*e),a.strokeStyle="white",a.strokeRect(h-1*e,n-1*e,q+2*e,8*e)):2===this.xe&&(a.font=this.Pc?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.Hw="middle",e=Math.round(100*this.Uc)+"%",f=a.measureText?a.measureText(e):null,a.fillText(e,
h-(f?f.width:0)/2,n));this.zo=this.Uc}else if(4===this.xe){this.os(a);b?b(function(){k.go()}):setTimeout(function(){k.go()},16);return}}setTimeout(function(){k.go()},this.kc?10:100)}}};var J=-1,h="undefined"===typeof cr_is_preview?200:0,n=!0,v=!1,ma=0,O=0,ja="undefined"===typeof cr_is_preview?3E3:0,K=null,D=null,A=0;d.prototype.os=function(a){if(!y){for(var e=Math.ceil(this.width),b=Math.ceil(this.height),k=this.we.$i,f=this.we.zu,m=this.we.gv,g=0;4>g;++g)if(!k[g].complete||!f[g].complete||!m[g].complete)return;
0===A&&(J=Date.now());var g=Date.now(),q=!1,d=a,l,t;n||v?(a.clearRect(0,0,e,b),K&&K.width===e&&K.height===b||(K=document.createElement("canvas"),K.width=e,K.height=b,D=K.getContext("2d")),d=D,q=!0,n&&1===A&&(J=Date.now())):a.globalAlpha=1;d.fillStyle="#333333";d.fillRect(0,0,e,b);256<this.Bg?(l=Ea(.22*b,105,.6*e),t=.25*l,d.drawImage(r(f,l),.5*e-l/2,.2*b-t/2,l,t),t=l=Math.min(.395*b,.95*e),d.drawImage(r(k,l),.5*e-l/2,.485*b-t/2,l,t),l=Ea(.22*b,105,.6*e),t=.25*l,d.drawImage(r(m,l),.5*e-l/2,.868*b-t/
2,l,t),d.fillStyle="#3C3C3C",l=e,t=Math.max(.005*b,2),d.fillRect(0,.8*b-t/2,l,t),d.fillStyle=c?"red":"#E0FF65",l=e*this.Uc,d.fillRect(.5*e-l/2,.8*b-t/2,l,t)):(t=l=.55*b,d.drawImage(r(k,l),.5*e-l/2,.45*b-t/2,l,t),d.fillStyle="#3C3C3C",l=e,t=Math.max(.005*b,2),d.fillRect(0,.85*b-t/2,l,t),d.fillStyle=c?"red":"#E0FF65",l=e*this.Uc,d.fillRect(.5*e-l/2,.85*b-t/2,l,t));q&&(n?a.globalAlpha=0===A?0:Math.min((g-J)/300,1):v&&(a.globalAlpha=Math.max(1-(g-O)/300,0)),a.drawImage(K,0,0,e,b));n&&300<=g-J&&2<=A&&
(n=!1,ma=g);!n&&g-ma>=ja&&!v&&1<=this.Uc&&(v=!0,O=g);if(v&&g-O>=300+h||"undefined"!==typeof cr_is_preview&&1<=this.Uc&&500>Date.now()-J)y=!0,v=n=!1,this.we=D=K=null;++A}};d.prototype.It=function(){this.mb&&(this.canvas.parentNode.removeChild(this.mb),this.mb=this.Vl=null);this.Gj=Date.now();this.$e=Sa();var a,c,e;if(this.Nm)for(a=0,c=this.q.length;a<c;a++)e=this.q[a],e.B||e.nl||!e.la.re||e.R();else this.Qi=!1;a=0;for(c=this.Rc.length;a<c;a++)this.Rc[a].Or();2<=this.Jb&&(a=this.Xa/this.Wa,c=this.width/
this.height,this.wg=2!==this.Jb&&c>a||2===this.Jb&&c<a?this.height/this.Wa:this.width/this.Xa);this.Nn?this.Al[this.Nn].zm():this.Rc[0].zm();this.Nm||(this.Xi=1,this.trigger(W.prototype.k.Rm,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.q.length;a<c;a++)e=this.q[a],e.gp&&e.gp();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Tb(!1);this.Cd&&
AppMobi.webview.execute("onGameReady();")};d.prototype.Tb=function(a,c,e){if(this.ma){var h=Sa();if(e||!this.Ug||a){a||(b?this.fm=b(this.Vp):this.Dm=setTimeout(this.Vp,this.pe?1:16));c=c||h;var k=this.Jb;((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.vc)||this.Mi)&&0<this.Jf&&(k=this.Jf);if(0<k){var k=window.innerWidth,f=window.innerHeight;this.Sf===k&&this.Rf===f||this.setSize(k,f)}this.Ha||(e?this.xi||(this.xi=!0):this.xi?(this.xi=
!1,0===this.Jb&&this.setSize(Math.round(this.fp/this.devicePixelRatio),Math.round(this.ep/this.devicePixelRatio),!0)):(this.fp=this.width,this.ep=this.height));this.Qi&&(e=this.kn(),this.Xi=this.Uc,e&&(this.Qi=!1,this.Uc=1,this.trigger(W.prototype.k.Rm,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.eu(c);!this.ba&&!this.kc||this.rl||this.Dh||a||(this.ba=!1,this.n?this.ub():this.Yb(),this.Bh&&(this.canvas&&this.canvas.toDataURL&&(this.Op=this.canvas.toDataURL(this.Bh[0],this.Bh[1]),window.cr_onSnapshot&&
window.cr_onSnapshot(this.Op),this.trigger(W.prototype.k.Jq,null)),this.Bh=null));this.rw||(this.Yc++,this.ti++,this.Ci++);this.mh+=Sa()-h}}};d.prototype.eu=function(a){var c,e,h,b,k,f,n,m;1E3<=a-this.$e&&(this.$e+=1E3,1E3<=a-this.$e&&(this.$e=a),this.Kk=this.Ci,this.Ci=0,this.uk=this.mh,this.mh=0);c=0;0!==this.Ri&&(c=a-this.Ri,0>c&&(c=0),this.Qe=c/=1E3,.5<this.Qe?this.Qe=0:this.Qe>1/this.Yo&&(this.Qe=1/this.Yo));this.Ri=a;this.Ef=this.Qe*this.ng;this.$b.add(this.Ef);this.Wj.add(c);a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Mi)&&!this.vc;2<=this.Jb||a&&0<this.Jf?(c=this.Xa/this.Wa,e=this.width/this.height,h=this.Jb,a&&0<this.Jf&&(h=this.Jf),this.wg=2!==h&&e>c||2===h&&e<c?this.height/this.Wa:this.width/this.Xa,this.ma&&(this.ma.pm(this.ma.scrollX),this.ma.qm(this.ma.scrollY))):this.wg=this.Xe?this.devicePixelRatio:1;this.pb();this.Qc++;this.md.Ku();this.Qc--;this.pb();this.Qc++;e=this.dp.pd();a=0;for(c=e.length;a<c;a++)e[a].Aw();a=
0;for(c=this.q.length;a<c;a++)if(f=this.q[a],!f.B&&(f.Aa.length||f.wa.length))for(e=0,h=f.d.length;e<h;e++)for(n=f.d[e],b=0,k=n.J.length;b<k;b++)n.J[b].Tb();a=0;for(c=this.q.length;a<c;a++)if(f=this.q[a],!f.B&&(f.Aa.length||f.wa.length))for(e=0,h=f.d.length;e<h;e++)for(n=f.d[e],b=0,k=n.J.length;b<k;b++)m=n.J[b],m.yu&&m.yu();e=this.Pl.pd();a=0;for(c=e.length;a<c;a++)e[a].Tb();this.Qc--;this.Jt();for(a=0;this.rk&&10>a++;)this.Gn(this.rk);a=0;for(c=this.xd.length;a<c;a++)this.xd[a].$k=!1;this.ma.Se&&
this.ma.Se.Ya();Q(this.hm);this.Qc++;a=0;for(c=this.q.length;a<c;a++)if(f=this.q[a],!f.B&&(f.Aa.length||f.wa.length))for(e=0,h=f.d.length;e<h;e++)for(n=f.d[e],b=0,k=n.J.length;b<k;b++)m=n.J[b],m.mg&&m.mg();e=this.Ql.pd();a=0;for(c=e.length;a<c;a++)e[a].mg();this.Qc--};d.prototype.mf=function(){var a,c,e,h,b,k,f,n,m;a=0;for(c=this.q.length;a<c;a++)if(f=this.q[a],!f.B)for(e=0,h=f.d.length;e<h;e++)if(n=f.d[e],n.mf&&n.mf(),n.J)for(b=0,k=n.J.length;b<k;b++)m=n.J[b],m.mf&&m.mf()};d.prototype.Gn=function(a){var c=
this.ma;this.ma.Wu();var e,h,b;if(this.n)for(e=0,h=this.q.length;e<h;e++)b=this.q[e],b.B||!b.Rj||b.global&&0!==b.d.length||-1!==a.Qg.indexOf(b)||b.Rj();c==a&&Q(this.md.Ub);Q(this.hm);this.Ap(!0);a.zm();this.Ap(!1);this.ba=!0;this.pb()};d.prototype.Ap=function(a){var c,e,h,b,k,f,n,m,g;c=0;for(e=this.Aa.length;c<e;c++)h=this.Aa[c],a?h.ph&&h.ph():h.qh&&h.qh();c=0;for(e=this.q.length;c<e;c++)if(h=this.q[c],h.global||h.la.Cj)for(b=0,k=h.d.length;b<k;b++)if(f=h.d[b],a?f.ph&&f.ph():f.qh&&f.qh(),f.J)for(n=
0,m=f.J.length;n<m;n++)g=f.J[n],a?g.ph&&g.ph():g.qh&&g.qh()};d.prototype.Ih=function(a){this.Pl.add(a)};d.prototype.Up=function(a){this.Ql.add(a)};d.prototype.Gg=function(a){return a&&-1!==a.nh?this.Qe*a.nh:this.Ef};d.prototype.Yb=function(){this.ma.Yb(this.Ba);this.Cd&&this.Ba.present()};d.prototype.ub=function(){this.ka&&(this.Re=1,this.ma.Df(this.n));this.ma.ub(this.n);this.n.Cu()};d.prototype.Xn=function(a){a=a.toString();return this.Hd.hasOwnProperty(a)?this.Hd[a]:null};var H=[];d.prototype.Ie=
function(a){var c,e;c=a.type.name;var h=null;if(this.Pe.hasOwnProperty(c)){if(h=this.Pe[c],h.contains(a))return}else h=H.length?H.pop():new ba,this.Pe[c]=h;h.add(a);this.le=!0;if(a.Ob)for(c=0,e=a.siblings.length;c<e;c++)this.Ie(a.siblings[c]);this.ll&&h.qg.push(a);this.kl||(this.Qc++,this.trigger(Object.getPrototypeOf(a.type.la).k.Kq,a),this.Qc--)};d.prototype.pb=function(){if(this.le){var a,c,e,h,b,k;this.ll=!0;e=0;for(b=this.Mc.length;e<b;++e)for(a=this.Mc[e],c=a.type,c.d.push(a),h=0,k=c.wa.length;h<
k;++h)c.wa[h].d.push(a),c.wa[h].lg=!0;Q(this.Mc);this.Eq();Ra(this.Pe);this.le=this.ll=!1}};d.prototype.Eq=function(){for(var a in this.Pe)this.Pe.hasOwnProperty(a)&&this.qq(this.Pe[a])};d.prototype.qq=function(a){var c=a.pd(),e=c[0].type,h,b,k,f,n,m;Ua(e.d,a);e.lg=!0;0===e.d.length&&(e.Uh=!1);h=0;for(b=e.wa.length;h<b;++h)m=e.wa[h],Ua(m.d,a),m.lg=!0;h=0;for(b=this.md.Ub.length;h<b;++h)if(n=this.md.Ub[h],n.Cb.hasOwnProperty(e.index)&&Ua(n.Cb[e.index].Bd,a),!e.B)for(k=0,f=e.wa.length;k<f;++k)m=e.wa[k],
n.Cb.hasOwnProperty(m.index)&&Ua(n.Cb[m.index].Bd,a);if(n=c[0].e){if(n.qc)for(k=n.d,h=0,b=k.length;h<b;++h)f=k[h],a.contains(f)&&(f.ca(),n.nb.update(f,f.Rb,null),f.Rb.set(0,0,-1,-1));Ua(n.d,a);n.xh(0)}for(h=0;h<c.length;++h)this.pq(c[h],e);a.clear();H.push(a);this.ba=!0};d.prototype.pq=function(a,c){var e,h,b;e=0;for(h=this.Dn.length;e<h;++e)this.Dn[e](a);a.ge&&c.ji.update(a,a.ge,null);(e=a.e)&&e.gg(a,!0);if(a.J)for(e=0,h=a.J.length;e<h;++e)b=a.J[e],b.lf&&b.lf(),b.behavior.cj.remove(a);this.dp.remove(a);
this.Pl.remove(a);this.Ql.remove(a);a.lf&&a.lf();this.Hd.hasOwnProperty(a.uid.toString())&&delete this.Hd[a.uid.toString()];this.ej--;100>c.pi.length&&c.pi.push(a)};d.prototype.zn=function(a,c,e,h){if(a.B){var b=P(Math.random()*a.Yf.length);return this.zn(a.Yf[b],c,e,h)}return a.tc?this.he(a.tc,c,!1,e,h,!1):null};var R=[];d.prototype.he=function(a,c,e,h,b,k){var f,n,m,g;if(!a)return null;var d=this.q[a[1]],q=d.la.re;if(this.Qi&&q&&!d.nl||q&&!this.n&&11===a[0][11])return null;var y=c;q||(c=null);var l;
d.pi.length?(l=d.pi.pop(),l.fc=!0,d.la.ja.call(l,d)):(l=new d.la.ja(d),l.fc=!1);!e||k||this.Hd.hasOwnProperty(a[2].toString())?l.uid=this.oh++:l.uid=a[2];this.Hd[l.uid.toString()]=l;l.vp=this.bp++;l.We=d.d.length;f=0;for(n=this.Mc.length;f<n;++f)this.Mc[f].type===d&&l.We++;l.Lg=zb;l.toString=Ab;m=a[3];if(l.fc)Ra(l.aa);else{l.aa={};if("undefined"!==typeof cr_is_preview)for(l.ko=[],l.ko.length=m.length,f=0,n=m.length;f<n;f++)l.ko[f]=m[f][1];l.Ta=[];l.Ta.length=m.length}f=0;for(n=m.length;f<n;f++)l.Ta[f]=
m[f][0];if(q){var v=a[0];l.x=fa(h)?v[0]:h;l.y=fa(b)?v[1]:b;l.z=v[2];l.width=v[3];l.height=v[4];l.depth=v[5];l.j=v[6];l.opacity=v[7];l.Lb=v[8];l.Mb=v[9];l.qb=v[10];f=v[11];!this.n&&d.L.length&&(l.qb=f);l.yg=cb(l.qb);this.u&&db(l,l.qb,this.u);if(l.fc){f=0;for(n=v[12].length;f<n;f++)for(m=0,g=v[12][f].length;m<g;m++)l.Ca[f][m]=v[12][f][m];l.ga.set(0,0,0,0);l.ge.set(0,0,-1,-1);l.Rb.set(0,0,-1,-1);l.bb.De(l.ga);Q(l.kk)}else{l.Ca=v[12].slice(0);f=0;for(n=l.Ca.length;f<n;f++)l.Ca[f]=v[12][f].slice(0);l.Z=
[];l.Wd=[];l.Wd.length=d.L.length;l.ga=new ta(0,0,0,0);l.ge=new ta(0,0,-1,-1);l.Rb=new ta(0,0,-1,-1);l.bb=new ua;l.kk=[];l.K=Db;l.tr=Eb;l.sb=Fb;l.ca=Gb;l.gq=Hb;l.Mm=Ib;l.hd=Jb}l.Ge=!1;l.$u=0;l.Zu=0;l.Yu=null;14===v.length&&(l.Ge=!0,l.$u=v[13][0],l.Zu=v[13][1],l.Yu=v[13][2]);f=0;for(n=d.L.length;f<n;f++)l.Wd[f]=!0;l.Kd=!0;l.$c=Kb;l.$c();l.hq=!!l.Z.length;l.$h=!0;l.ok=!0;d.Th=!0;l.visible=!0;l.nh=-1;l.e=c;l.bd=c.d.length;l.Re=0;"undefined"===typeof l.M&&(l.M=null);this.ba=l.sd=!0}var r;Q(R);f=0;for(n=
d.wa.length;f<n;f++)R.push.apply(R,d.wa[f].Aa);R.push.apply(R,d.Aa);if(l.fc)for(f=0,n=R.length;f<n;f++){var t=R[f];r=l.J[f];r.fc=!0;t.behavior.ja.call(r,t,l);v=a[4][f];m=0;for(g=v.length;m<g;m++)r.A[m]=v[m];r.R();t.behavior.cj.add(l)}else for(l.J=[],f=0,n=R.length;f<n;f++)t=R[f],r=new t.behavior.ja(t,l),r.fc=!1,r.A=a[4][f].slice(0),r.R(),l.J.push(r),t.behavior.cj.add(l);v=a[5];if(l.fc)for(f=0,n=v.length;f<n;f++)l.A[f]=v[f];else l.A=v.slice(0);this.Mc.push(l);this.le=!0;c&&(c.vg(l,!0),1!==c.yc||1!==
c.zc)&&(d.Uh=!0);this.ej++;if(d.Ob){if(l.Ob=!0,l.fc?Q(l.siblings):l.siblings=[],!e&&!k){f=0;for(n=d.Xb.length;f<n;f++)if(d.Xb[f]!==d){if(!d.Xb[f].tc)return null;l.siblings.push(this.he(d.Xb[f].tc,y,!1,q?l.x:h,q?l.y:b,!0))}f=0;for(n=l.siblings.length;f<n;f++)for(l.siblings[f].siblings.push(l),m=0;m<n;m++)f!==m&&l.siblings[f].siblings.push(l.siblings[m])}}else l.Ob=!1,l.siblings=null;l.R();f=0;for(n=l.J.length;f<n;f++)l.J[f].xu&&l.J[f].xu();return l};d.prototype.Tk=function(a){var c,e;c=0;for(e=this.ma.N.length;c<
e;c++){var h=this.ma.N[c];if(fb(h.name,a))return h}return null};d.prototype.Ig=function(a){a=P(a);0>a&&(a=0);a>=this.ma.N.length&&(a=this.ma.N.length-1);return this.ma.N[a]};d.prototype.sk=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].da().ia=!0};d.prototype.wh=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].wh()};d.prototype.$l=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].$l()};d.prototype.dg=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].dg()};d.prototype.dq=function(a){if(a.Th){var c,
e,h=a.d;c=0;for(e=h.length;c<e;++c)h[c].Mm();h=this.Mc;c=0;for(e=h.length;c<e;++c)h[c].type===a&&h[c].Mm();a.Th=!1}};d.prototype.Qn=function(a,c,e,h){var b,k,f=a?1!==a.yc||1!==a.zc:!1;if(c.B)for(a=0,b=c.Yf.length;a<b;++a)k=c.Yf[a],f||k.Uh?za(h,k.d):(this.dq(k),k.ji.rj(e,h));else f||c.Uh?za(h,c.d):(this.dq(c),c.ji.rj(e,h))};d.prototype.Zn=function(a,c,e,h){var b,k;b=0;for(k=c.length;b<k;++b)this.Qn(a,c[b],e,h)};d.prototype.tt=function(a,c,e){var h=this.Qp;h&&this.Zn(a,h.Ol,c,e)};d.prototype.Lj=function(a,
c,e){var h=a.da(),b,k,f,n,m=this.kb().Ib.xc,g,d,l;if(h.ia)for(h.ia=!1,Q(h.d),b=0,n=a.d.length;b<n;b++)f=a.d[b],f.ca(),g=f.e.gb(c,e,!0),d=f.e.gb(c,e,!1),f.sb(g,d)?h.d.push(f):m&&h.Q.push(f);else{k=0;l=m?h.Q:h.d;b=0;for(n=l.length;b<n;b++)f=l[b],f.ca(),g=f.e.gb(c,e,!0),d=f.e.gb(c,e,!1),f.sb(g,d)&&(m?h.d.push(f):(h.d[k]=h.d[b],k++));l.length=k}a.rd();return h.Zk()};d.prototype.sf=function(a,c){if(!(a&&c&&a!==c&&a.sd&&c.sd))return!1;a.ca();c.ca();var e=a.e,h=c.e,b,k,f,n,m,g,d,l;if(e===h||e.yc===h.yc&&
h.zc===h.zc&&e.scale===h.scale&&e.j===h.j&&e.cd===h.cd){if(!a.ga.Ot(c.ga)||!a.bb.lo(c.bb)||a.Ge&&c.Ge)return!1;if(a.Ge)return this.Tp(a,c);if(c.Ge)return this.Tp(c,a);d=a.M&&!a.M.qe();b=c.M&&!c.M.qe();if(!d&&!b)return!0;d?(a.M.$d(a.width,a.height,a.j),d=a.M):(this.Xc.Ce(a.bb,a.x,a.y,a.width,a.height),d=this.Xc);b?(c.M.$d(c.width,c.height,c.j),l=c.M):(this.Xc.Ce(c.bb,c.x,c.y,c.width,c.height),l=this.Xc);return d.Rg(l,c.x-a.x,c.y-a.y)}d=a.M&&!a.M.qe();b=c.M&&!c.M.qe();d?(a.M.$d(a.width,a.height,a.j),
this.Xc.Ip(a.M)):this.Xc.Ce(a.bb,a.x,a.y,a.width,a.height);d=this.Xc;b?(c.M.$d(c.width,c.height,c.j),this.Bm.Ip(c.M)):this.Bm.Ce(c.bb,c.x,c.y,c.width,c.height);l=this.Bm;b=0;for(k=d.Ac;b<k;b++)f=2*b,n=f+1,m=d.Ka[f],g=d.Ka[n],d.Ka[f]=e.xa(m+a.x,g+a.y,!0),d.Ka[n]=e.xa(m+a.x,g+a.y,!1);d.ca();b=0;for(k=l.Ac;b<k;b++)f=2*b,n=f+1,m=l.Ka[f],g=l.Ka[n],l.Ka[f]=h.xa(m+c.x,g+c.y,!0),l.Ka[n]=h.xa(m+c.x,g+c.y,!1);l.ca();return d.Rg(l,0,0)};var B=new ua;new ta(0,0,0,0);var I=[];d.prototype.Tp=function(a,c){var e,
h,b,k,f=c.ga,n=a.x,m=a.y;a.Rn(f,I);var g=c.M&&!c.M.qe();e=0;for(h=I.length;e<h;++e)if(b=I[e],k=b.xp,f.Pt(k,n,m)&&(B.De(k),B.offset(n,m),B.lo(c.bb)))if(g)if(c.M.$d(c.width,c.height,c.j),b.of){if(b.of.Rg(c.M,c.x-(n+k.left),c.y-(m+k.top)))return Q(I),!0}else{if(this.Xc.Ce(B,0,0,k.right-k.left,k.bottom-k.top),this.Xc.Rg(c.M,c.x,c.y))return Q(I),!0}else if(b.of){if(this.Xc.Ce(c.bb,0,0,c.width,c.height),b.of.Rg(this.Xc,-(n+k.left),-(m+k.top)))return Q(I),!0}else return Q(I),!0;Q(I);return!1};d.prototype.$p=
function(a,c){if(!c)return!1;var e,h,b,k,f;e=0;for(h=a.Aa.length;e<h;e++)if(a.Aa[e].behavior instanceof c)return!0;if(!a.B)for(e=0,h=a.wa.length;e<h;e++)for(f=a.wa[e],b=0,k=f.Aa.length;b<k;b++)if(f.Aa[b].behavior instanceof c)return!0;return!1};d.prototype.Hm=function(a){return this.$p(a,$b.Jv)};d.prototype.Im=function(a){return this.$p(a,$b.Kv)};var G=[];d.prototype.nc=function(a){var c,e,h;a.ca();this.tt(a.e,a.ga,G);c=0;for(e=G.length;c<e;++c)if(h=G[c],h.aa.solidEnabled&&this.sf(a,h))return Q(G),
h;Q(G);return null};d.prototype.cm=function(a,c,e,h){h=h||50;var b=a.x,k=a.y,f,n=null,m=null;for(f=0;f<h;f++)if(a.x=b+c*f,a.y=k+e*f,a.K(),!this.sf(a,n)&&((n=this.nc(a))&&(m=n),!n&&!n))return m&&this.Eu(a,c,e,m),!0;a.x=b;a.y=k;a.K();return!1};d.prototype.Eu=function(a,c,e,h){var b=2,k,f=!1;k=!1;for(var n=a.x,m=a.y;16>=b;)k=1/b,b*=2,a.x+=c*k*(f?1:-1),a.y+=e*k*(f?1:-1),a.K(),this.sf(a,h)?k=f=!0:(k=f=!1,n=a.x,m=a.y);k&&(a.x=n,a.y=m,a.K())};d.prototype.qj=function(a,c){var e=fa(c)?100:c,h=0,b=a.x,k=a.y,
f=0,n=0,m=0,g=this.nc(a);if(!g)return!0;for(;h<=e;){switch(f){case 0:n=0;m=-1;h++;break;case 1:n=1;m=-1;break;case 2:n=1;m=0;break;case 3:m=n=1;break;case 4:n=0;m=1;break;case 5:n=-1;m=1;break;case 6:n=-1;m=0;break;case 7:m=n=-1}f=(f+1)%8;a.x=P(b+n*h);a.y=P(k+m*h);a.K();if(!this.sf(a,g)&&(g=this.nc(a),!g))return!0}a.x=b;a.y=k;a.K();return!1};d.prototype.fg=function(a,c){a.sd&&c.sd&&this.hm.push([a,c])};d.prototype.Jr=function(a,c,e){var h=a.x,b=a.y,k=la(10,Oa(c,e,h,b)),f=Ka(c,e,h,b),n=this.nc(a);
if(!n)return Ha(f+oa);var m=n,g,d,l,q,y=V(5);for(g=1;36>g;g++)if(d=f-g*y,a.x=c+Math.cos(d)*k,a.y=e+Math.sin(d)*k,a.K(),!this.sf(a,m)&&(m=this.nc(a),!m)){l=d;break}36===g&&(l=Ha(f+oa));m=n;for(g=1;36>g;g++)if(d=f+g*y,a.x=c+Math.cos(d)*k,a.y=e+Math.sin(d)*k,a.K(),!this.sf(a,m)&&(m=this.nc(a),!m)){q=d;break}36===g&&(q=Ha(f+oa));a.x=h;a.y=b;a.K();if(q===l)return q;a=La(q,l)/2;a=Na(q,l)?Ha(l+a+oa):Ha(q+a);l=Math.cos(f);f=Math.sin(f);q=Math.cos(a);a=Math.sin(a);c=l*q+f*a;return Ka(0,0,l-2*c*q,f-2*c*a)};
var M=-1;d.prototype.trigger=function(a,c,e){if(!this.ma)return!1;var h=this.ma.Se;if(!h)return!1;var b=!1,k,f,n;M++;var m=h.yk;f=0;for(n=m.length;f<n;++f)k=this.Xp(a,c,m[f],e),b=b||k;k=this.Xp(a,c,h,e);M--;return b||k};d.prototype.Xp=function(a,c,e,h){var b=!1,k,f,n,m;if(c)for(n=this.Fm(a,c,c.type.name,e,h),b=b||n,m=c.type.wa,k=0,f=m.length;k<f;++k)n=this.Fm(a,c,m[k].name,e,h),b=b||n;else n=this.Fm(a,c,"system",e,h),b=b||n;return b};d.prototype.Fm=function(a,c,e,h,b){var k,f=!1,n=!1,n="undefined"!==
typeof b,m=(n?h.Kn:h.Yp)[e];if(!m)return f;var g=null;h=0;for(k=m.length;h<k;++h)if(m[h].method==a){g=m[h].Dg;break}if(!g)return f;var d;n?d=g[b]:d=g;if(!d)return null;h=0;for(k=d.length;h<k;h++)a=d[h][0],b=d[h][1],n=this.Ys(c,e,a,b),f=f||n;return f};d.prototype.Ys=function(a,c,e,h){var b,k,f=!1;this.Gm++;var n=this.kb().Ib;n&&this.wh(n.Ee);var m=1<this.Gm;this.wh(e.Ee);m&&this.Fu();var g=this.am(e);g.Ib=e;a&&(b=this.types[c].da(),b.ia=!1,Q(b.d),b.d[0]=a,this.types[c].rd());a=!0;if(e.parent){c=g.Sp;
for(b=e.parent;b;)c.push(b),b=b.parent;c.reverse();b=0;for(k=c.length;b<k;b++)if(!c[b].Mu()){a=!1;break}}a&&(this.ti++,e.xc?e.Lu(h):e.Ya(),f=f||g.Ze);this.rp();m&&this.wu();this.dg(e.Ee);n&&this.dg(n.Ee);this.le&&0===this.Qc&&0===M&&!this.ol&&this.pb();this.Gm--;return f};d.prototype.Sn=function(){var a=this.kb();return a.Ib.rb[a.Gb]};d.prototype.Vt=function(){return 0===this.kb().Gb};d.prototype.Fu=function(){this.Zi++;this.Zi>=this.Jl.length&&this.Jl.push([])};d.prototype.wu=function(){this.Zi--};
d.prototype.Tn=function(){return this.Jl[this.Zi]};d.prototype.am=function(a){this.si++;this.si>=this.Ek.length&&this.Ek.push(new Lb);var c=this.kb();c.reset(a);return c};d.prototype.rp=function(){this.si--};d.prototype.kb=function(){return this.Ek[this.si]};d.prototype.Un=function(a,c){for(var e,h,b,k,f,n;c;){e=0;for(h=c.Dc.length;e<h;e++)if(n=c.Dc[e],n instanceof Mb&&fb(a,n.name))return n;c=c.parent}e=0;for(h=this.xd.length;e<h;e++)for(f=this.xd[e],b=0,k=f.je.length;b<k;b++)if(n=f.je[b],n instanceof
Mb&&fb(a,n.name))return n;return null};d.prototype.Vn=function(a){var c,e;c=0;for(e=this.Rc.length;c<e;c++)if(this.Rc[c].V===a)return this.Rc[c];return null};d.prototype.Fi=function(a){var c,e;c=0;for(e=this.q.length;c<e;c++)if(this.q[c].V===a)return this.q[c];return null};d.prototype.it=function(a){var c,e;c=0;for(e=this.xf.length;c<e;c++)if(this.xf[c].V===a)return this.xf[c];return null};d.prototype.Sr=function(a,c){this.Bh=[a,c];this.ba=!0};d.prototype.Jt=function(){var a=this,c=this.xj,e=this.Ed,
h=this.dh,b=!1;this.Mp&&(b=!0,c="__c2_continuouspreview",this.Mp=!1);if(c.length){this.pb();e=this.Qu();if(p()&&!this.kc)t(c,e,function(){da("Saved state to IndexedDB storage ("+e.length+" bytes)");a.Ed=e;a.trigger(W.prototype.k.$j,null);a.Ed="";b&&g()},function(h){try{localStorage.setItem("__c2save_"+c,e),da("Saved state to WebStorage ("+e.length+" bytes)"),a.Ed=e,a.trigger(W.prototype.k.$j,null),a.Ed="",b&&g()}catch(k){da("Failed to save game state: "+h+"; "+k),a.trigger(W.prototype.k.Vm,null)}});
else try{localStorage.setItem("__c2save_"+c,e),da("Saved state to WebStorage ("+e.length+" bytes)"),a.Ed=e,this.trigger(W.prototype.k.$j,null),a.Ed="",b&&g()}catch(k){da("Error saving to WebStorage: "+k),a.trigger(W.prototype.k.Vm,null)}this.dh=this.xj="";this.Va=null}if(h.length){if(p()&&!this.kc)u(h,function(c){c?(a.Va=c,da("Loaded state from IndexedDB storage ("+a.Va.length+" bytes)")):(a.Va=localStorage.getItem("__c2save_"+h)||"",da("Loaded state from WebStorage ("+a.Va.length+" bytes)"));a.Dh=
!1;a.Va||(a.Va=null,a.trigger(W.prototype.k.Sh,null))},function(){a.Va=localStorage.getItem("__c2save_"+h)||"";da("Loaded state from WebStorage ("+a.Va.length+" bytes)");a.Dh=!1;a.Va||(a.Va=null,a.trigger(W.prototype.k.Sh,null))});else{try{this.Va=localStorage.getItem("__c2save_"+h)||"",da("Loaded state from WebStorage ("+this.Va.length+" bytes)")}catch(f){this.Va=null}this.Dh=!1;a.Va||(a.Va=null,a.trigger(W.prototype.k.Sh,null))}this.xj=this.dh=""}null!==this.Va&&(this.pb(),this.du(this.Va)?(this.Ed=
this.Va,this.trigger(W.prototype.k.Qq,null),this.Ed=""):a.trigger(W.prototype.k.Sh,null),this.Va=null)};d.prototype.Qu=function(){var c,e,h,b,k,f,n,m={c2save:!0,version:1,rt:{time:this.$b.ua,walltime:this.Wj.ua,timescale:this.ng,tickcount:this.Yc,execcount:this.ti,next_uid:this.oh,running_layout:this.ma.V,start_time_offset:Date.now()-this.Gj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(e=this.q.length;c<e;c++)if(k=this.q[c],!k.B&&!this.Hm(k)){f={instances:[]};Qa(k.aa)&&
(f.ex=a(k.aa));h=0;for(b=k.d.length;h<b;h++)f.instances.push(this.om(k.d[h]));m.types[k.V.toString()]=f}c=0;for(e=this.Rc.length;c<e;c++)h=this.Rc[c],m.layouts[h.V.toString()]=h.xb();b=m.events.groups;c=0;for(e=this.xf.length;c<e;c++)h=this.xf[c],b[h.V.toString()]=this.Ng[h.Mg].Lf;e=m.events.cnds;for(n in this.fe)this.fe.hasOwnProperty(n)&&(c=this.fe[n],Qa(c.aa)&&(e[n]={ex:a(c.aa)}));e=m.events.acts;for(n in this.Xd)this.Xd.hasOwnProperty(n)&&(c=this.Xd[n],Qa(c.aa)&&(e[n]={ex:a(c.aa)}));e=m.events.vars;
for(n in this.rg)this.rg.hasOwnProperty(n)&&(c=this.rg[n],c.Ni||c.parent&&!c.Xg||(e[n]=c.data));m.system=this.md.xb();return JSON.stringify(m)};d.prototype.zp=function(){var a,c,e,h,b,k;this.Hd={};a=0;for(c=this.q.length;a<c;a++)if(e=this.q[a],!e.B)for(h=0,b=e.d.length;h<b;h++)k=e.d[h],this.Hd[k.uid.toString()]=k};d.prototype.du=function(a){var c;try{c=JSON.parse(a)}catch(e){return!1}if(!c.c2save||1<c.version)return!1;this.Tg=!0;a=c.rt;this.$b.reset();this.$b.ua=a.time;this.Wj.reset();this.Wj.ua=
a.walltime||0;this.ng=a.timescale;this.Yc=a.tickcount;this.ti=a.execcount;this.Gj=Date.now()-a.start_time_offset;var h=a.running_layout;if(h!==this.ma.V)if(h=this.Vn(h))this.Gn(h);else return;var b,k,f,n,m,g,d;g=c.types;for(k in g)if(g.hasOwnProperty(k)&&(n=this.Fi(parseInt(k,10)))&&!n.B&&!this.Hm(n)){g[k].ex?n.aa=g[k].ex:Ra(n.aa);m=n.d;f=g[k].instances;h=0;for(b=na(m.length,f.length);h<b;h++)this.Wi(m[h],f[h]);h=f.length;for(b=m.length;h<b;h++)this.Ie(m[h]);h=m.length;for(b=f.length;h<b;h++){m=null;
if(n.la.re&&(m=this.ma.Ei(f[h].w.l),!m))continue;m=this.he(n.tc,m,!1,0,0,!0);this.Wi(m,f[h])}n.lg=!0}this.pb();this.zp();b=c.layouts;for(k in b)b.hasOwnProperty(k)&&(h=this.Vn(parseInt(k,10)))&&h.Pb(b[k]);b=c.events.groups;for(k in b)b.hasOwnProperty(k)&&(h=this.it(parseInt(k,10)))&&this.Ng[h.Mg]&&this.Ng[h.Mg].Ru(b[k]);h=c.events.cnds;for(k in this.fe)this.fe.hasOwnProperty(k)&&(h.hasOwnProperty(k)?this.fe[k].aa=h[k].ex:this.fe[k].aa={});h=c.events.acts;for(k in this.Xd)this.Xd.hasOwnProperty(k)&&
(h.hasOwnProperty(k)?this.Xd[k].aa=h[k].ex:this.Xd[k].aa={});h=c.events.vars;for(k in h)h.hasOwnProperty(k)&&this.rg.hasOwnProperty(k)&&(this.rg[k].data=h[k]);this.oh=a.next_uid;this.Tg=!1;h=0;for(b=this.wi.length;h<b;++h)m=this.wi[h],this.trigger(Object.getPrototypeOf(m.type.la).k.Rh,m);Q(this.wi);this.md.Pb(c.system);h=0;for(b=this.q.length;h<b;h++)if(n=this.q[h],!n.B&&!this.Hm(n))for(c=0,k=n.d.length;c<k;c++){m=n.d[c];if(n.Ob)for(g=m.Lg(),Q(m.siblings),a=0,f=n.Xb.length;a<f;a++)d=n.Xb[a],n!==d&&
m.siblings.push(d.d[g]);m.Je&&m.Je();if(m.J)for(a=0,f=m.J.length;a<f;a++)g=m.J[a],g.Je&&g.Je()}return this.ba=!0};d.prototype.om=function(c,e){var h,b,k,f,n;f=c.type;k=f.la;var m={};e?m.c2=!0:m.uid=c.uid;Qa(c.aa)&&(m.ex=a(c.aa));if(c.Ta&&c.Ta.length)for(m.ivs={},h=0,b=c.Ta.length;h<b;h++)m.ivs[c.type.hl[h].toString()]=c.Ta[h];if(k.re){k={x:c.x,y:c.y,w:c.width,h:c.height,l:c.e.V,zi:c.hd()};0!==c.j&&(k.a=c.j);1!==c.opacity&&(k.o=c.opacity);.5!==c.Lb&&(k.hX=c.Lb);.5!==c.Mb&&(k.hY=c.Mb);0!==c.qb&&(k.bm=
c.qb);c.visible||(k.v=c.visible);c.sd||(k.ce=c.sd);-1!==c.nh&&(k.mts=c.nh);if(f.L.length)for(k.fx=[],h=0,b=f.L.length;h<b;h++)n=f.L[h],k.fx.push({name:n.name,active:c.Wd[n.index],params:c.Ca[n.index]});m.w=k}if(c.J&&c.J.length)for(m.behs={},h=0,b=c.J.length;h<b;h++)f=c.J[h],f.xb&&(m.behs[f.type.V.toString()]=f.xb());c.xb&&(m.data=c.xb());return m};d.prototype.kt=function(a,c){var e,h;e=0;for(h=a.hl.length;e<h;e++)if(a.hl[e]===c)return e;return-1};d.prototype.gt=function(a,c){var e,h;e=0;for(h=a.J.length;e<
h;e++)if(a.J[e].type.V===c)return e;return-1};d.prototype.Wi=function(a,c,e){var h,b,k,f,n;n=a.type;var m=n.la;if(e){if(!c.c2)return}else a.uid=c.uid;c.ex?a.aa=c.ex:Ra(a.aa);if(b=c.ivs)for(h in b)b.hasOwnProperty(h)&&(k=this.kt(n,parseInt(h,10)),0>k||k>=a.Ta.length||(f=b[h],null===f&&(f=NaN),a.Ta[k]=f));if(m.re){k=c.w;a.e.V!==k.l&&(b=a.e,a.e=this.ma.Ei(k.l),a.e?(b.gg(a,!0),a.e.vg(a,!0),a.K(),a.e.xh(0)):(a.e=b,e||this.Ie(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.bd=k.zi;a.j=k.hasOwnProperty("a")?
k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.Lb=k.hasOwnProperty("hX")?k.hX:.5;a.Mb=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.sd=k.hasOwnProperty("ce")?k.ce:!0;a.nh=k.hasOwnProperty("mts")?k.mts:-1;a.qb=k.hasOwnProperty("bm")?k.bm:0;a.yg=cb(a.qb);this.u&&db(a,a.qb,this.u);a.K();if(k.hasOwnProperty("fx"))for(e=0,b=k.fx.length;e<b;e++)f=n.Rk(k.fx[e].name),0>f||(a.Wd[f]=k.fx[e].active,a.Ca[f]=k.fx[e].params);a.$c()}if(n=c.behs)for(h in n)n.hasOwnProperty(h)&&(e=this.gt(a,
parseInt(h,10)),0>e||a.J[e].Pb(n[h]));c.data&&a.Pb(c.data)};d.prototype.Ln=function(a,c,e){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,e)},e)};d.prototype.$s=function(a,c){this.Ln("data.js",function(e){var h=new FileReader;h.onload=function(c){a(c.target.result)};h.onerror=c;h.readAsText(e)},c)};var T=[],F=0;d.prototype.Ll=function(){if(T.length&&!(8<=F)){F++;var a=T.shift();this.Ur(a.filename,a.Xu,a.vs)}};d.prototype.Zs=function(a,c,e){var h=this;
T.push({filename:a,Xu:function(a){F--;h.Ll();c(a)},vs:function(a){F--;h.Ll();e(a)}});this.Ll()};d.prototype.Ur=function(a,c,e){this.Ln(a,function(a){var e=new FileReader;e.onload=function(a){c(a.target.result)};e.readAsArrayBuffer(a)},e)};d.prototype.bt=function(a,c,e){var h="",b=a.toLowerCase(),k=b.substr(b.length-4),b=b.substr(b.length-5);".mp4"===k?h="video/mp4":".webm"===b?h="video/webm":".m4a"===k?h="audio/mp4":".mp3"===k&&(h="audio/mpeg");this.Zs(a,function(a){a=URL.createObjectURL(new Blob([a],
{type:h}));c(a)},e)};d.prototype.Qt=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.prototype.Gp=function(a,c){this.oo&&!this.Qt(c)?this.bt(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};d.prototype.yj=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Nb=function(a){return new d(document.getElementById(a))};
Ob=function(a,c){return new d({dc:!0,width:a,height:c})};window.cr_createRuntime=Nb;window.cr_createDCRuntime=Ob;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Vh=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,r){var p=window.cr_getC2Runtime();p&&p.Sr(d,r)};
window.cr_sizeCanvas=function(d,r){if(0!==d&&0!==r){var p=window.cr_getC2Runtime();p&&p.setSize(d,r)}};window.cr_setSuspended=function(d){var r=window.cr_getC2Runtime();r&&r.setSuspended(d)};
(function(){function d(a,b){this.b=a;this.Se=null;this.scrollX=this.b.Xa/2;this.scrollY=this.b.Wa/2;this.scale=1;this.j=0;this.If=!0;this.name=b[0];this.su=b[1];this.ru=b[2];this.width=b[1];this.height=b[2];this.aq=b[3];this.Lp=b[4];this.V=b[5];var f=b[6],e,m;this.N=[];this.Qg=[];e=0;for(m=f.length;e<m;e++){var g=new Pb(this,f[e]);g.cp=e;this.N.push(g)}f=b[7];this.me=[];e=0;for(m=f.length;e<m;e++){var g=f[e],d=this.b.q[g[1]];d.tc||(d.tc=g);this.me.push(g);-1===this.Qg.indexOf(d)&&this.Qg.push(d)}this.L=
[];this.Z=[];this.Kd=!0;this.Ca=[];e=0;for(m=b[8].length;e<m;e++)this.L.push({id:b[8][e][0],name:b[8][e][1],Ma:-1,Tc:!1,ab:!0,index:e}),this.Ca.push(b[8][e][2].slice(0));this.$c();this.eg=new ta(0,0,1,1);this.gm=new ta(0,0,1,1);this.ze={}}function r(a,b){return a.bd-b.bd}function p(a,b){this.Ia=a;this.b=a.b;this.d=[];this.scale=1;this.j=0;this.wd=!1;this.Sd=new ta(0,0,0,0);this.Wp=new ua;this.W=this.U=this.X=this.T=0;this.tf=!1;this.Ud=-1;this.tk=0;this.name=b[0];this.index=b[1];this.V=b[2];this.visible=
b[3];this.Jc=b[4];this.Zc=b[5];this.yc=b[6];this.zc=b[7];this.opacity=b[8];this.Bi=b[9];this.qc=b[10];this.cd=b[11];this.qb=b[12];this.qs=b[13];this.yg="source-over";this.tb=this.yb=0;this.nb=null;this.Fd=l();this.Vc=!0;this.Tf=new ta(0,0,-1,-1);this.ib=new ta(0,0,-1,-1);this.qc&&(this.nb=new bb(this.b.Xa,this.b.Wa));this.ld=!1;var f=b[14],e,m;this.Rp=[];this.jc=[];this.Ag=[];e=0;for(m=f.length;e<m;e++){var g=f[e],d=this.b.q[g[1]];d.tc||(d.tc=g,d.Rr=this.index);this.jc.push(g);-1===this.Ia.Qg.indexOf(d)&&
this.Ia.Qg.push(d)}ya(this.Rp,this.jc);this.L=[];this.Z=[];this.Kd=!0;this.Ca=[];e=0;for(m=b[15].length;e<m;e++)this.L.push({id:b[15][e][0],name:b[15][e][1],Ma:-1,Tc:!1,ab:!0,index:e}),this.Ca.push(b[15][e][2].slice(0));this.$c();this.eg=new ta(0,0,1,1);this.gm=new ta(0,0,1,1)}function l(){return a.length?a.pop():[]}function t(c){Q(c);a.push(c)}d.prototype.Pu=function(a){var b=a.type.V.toString();this.ze.hasOwnProperty(b)||(this.ze[b]=[]);this.ze[b].push(this.b.om(a))};d.prototype.bo=function(){var a=
this.N[0];return!a.Zc&&1===a.opacity&&!a.Bi&&a.visible};d.prototype.$c=function(){Q(this.Z);this.Kd=!0;var a,b,f;a=0;for(b=this.L.length;a<b;a++)f=this.L[a],f.ab&&(this.Z.push(f),f.Tc||(this.Kd=!1))};d.prototype.Qk=function(a){var b,f,e;b=0;for(f=this.L.length;b<f;b++)if(e=this.L[b],e.name===a)return e;return null};var u=[],g=!0;d.prototype.zm=function(){this.Lp&&(this.Se=this.b.Fk[this.Lp],this.Se.Jm());this.b.ma=this;this.width=this.su;this.height=this.ru;this.scrollX=this.b.Xa/2;this.scrollY=this.b.Wa/
2;var a,b,f,e,m,d,l;a=0;for(f=this.b.q.length;a<f;a++)if(b=this.b.q[a],!b.B)for(m=b.d,b=0,e=m.length;b<e;b++)if(d=m[b],d.e){var h=d.e.cp;h>=this.N.length&&(h=this.N.length-1);d.e=this.N[h];-1===d.e.d.indexOf(d)&&d.e.d.push(d);d.e.tf=!0}if(!g)for(a=0,f=this.N.length;a<f;++a)this.N[a].d.sort(r);Q(u);this.Er();a=0;for(f=this.N.length;a<f;a++)d=this.N[a],d.Pr(),d.Tj();m=!1;if(!this.If){for(l in this.ze)if(this.ze.hasOwnProperty(l)&&(b=this.b.Fi(parseInt(l,10)))&&!b.B&&this.b.Im(b)){e=this.ze[l];a=0;for(f=
e.length;a<f;a++){d=null;if(b.la.re&&(d=this.Ei(e[a].w.l),!d))continue;d=this.b.he(b.tc,d,!1,0,0,!0);this.b.Wi(d,e[a]);m=!0;u.push(d)}Q(e)}a=0;for(f=this.N.length;a<f;a++)this.N[a].d.sort(r),this.N[a].tf=!0}m&&(this.b.pb(),this.b.zp());for(a=0;a<u.length;a++)if(d=u[a],d.type.Ob)for(f=d.Lg(),b=0,e=d.type.Xb.length;b<e;b++)l=d.type.Xb[b],d.type!==l&&(l.d.length>f?d.siblings.push(l.d[f]):l.tc&&(m=this.b.he(l.tc,d.e,!0,d.x,d.y,!0),this.b.pb(),l.Sj(),d.siblings.push(m),u.push(m)));a=0;for(f=this.me.length;a<
f;a++)d=this.me[a],b=this.b.q[d[1]],b.Ob||this.b.he(this.me[a],null,!0);this.b.rk=null;this.b.pb();if(this.b.Ba&&!this.b.Ha)for(a=0,f=this.b.q.length;a<f;a++)l=this.b.q[a],!l.B&&l.d.length&&l.oj&&l.oj(this.b.Ba);if(this.b.Tg)ya(this.b.wi,u);else for(a=0,f=u.length;a<f;a++)d=u[a],this.b.trigger(Object.getPrototypeOf(d.type.la).k.Rh,d);Q(u);this.b.Tg||this.b.trigger(W.prototype.k.Qm,null);this.If=!1};d.prototype.Or=function(){var a,b,f,e,m;b=a=0;for(f=this.me.length;a<f;a++)e=this.me[a],m=this.b.q[e[1]],
m.global?m.Ob||this.b.he(e,null,!0):(this.me[b]=e,b++);xa(this.me,b)};d.prototype.Wu=function(){this.b.Tg||this.b.trigger(W.prototype.k.Pq,null);this.b.kl=!0;Q(this.b.md.Ub);var a,b,f,e,m,d;if(!this.If)for(a=0,b=this.N.length;a<b;a++)for(this.N[a].Lm(),m=this.N[a].d,f=0,e=m.length;f<e;f++)d=m[f],d.type.global||this.b.Im(d.type)&&this.Pu(d);a=0;for(b=this.N.length;a<b;a++){m=this.N[a].d;f=0;for(e=m.length;f<e;f++)d=m[f],d.type.global||this.b.Ie(d);this.b.pb();Q(m);this.N[a].tf=!0}a=0;for(b=this.b.q.length;a<
b;a++)if(m=this.b.q[a],!(m.global||m.la.re||m.la.Cj||m.B)){f=0;for(e=m.d.length;f<e;f++)this.b.Ie(m.d[f]);this.b.pb()}g=!1;this.b.kl=!1};new ta(0,0,0,0);d.prototype.Yb=function(a){var b,f=a,e=!1,m=!this.b.ic;m&&(this.b.Vi||(this.b.Vi=document.createElement("canvas"),b=this.b.Vi,b.width=this.b.I,b.height=this.b.H,this.b.Bo=b.getContext("2d"),e=!0),b=this.b.Vi,f=this.b.Bo,b.width!==this.b.I&&(b.width=this.b.I,e=!0),b.height!==this.b.H&&(b.height=this.b.H,e=!0),e&&this.b.yj(f,this.b.na));f.globalAlpha=
1;f.globalCompositeOperation="source-over";this.b.wn&&!this.bo()&&f.clearRect(0,0,this.b.I,this.b.H);var g,d,e=0;for(g=this.N.length;e<g;e++)d=this.N[e],d.visible&&0<d.opacity&&11!==d.qb&&(d.d.length||!d.Zc)?d.Yb(f):d.Tj();m&&a.drawImage(b,0,0,this.b.width,this.b.height)};d.prototype.Df=function(a){a.Fp(!0);this.b.Ja||(this.b.Ja=a.Hb(this.b.I,this.b.H,this.b.na));if(this.b.Ja.Oe!==this.b.I||this.b.Ja.Ne!==this.b.H)a.deleteTexture(this.b.Ja),this.b.Ja=a.Hb(this.b.I,this.b.H,this.b.na);a.Cc(this.b.Ja);
this.b.ic||a.pf(this.b.I,this.b.H);var b,f;for(b=this.N.length-1;0<=b;--b)f=this.N[b],f.visible&&1===f.opacity&&f.Kd&&0===f.qb&&(f.d.length||!f.Zc)?f.Df(a):f.Tj();a.Fp(!1)};d.prototype.ub=function(a){var b=0<this.Z.length||this.b.pg||!this.b.ic||this.b.ka;if(b){this.b.Ja||(this.b.Ja=a.Hb(this.b.I,this.b.H,this.b.na));if(this.b.Ja.Oe!==this.b.I||this.b.Ja.Ne!==this.b.H)a.deleteTexture(this.b.Ja),this.b.Ja=a.Hb(this.b.I,this.b.H,this.b.na);a.Cc(this.b.Ja);this.b.ic||a.pf(this.b.I,this.b.H)}else this.b.Ja&&
(a.Cc(null),a.deleteTexture(this.b.Ja),this.b.Ja=null);this.b.wn&&!this.bo()&&a.clear(0,0,0,0);var f,e,m;f=0;for(e=this.N.length;f<e;f++)m=this.N[f],m.visible&&0<m.opacity&&(m.d.length||!m.Zc)?m.ub(a):m.Tj();b&&(0===this.Z.length||1===this.Z.length&&this.b.ic?(1===this.Z.length?(b=this.Z[0].index,a.Sb(this.Z[0].Ma),a.ig(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.j,0,0,this.b.I/2,this.b.H/2,this.b.$b.ua,this.Ca[b]),a.pj(this.Z[0].Ma)&&(this.b.ba=!0)):a.Sb(0),this.b.ic||a.pf(this.b.width,this.b.height),
a.Cc(null),a.Ep(!1),a.Jd(1),a.La(this.b.Ja),a.Cp(),a.Bc(),a.pc(),b=this.b.width/2,f=this.b.height/2,a.Ae(-b,f,b,f,b,-f,-b,-f),a.La(null),a.Ep(!0)):this.im(a,null,null,null))};d.prototype.Jg=function(){return 0<this.Z.length||this.b.pg||!this.b.ic||this.b.ka?this.b.Ja:null};d.prototype.Wn=function(){var a=this.N[0].Kb(),b,f,e;b=1;for(f=this.N.length;b<f;b++)e=this.N[b],(0!==e.yc||0!==e.zc)&&e.Kb()<a&&(a=e.Kb());return a};d.prototype.pm=function(a){if(!this.aq){var b=1/this.Wn()*this.b.I/2;a>this.width-
b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.ba=!0)};d.prototype.qm=function(a){if(!this.aq){var b=1/this.Wn()*this.b.H/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.ba=!0)};d.prototype.Er=function(){this.pm(this.scrollX);this.qm(this.scrollY)};d.prototype.im=function(a,b,f,e){var m=f?f.Z:b?b.Z:this.Z,g=1,d=0,h=0,n=0,l=this.b.I,q=this.b.H;f?(g=f.e.Kb(),d=f.e.Zb(),h=f.e.T,n=f.e.U,l=f.e.X,q=f.e.W):b&&(g=b.Kb(),d=b.Zb(),h=b.T,n=b.U,
l=b.X,q=b.W);var r=this.b.Mk,t,p,u,A,H=0,R=1,B,I,G=this.b.I,M=this.b.H,T=G/2,F=M/2,w=b?b.eg:this.eg,z=b?b.gm:this.gm,C=0,N=0,E=0,L=0,U=G,Aa=G,S=M,Ba=M,sa=u=0;A=f?f.e.Zb():0;if(f){t=0;for(p=m.length;t<p;t++)u+=a.ot(m[t].Ma),sa+=a.pt(m[t].Ma);L=f.ga;C=b.xa(L.left,L.top,!0,!0);E=b.xa(L.left,L.top,!1,!0);U=b.xa(L.right,L.bottom,!0,!0);S=b.xa(L.right,L.bottom,!1,!0);0!==A&&(t=b.xa(L.right,L.top,!0,!0),p=b.xa(L.right,L.top,!1,!0),N=b.xa(L.left,L.bottom,!0,!0),L=b.xa(L.left,L.bottom,!1,!0),A=Math.min(C,
U,t,N),U=Math.max(C,U,t,N),C=A,A=Math.min(E,S,p,L),S=Math.max(E,S,p,L),E=A);C-=u;E-=sa;U+=u;S+=sa;z.left=C/G;z.top=1-E/M;z.right=U/G;z.bottom=1-S/M;N=C=P(C);L=E=P(E);Aa=U=pa(U);Ba=S=pa(S);N-=u;L-=sa;Aa+=u;Ba+=sa;0>C&&(C=0);0>E&&(E=0);U>G&&(U=G);S>M&&(S=M);0>N&&(N=0);0>L&&(L=0);Aa>G&&(Aa=G);Ba>M&&(Ba=M);w.left=C/G;w.top=1-E/M;w.right=U/G;w.bottom=1-S/M}else w.left=z.left=0,w.top=z.top=0,w.right=z.right=1,w.bottom=z.bottom=1;sa=f&&(a.uh(m[0].Ma)||0!==u||0!==sa||1!==f.opacity||f.type.la.Zo)||b&&!f&&
1!==b.opacity;a.Cp();if(sa){r[H]||(r[H]=a.Hb(G,M,this.b.na));if(r[H].Oe!==G||r[H].Ne!==M)a.deleteTexture(r[H]),r[H]=a.Hb(G,M,this.b.na);a.Sb(0);a.Cc(r[H]);I=Ba-L;a.clearRect(N,M-L-I,Aa-N,I);f?f.ub(a):(a.La(this.b.Ua),a.Jd(b.opacity),a.Bc(),a.translate(-T,-F),a.pc(),a.Id(C,S,U,S,U,E,C,E,w));z.left=z.top=0;z.right=z.bottom=1;f&&(A=w.top,w.top=w.bottom,w.bottom=A);H=1;R=0}a.Jd(1);u=m.length-1;var Za=a.Zl(m[u].Ma)||!b&&!f&&!this.b.ic;t=A=0;for(p=m.length;t<p;t++){r[H]||(r[H]=a.Hb(G,M,this.b.na));if(r[H].Oe!==
G||r[H].Ne!==M)a.deleteTexture(r[H]),r[H]=a.Hb(G,M,this.b.na);a.Sb(m[t].Ma);A=m[t].index;a.pj(m[t].Ma)&&(this.b.ba=!0);0!=t||sa?(a.ig(e,1/G,1/M,z.left,z.top,z.right,z.bottom,g,d,h,n,(h+l)/2,(n+q)/2,this.b.$b.ua,f?f.Ca[A]:b?b.Ca[A]:this.Ca[A]),a.La(null),t!==u||Za?(a.Cc(r[H]),I=Ba-L,B=M-L-I,a.clearRect(N,B,Aa-N,I)):(f?a.Be(f.yb,f.tb):b&&a.Be(b.yb,b.tb),a.Cc(e)),a.La(r[R]),a.Bc(),a.translate(-T,-F),a.pc(),a.Id(C,S,U,S,U,E,C,E,w),t!==u||Za||a.La(null)):(a.Cc(r[H]),I=Ba-L,B=M-L-I,a.clearRect(N,B,Aa-N,
I),f?(f.hb&&f.hb.S?(B=f.hb.S,R=1/B.width,B=1/B.height):(R=1/f.width,B=1/f.height),a.ig(e,R,B,z.left,z.top,z.right,z.bottom,g,d,h,n,(h+l)/2,(n+q)/2,this.b.$b.ua,f.Ca[A]),f.ub(a)):(a.ig(e,1/G,1/M,0,0,1,1,g,d,h,n,(h+l)/2,(n+q)/2,this.b.$b.ua,b?b.Ca[A]:this.Ca[A]),a.La(b?this.b.Ua:this.b.Ja),a.Bc(),a.translate(-T,-F),a.pc(),a.Id(C,S,U,S,U,E,C,E,w)),z.left=z.top=0,z.right=z.bottom=1,f&&!Za&&(A=S,S=E,E=A));H=0===H?1:0;R=0===H?1:0}Za&&(a.Sb(0),f?a.Be(f.yb,f.tb):b?a.Be(b.yb,b.tb):this.b.ic||(a.pf(this.b.width,
this.b.height),T=this.b.width/2,F=this.b.height/2,E=C=0,U=this.b.width,S=this.b.height),a.Cc(e),a.La(r[R]),a.Bc(),a.translate(-T,-F),a.pc(),f&&1===m.length&&!sa?a.Id(C,E,U,E,U,S,C,S,w):a.Id(C,S,U,S,U,E,C,E,w),a.La(null))};d.prototype.Ei=function(a){var b,f;b=0;for(f=this.N.length;b<f;b++)if(this.N[b].V===a)return this.N[b];return null};d.prototype.xb=function(){var a,b,f,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.If,persist:this.ze,fx:[],layers:{}};
a=0;for(b=this.L.length;a<b;a++)f=this.L[a],e.fx.push({name:f.name,active:f.ab,params:this.Ca[f.index]});a=0;for(b=this.N.length;a<b;a++)f=this.N[a],e.layers[f.V.toString()]=f.xb();return e};d.prototype.Pb=function(a){var b,f,e,m;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.ze=a.persist;"undefined"!==typeof a.fv&&(this.If=a.fv);var g=a.fx;b=0;for(f=g.length;b<f;b++)if(e=this.Qk(g[b].name))e.ab=g[b].active,this.Ca[e.index]=g[b].params;this.$c();
b=a.layers;for(m in b)b.hasOwnProperty(m)&&(a=this.Ei(parseInt(m,10)))&&a.Pb(b[m])};Bb=d;p.prototype.$c=function(){Q(this.Z);this.Kd=!0;var a,b,f;a=0;for(b=this.L.length;a<b;a++)f=this.L[a],f.ab&&(this.Z.push(f),f.Tc||(this.Kd=!1))};p.prototype.Qk=function(a){var b,f,e;b=0;for(f=this.L.length;b<f;b++)if(e=this.L[b],e.name===a)return e;return null};p.prototype.Pr=function(){var a,b,f,e,m,g;b=a=0;for(f=this.jc.length;a<f;a++){e=this.jc[a];m=this.b.q[e[1]];g=this.b.Im(m);m=!0;if(!g||this.Ia.If){e=this.b.he(e,
this,!0);if(!e)continue;u.push(e);e.type.global&&(m=!1,this.Ag.push(e.uid))}m&&(this.jc[b]=this.jc[a],b++)}this.jc.length=b;this.b.pb();!this.b.n&&this.L.length&&(this.qb=this.qs);this.yg=cb(this.qb);this.b.u&&db(this,this.qb,this.b.u);this.Vc=!0};p.prototype.gg=function(a,b){var f=Ca(this.d,a);0>f||(b&&this.qc&&a.Rb&&a.Rb.right>=a.Rb.left&&(a.ca(),this.nb.update(a,a.Rb,null),a.Rb.set(0,0,-1,-1)),f===this.d.length-1?this.d.pop():(wa(this.d,f),this.xh(f)),this.Vc=!0)};p.prototype.vg=function(a,b){a.bd=
this.d.length;this.d.push(a);b&&this.qc&&a.Rb&&a.K();this.Vc=!0};p.prototype.Bu=function(a){this.d.unshift(a);this.xh(0)};p.prototype.ju=function(a,b,f){var e=a.hd();b=b.hd();wa(this.d,e);e<b&&b--;f&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.xh(e<b?e:b)};p.prototype.xh=function(a){-1===this.Ud?this.Ud=a:a<this.Ud&&(this.Ud=a);this.Vc=this.tf=!0};p.prototype.Lm=function(){if(this.tf){-1===this.Ud&&(this.Ud=0);var a,b,f;if(this.qc)for(a=this.Ud,b=this.d.length;a<b;++a)f=this.d[a],
f.bd=a,this.nb.fu(f.Rb);else for(a=this.Ud,b=this.d.length;a<b;++a)this.d[a].bd=a;this.tf=!1;this.Ud=-1}};p.prototype.Kb=function(a){return this.lt()*(this.b.ic||a?this.b.wg:1)};p.prototype.lt=function(){return(this.scale*this.Ia.scale-1)*this.cd+1};p.prototype.Zb=function(){return this.wd?0:Ha(this.Ia.j+this.j)};var a=[],b=[],q=[];p.prototype.Uk=function(){this.Lm();this.nb.rj(this.T,this.U,this.X,this.W,q);if(!q.length)return l();if(1===q.length){var a=l();ya(a,q[0]);Q(q);return a}for(var k=!0;1<
q.length;){for(var a=q,f=void 0,e=void 0,m=void 0,g=void 0,d=void 0,f=0,e=a.length;f<e-1;f+=2){var m=a[f],g=a[f+1],d=l(),h=m,n=g,v=d,r=0,p=0,u=0,K=h.length,D=n.length,A=void 0,H=void 0;for(v.length=K+D;r<K&&p<D;++u)A=h[r],H=n[p],A.bd<H.bd?(v[u]=A,++r):(v[u]=H,++p);for(;r<K;++r,++u)v[u]=h[r];for(;p<D;++p,++u)v[u]=n[p];k||(t(m),t(g));b.push(d)}1===e%2&&(k?(m=l(),ya(m,a[e-1]),b.push(m)):b.push(a[e-1]));ya(a,b);Q(b);k=!1}a=q[0];Q(q);return a};p.prototype.Yb=function(a){this.ld=this.Bi||1!==this.opacity||
0!==this.qb;var b=this.b.canvas,f=a,e=!1;this.ld&&(this.b.Ui||(this.b.Ui=document.createElement("canvas"),b=this.b.Ui,b.width=this.b.I,b.height=this.b.H,this.b.Ao=b.getContext("2d"),e=!0),b=this.b.Ui,f=this.b.Ao,b.width!==this.b.I&&(b.width=this.b.I,e=!0),b.height!==this.b.H&&(b.height=this.b.H,e=!0),e&&this.b.yj(f,this.b.na),this.Zc&&f.clearRect(0,0,this.b.I,this.b.H));f.globalAlpha=1;f.globalCompositeOperation="source-over";this.Zc||(f.fillStyle="rgb("+this.Jc[0]+","+this.Jc[1]+","+this.Jc[2]+")",
f.fillRect(0,0,this.b.I,this.b.H));f.save();this.wd=!0;var e=this.gb(0,0,!0,!0),m=this.gb(0,0,!1,!0);this.wd=!1;this.b.mc&&(e=Math.round(e),m=Math.round(m));this.uj(e,m,f);var g=this.Kb();f.scale(g,g);f.translate(-e,-m);this.qc?(this.ib.left=this.nb.Db(this.T),this.ib.top=this.nb.Eb(this.U),this.ib.right=this.nb.Db(this.X),this.ib.bottom=this.nb.Eb(this.W),this.Vc||!this.ib.Cg(this.Tf)?(t(this.Fd),e=this.Uk(),this.Vc=!1,this.Tf.zf(this.ib)):e=this.Fd):e=this.d;for(var d,h=null,m=0,g=e.length;m<g;++m)d=
e[m],d!==h&&(this.ks(d,f),h=d);this.qc&&(this.Fd=e);f.restore();this.ld&&(a.globalCompositeOperation=this.yg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};p.prototype.ks=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ca();var f=a.ga;f.right<this.T||f.bottom<this.U||f.left>this.X||f.top>this.W||(b.globalCompositeOperation=a.yg,a.Yb(b))}};p.prototype.Tj=function(){this.wd=!0;var a=this.gb(0,0,!0,!0),b=this.gb(0,0,!1,!0);this.wd=!1;this.b.mc&&(a=Math.round(a),b=Math.round(b));this.uj(a,b,
null)};p.prototype.uj=function(a,b,f){var e=this.Kb();this.T=a;this.U=b;this.X=a+1/e*this.b.I;this.W=b+1/e*this.b.H;this.T>this.X&&(a=this.T,this.T=this.X,this.X=a);this.U>this.W&&(a=this.U,this.U=this.W,this.W=a);a=this.Zb();0!==a&&(f&&(f.translate(this.b.I/2,this.b.H/2),f.rotate(-a),f.translate(this.b.I/-2,this.b.H/-2)),this.Sd.set(this.T,this.U,this.X,this.W),this.Sd.offset((this.T+this.X)/-2,(this.U+this.W)/-2),this.Wp.Jp(this.Sd,a),this.Wp.nn(this.Sd),this.Sd.offset((this.T+this.X)/2,(this.U+
this.W)/2),this.T=this.Sd.left,this.U=this.Sd.top,this.X=this.Sd.right,this.W=this.Sd.bottom)};p.prototype.Df=function(a){if(this.ld=this.Bi){this.b.Ua||(this.b.Ua=a.Hb(this.b.I,this.b.H,this.b.na));if(this.b.Ua.Oe!==this.b.I||this.b.Ua.Ne!==this.b.H)a.deleteTexture(this.b.Ua),this.b.Ua=a.Hb(this.b.I,this.b.H,this.b.na);a.Cc(this.b.Ua)}this.wd=!0;var b=this.gb(0,0,!0,!0),f=this.gb(0,0,!1,!0);this.wd=!1;this.b.mc&&(b=Math.round(b),f=Math.round(f));this.uj(b,f,null);b=this.Kb();a.Bc();a.scale(b,b);
a.vj(-this.Zb());a.translate((this.T+this.X)/-2,(this.U+this.W)/-2);a.pc();this.qc?(this.ib.left=this.nb.Db(this.T),this.ib.top=this.nb.Eb(this.U),this.ib.right=this.nb.Db(this.X),this.ib.bottom=this.nb.Eb(this.W),this.Vc||!this.ib.Cg(this.Tf)?(t(this.Fd),b=this.Uk(),this.Vc=!1,this.Tf.zf(this.ib)):b=this.Fd):b=this.d;for(var e,m=null,f=b.length-1;0<=f;--f)e=b[f],e!==m&&(this.ms(b[f],a),m=e);this.qc&&(this.Fd=b);this.Zc||(this.tk=this.b.Re++,a.zj(this.tk),a.Dp(1,1,1),a.On(),a.Iu())};p.prototype.ub=
function(a){var b=0,f=0;if(this.ld=this.Bi||1!==this.opacity||0<this.Z.length||0!==this.qb){this.b.Ua||(this.b.Ua=a.Hb(this.b.I,this.b.H,this.b.na));if(this.b.Ua.Oe!==this.b.I||this.b.Ua.Ne!==this.b.H)a.deleteTexture(this.b.Ua),this.b.Ua=a.Hb(this.b.I,this.b.H,this.b.na);a.Cc(this.b.Ua);this.Zc&&a.clear(0,0,0,0)}this.Zc||(this.b.ka?(a.zj(this.tk),a.Dp(this.Jc[0]/255,this.Jc[1]/255,this.Jc[2]/255),a.On(),a.Su()):a.clear(this.Jc[0]/255,this.Jc[1]/255,this.Jc[2]/255,1));this.wd=!0;var e=this.gb(0,0,
!0,!0),b=this.gb(0,0,!1,!0);this.wd=!1;this.b.mc&&(e=Math.round(e),b=Math.round(b));this.uj(e,b,null);e=this.Kb();a.Bc();a.scale(e,e);a.vj(-this.Zb());a.translate((this.T+this.X)/-2,(this.U+this.W)/-2);a.pc();this.qc?(this.ib.left=this.nb.Db(this.T),this.ib.top=this.nb.Eb(this.U),this.ib.right=this.nb.Db(this.X),this.ib.bottom=this.nb.Eb(this.W),this.Vc||!this.ib.Cg(this.Tf)?(t(this.Fd),b=this.Uk(),this.Vc=!1,this.Tf.zf(this.ib)):b=this.Fd):b=this.d;var m,g,d=null,f=0;for(m=b.length;f<m;++f)g=b[f],
g!==d&&(this.ls(b[f],a),d=g);this.qc&&(this.Fd=b);this.ld&&(b=this.Z.length?this.Z[0].Ma:0,f=this.Z.length?this.Z[0].index:0,0===this.Z.length||1===this.Z.length&&!a.Zl(b)&&1===this.opacity?(1===this.Z.length?(a.Sb(b),a.ig(this.Ia.Jg(),1/this.b.I,1/this.b.H,0,0,1,1,e,this.Zb(),this.T,this.U,(this.T+this.X)/2,(this.U+this.W)/2,this.b.$b.ua,this.Ca[f]),a.pj(b)&&(this.b.ba=!0)):a.Sb(0),a.Cc(this.Ia.Jg()),a.Jd(this.opacity),a.La(this.b.Ua),a.Be(this.yb,this.tb),a.Bc(),a.pc(),e=this.b.I/2,b=this.b.H/2,
a.Ae(-e,b,e,b,e,-b,-e,-b),a.La(null)):this.Ia.im(a,this,null,this.Ia.Jg()))};p.prototype.ls=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ca();var f=a.ga;f.right<this.T||f.bottom<this.U||f.left>this.X||f.top>this.W||(b.zj(a.Re),a.hq?this.ns(a,b):(b.Sb(0),b.Be(a.yb,a.tb),a.ub(b)))}};p.prototype.ms=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ca();var f=a.ga;f.right<this.T||f.bottom<this.U||f.left>this.X||f.top>this.W||(a.Re=this.b.Re++,0===a.qb&&1===a.opacity&&a.Kd&&a.Df&&(b.zj(a.Re),
a.Df(b)))}};p.prototype.ns=function(a,b){var f=a.Z[0].Ma,e=a.Z[0].index,m=this.Kb();if(1!==a.Z.length||b.Zl(f)||b.Du(f)||(a.j||a.e.Zb())&&b.uh(f)||1!==a.opacity||a.type.la.Zo)this.Ia.im(b,this,a,this.ld?this.b.Ua:this.Ia.Jg()),b.Bc(),b.scale(m,m),b.vj(-this.Zb()),b.translate((this.T+this.X)/-2,(this.U+this.W)/-2),b.pc();else{b.Sb(f);b.Be(a.yb,a.tb);b.pj(f)&&(this.b.ba=!0);var g=0,d=0,h=0,n=0;b.uh(f)&&(n=a.ga,g=this.xa(n.left,n.top,!0,!0),d=this.xa(n.left,n.top,!1,!0),h=this.xa(n.right,n.bottom,!0,
!0),n=this.xa(n.right,n.bottom,!1,!0),g=g/windowWidth,d=1-d/windowHeight,h=h/windowWidth,n=1-n/windowHeight);var l;a.hb&&a.hb.S?(l=a.hb.S,f=1/l.width,l=1/l.height):(f=1/a.width,l=1/a.height);b.ig(this.ld?this.b.Ua:this.Ia.Jg(),f,l,g,d,h,n,m,this.Zb(),this.T,this.U,(this.T+this.X)/2,(this.U+this.W)/2,this.b.$b.ua,a.Ca[e]);a.ub(b)}};p.prototype.gb=function(a,b,f,e){var m=this.b.devicePixelRatio;this.b.Xe&&(a*=m,b*=m);var m=this.b.mp,g=this.b.np,m=(this.Ia.scrollX-m)*this.yc+m,g=(this.Ia.scrollY-g)*
this.zc+g,d=m,h=g,n=1/this.Kb(!e);e?(d-=this.b.I*n/2,h-=this.b.H*n/2):(d-=this.b.width*n/2,h-=this.b.height*n/2);d+=a*n;h+=b*n;b=this.Zb();0!==b&&(d-=m,h-=g,a=Math.cos(b),b=Math.sin(b),e=d*a-h*b,h=h*a+d*b,d=e+m,h+=g);return f?d:h};p.prototype.xa=function(a,b,f,e){var m=this.b.mp,g=this.b.np,d=(this.Ia.scrollX-m)*this.yc+m,h=(this.Ia.scrollY-g)*this.zc+g,g=d,m=h,n=this.Zb();if(0!==n){a-=d;b-=h;var l=Math.cos(-n),n=Math.sin(-n),q=a*l-b*n;b=b*l+a*n;a=q+d;b+=h}d=1/this.Kb(!e);e?(g-=this.b.I*d/2,m-=this.b.H*
d/2):(g-=this.b.width*d/2,m-=this.b.height*d/2);g=(a-g)/d;m=(b-m)/d;a=this.b.devicePixelRatio;this.b.Xe&&!e&&(g/=a,m/=a);return f?g:m};p.prototype.xb=function(){var a,b,f,e={s:this.scale,a:this.j,vl:this.T,vt:this.U,vr:this.X,vb:this.W,v:this.visible,bc:this.Jc,t:this.Zc,px:this.yc,py:this.zc,o:this.opacity,zr:this.cd,fx:[],cg:this.Ag,instances:[]};a=0;for(b=this.L.length;a<b;a++)f=this.L[a],e.fx.push({name:f.name,active:f.ab,params:this.Ca[f.index]});return e};p.prototype.Pb=function(a){var b,f,
e;this.scale=a.s;this.j=a.a;this.T=a.vl;this.U=a.vt;this.X=a.vr;this.W=a.vb;this.visible=a.v;this.Jc=a.bc;this.Zc=a.t;this.yc=a.px;this.zc=a.py;this.opacity=a.o;this.cd=a.zr;this.Ag=a.cg||[];ya(this.jc,this.Rp);var m=new ba;b=0;for(e=this.Ag.length;b<e;++b)m.add(this.Ag[b]);f=b=0;for(e=this.jc.length;b<e;++b)m.contains(this.jc[b][2])||(this.jc[f]=this.jc[b],++f);xa(this.jc,f);f=a.fx;b=0;for(e=f.length;b<e;b++)if(a=this.Qk(f[b].name))a.ab=f[b].active,this.Ca[a.index]=f[b].params;this.$c();this.d.sort(r);
this.tf=!0};Pb=p})();
(function(){function d(a,e){var b,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===e[0];case 2:return a[0]===e[0]&&a[1]===e[1];default:for(b=0;b<c;b++)if(a[b]!==e[b])return!1;return!0}}function r(a,e){return a.index-e.index}function p(a){var e,b,c,f;2===a.length?a[0].index>a[1].index&&(e=a[0],a[0]=a[1],a[1]=e):2<a.length&&a.sort(r);a.length>=m.length&&(m.length=a.length+1);m[a.length]||(m[a.length]=[]);f=m[a.length];e=0;for(b=f.length;e<b;e++)if(c=f[e],d(a,c))return c;f.push(a);return a}
function l(a,e){this.b=a;this.Yp={};this.Kn={};this.$k=!1;this.eo=new ba;this.yk=[];this.hk=[];this.name=e[0];var b=e[1];this.je=[];var c,f;c=0;for(f=b.length;c<f;c++)this.ho(b[c],null,this.je)}function t(a){this.type=a;this.d=[];this.Q=[];this.ia=!0}function u(a,e,b){this.sheet=a;this.parent=e;this.b=a.b;this.ta=[];this.Ee=[];this.co=this.Oj=this.Em=this.cl=this.group=this.Pp=!1;this.rb=[];this.Hc=[];this.Dc=[];this.Mg="";this.Lf=this.cl=this.group=!1;this.ki=null;b[1]&&(this.Mg=b[1][1].toLowerCase(),
this.group=!0,this.cl=!!b[1][0],this.ki=[],this.Lf=this.cl,this.b.xf.push(this),this.b.Ng[this.Mg]=this);this.xc=b[2];this.V=b[4];this.group||(this.b.mn[this.V.toString()]=this);var c=b[5];a=0;for(e=c.length;a<e;a++){var f=new Qb(this,c[a]);f.index=a;this.rb.push(f);this.gn(f.type)}c=b[6];a=0;for(e=c.length;a<e;a++)f=new Rb(this,c[a]),f.index=a,this.Hc.push(f);if(8===b.length)for(b=b[7],a=0,e=b.length;a<e;a++)this.sheet.ho(b[a],this,this.Dc);this.Oi=!1;this.rb.length&&(this.Oi=null==this.rb[0].type&&
this.rb[0].jb==W.prototype.k.vq)}function g(a,e){var b,c,f;if(a&&(-1===e.indexOf(a)&&e.push(a),a.Ob))for(b=0,c=a.Xb.length;b<c;b++)f=a.Xb[b],a!==f&&-1===e.indexOf(f)&&e.push(f)}function a(a,e){this.hc=a;this.sheet=a.sheet;this.b=a.b;this.P=[];this.Da=[];this.aa={};this.index=-1;this.tg=!1;this.jb=this.b.Vd(e[1]);this.trigger=0<e[3];this.Jn=2===e[3];this.Ji=e[5];this.cu=e[6];this.V=e[7];this.b.fe[this.V.toString()]=this;-1===e[0]?(this.type=null,this.Ya=this.nm,this.Me=null,this.Lc=-1):(this.type=
this.b.q[e[0]],this.Ya=this.cu?this.Nu:this.mm,e[2]?(this.Me=this.type.Di(e[2]),this.Lc=this.type.Ok(e[2])):(this.Me=null,this.Lc=-1),this.hc.parent&&this.hc.parent.Aj());this.Jn&&(this.Ya=this.Ou);if(10===e.length){var b,c,f=e[9];b=0;for(c=f.length;b<c;b++){var m=new Sb(this,f[b]);this.P.push(m)}this.Da.length=f.length}}function b(a,e){this.hc=a;this.sheet=a.sheet;this.b=a.b;this.P=[];this.Da=[];this.aa={};this.index=-1;this.tg=!1;this.jb=this.b.Vd(e[1]);-1===e[0]?(this.type=null,this.Ya=this.nm,
this.Me=null,this.Lc=-1):(this.type=this.b.q[e[0]],this.Ya=this.mm,e[2]?(this.Me=this.type.Di(e[2]),this.Lc=this.type.Ok(e[2])):(this.Me=null,this.Lc=-1));this.V=e[3];this.b.Xd[this.V.toString()]=this;if(6===e.length){var b,c,f=e[5];b=0;for(c=f.length;b<c;b++){var m=new Sb(this,f[b]);this.P.push(m)}this.Da.length=f.length}}function q(){J++;y.length===J&&y.push(new Tb);return y[J]}function c(a,e){this.oa=a;this.hc=a.hc;this.sheet=a.sheet;this.b=a.b;this.type=e[0];this.gd=null;this.Pd=0;this.get=null;
this.xn=0;this.Ia=null;this.key=0;this.object=null;this.index=0;this.Kh=this.rf=this.Kh=this.rf=this.Mn=this.Te=this.Lh=null;this.Fc=!1;var b,c,f;switch(e[0]){case 0:case 7:this.gd=new Ub(this,e[1]);this.Pd=0;this.get=this.yt;break;case 1:this.gd=new Ub(this,e[1]);this.Pd=0;this.get=this.zt;break;case 5:this.gd=new Ub(this,e[1]);this.Pd=0;this.get=this.Dt;break;case 3:case 8:this.xn=e[1];this.get=this.wt;break;case 6:this.Ia=this.b.Al[e[1]];this.get=this.Et;break;case 9:this.key=e[1];this.get=this.Ct;
break;case 4:this.object=this.b.q[e[1]];this.get=this.Ft;this.hc.gn(this.object);this.oa instanceof Rb?this.hc.Aj():this.hc.parent&&this.hc.parent.Aj();break;case 10:this.index=e[1];a.type&&a.type.B?(this.get=this.At,this.Fc=!0):this.get=this.Bt;break;case 11:this.Lh=e[1];this.Te=null;this.get=this.xt;break;case 2:case 12:this.Mn=e[1];this.get=this.ut;break;case 13:for(this.get=this.Gt,this.rf=[],this.Kh=[],b=1,c=e.length;b<c;b++)f=new Sb(this.oa,e[b]),this.rf.push(f),this.Kh.push(0)}}function k(a,
e,b){this.sheet=a;this.parent=e;this.b=a.b;this.ta=[];this.name=b[1];this.Uj=b[2];this.bl=b[3];this.Xg=!!b[4];this.Ni=!!b[5];this.V=b[6];this.b.rg[this.V.toString()]=this;this.data=this.bl;this.parent?(this.hf=this.Xg||this.Ni?-1:this.b.Vu++,this.b.Ar.push(this)):(this.hf=-1,this.b.ur.push(this))}function f(a,e,b){this.sheet=a;this.parent=e;this.b=a.b;this.ta=[];this.Pg=null;this.Lt=b[1];this.ab=!0}function e(){this.Sp=[];this.reset(null)}var m=[];l.prototype.toString=function(){return this.name};
l.prototype.ho=function(a,e,b){switch(a[0]){case 0:a=new Vb(this,e,a);if(a.xc)for(b.push(a),b=0,e=a.rb.length;b<e;b++)a.rb[b].trigger&&this.jo(a,b);else a.ro()?this.jo(a,0):b.push(a);break;case 1:a=new Mb(this,e,a);b.push(a);break;case 2:a=new Wb(this,e,a),b.push(a)}};l.prototype.Ga=function(){var a,e;a=0;for(e=this.je.length;a<e;a++)this.je[a].Ga(a<e-1&&this.je[a+1].Oi)};l.prototype.Jm=function(){Q(this.yk);Q(this.hk);this.en(this);Q(this.hk)};l.prototype.en=function(a){var e,b,c,f,m=a.yk,g=a.hk,
k=this.eo.pd();e=0;for(b=k.length;e<b;++e)c=k[e],f=c.Pg,!c.ab||a===f||-1<g.indexOf(f)||(g.push(f),f.en(a),m.push(f))};l.prototype.Ya=function(a){this.b.Dw||(this.$k=!0,a||(this.b.ol=!0));var e,b;e=0;for(b=this.je.length;e<b;e++){var c=this.je[e];c.Ya();this.b.sk(c.ta);this.b.le&&this.b.pb()}a||(this.b.ol=!1)};l.prototype.jo=function(a,e){a.xc||this.b.Qj.push(a);var b,c,f=a.rb[e],m;f.type?m=f.type.name:m="system";var g=(b=f.Jn)?this.Kn:this.Yp;g[m]||(g[m]=[]);m=g[m];g=f.jb;if(b){if(f.P.length&&(f=
f.P[0],1===f.type&&2===f.gd.type)){f=f.gd.value.toLowerCase();b=0;for(c=m.length;b<c;b++)if(m[b].method==g){b=m[b].Dg;b[f]?b[f].push([a,e]):b[f]=[[a,e]];return}b={};b[f]=[[a,e]];m.push({method:g,Dg:b})}}else{b=0;for(c=m.length;b<c;b++)if(m[b].method==g){m[b].Dg.push([a,e]);return}X&&g===X.prototype.k.wf?m.unshift({method:g,Dg:[[a,e]]}):m.push({method:g,Dg:[[a,e]]})}};Cb=l;t.prototype.Zk=function(){return this.ia?this.type.d.length:this.d.length};t.prototype.uc=function(){return this.ia?this.type.d:
this.d};t.prototype.sh=function(a){a&&(a.b.kb().Ib.xc?(this.ia&&(Q(this.d),ya(this.Q,a.type.d),this.ia=!1),a=this.Q.indexOf(a),-1!==a&&(this.d.push(this.Q[a]),this.Q.splice(a,1))):(this.ia=!1,Q(this.d),this.d[0]=a))};jb=t;window._c2hh_="189BF63191E29A43747095FF656474172E7DF1B8";u.prototype.Ga=function(a){var e,b=this.parent;if(this.group)for(this.Oj=!0;b;){if(!b.group){this.Oj=!1;break}b=b.parent}this.Em=!this.ro()&&(!this.parent||this.parent.group&&this.parent.Oj);this.co=!!a;this.Ee=this.ta.slice(0);
for(b=this.parent;b;){a=0;for(e=b.ta.length;a<e;a++)this.rr(b.ta[a]);b=b.parent}this.ta=p(this.ta);this.Ee=p(this.Ee);a=0;for(e=this.rb.length;a<e;a++)this.rb[a].Ga();a=0;for(e=this.Hc.length;a<e;a++)this.Hc[a].Ga();a=0;for(e=this.Dc.length;a<e;a++)this.Dc[a].Ga(a<e-1&&this.Dc[a+1].Oi)};u.prototype.Ru=function(a){if(this.Lf!==!!a){this.Lf=!!a;var e;a=0;for(e=this.ki.length;a<e;++a)this.ki[a].cq();0<e&&this.b.ma.Se&&this.b.ma.Se.Jm()}};u.prototype.gn=function(a){g(a,this.ta)};u.prototype.rr=function(a){g(a,
this.Ee)};u.prototype.Aj=function(){this.Pp=!0;this.parent&&this.parent.Aj()};u.prototype.ro=function(){return this.rb.length?this.rb[0].trigger:!1};u.prototype.Ya=function(){var a,e,b=!1,c=this.b,f=this.b.kb();f.Ib=this;var m=this.rb;this.Oi||(f.Dk=!1);if(this.xc){0===m.length&&(b=!0);f.Gb=0;for(a=m.length;f.Gb<a;f.Gb++)e=m[f.Gb],e.trigger||(e=e.Ya())&&(b=!0);(f.Ze=b)&&this.lm()}else{f.Gb=0;for(a=m.length;f.Gb<a;f.Gb++)if(e=m[f.Gb].Ya(),!e){f.Ze=!1;this.Em&&c.le&&c.pb();return}f.Ze=!0;this.lm()}this.ts(f)};
u.prototype.ts=function(a){a.Ze&&this.co&&(a.Dk=!0);this.Em&&this.b.le&&this.b.pb()};u.prototype.Lu=function(a){this.b.kb().Ib=this;this.rb[a].Ya()&&(this.lm(),this.b.kb().Ze=!0)};u.prototype.lm=function(){var a=this.b.kb(),e;a.Vb=0;for(e=this.Hc.length;a.Vb<e;a.Vb++)if(this.Hc[a.Vb].Ya())return;this.Bp()};u.prototype.Ju=function(){var a=this.b.kb(),e;for(e=this.Hc.length;a.Vb<e;a.Vb++)if(this.Hc[a.Vb].Ya())return;this.Bp()};u.prototype.Bp=function(){if(this.Dc.length){var a,e,b,c,f=this.Dc.length-
1;this.b.am(this);if(this.Pp)for(a=0,e=this.Dc.length;a<e;a++)b=this.Dc[a],(c=!this.Oj||!this.group&&a<f)&&this.b.$l(b.ta),b.Ya(),c?this.b.dg(b.ta):this.b.sk(b.ta);else for(a=0,e=this.Dc.length;a<e;a++)this.Dc[a].Ya();this.b.rp()}};u.prototype.Mu=function(){var a=this.b.kb();a.Ib=this;var e=!1,b;a.Gb=0;for(b=this.rb.length;a.Gb<b;a.Gb++)if(this.rb[a.Gb].Ya())e=!0;else if(!this.xc)return!1;return this.xc?e:!0};u.prototype.Xt=function(a){var e=a.index;if(0===e)return!0;for(--e;0<=e;--e)if(this.rb[e].type===
a.type)return!1;return!0};Vb=u;a.prototype.Ga=function(){var a,e,b;a=0;for(e=this.P.length;a<e;a++)b=this.P[a],b.Ga(),b.Fc&&(this.tg=!0)};a.prototype.Ou=function(){return!0};a.prototype.nm=function(){var a,e;a=0;for(e=this.P.length;a<e;a++)this.Da[a]=this.P[a].get();return Pa(this.jb.apply(this.b.md,this.Da),this.Ji)};a.prototype.Nu=function(){var a,e;a=0;for(e=this.P.length;a<e;a++)this.Da[a]=this.P[a].get();a=this.jb.apply(this.Me?this.Me:this.type,this.Da);this.type.rd();return a};a.prototype.mm=
function(){var a,e,b,c,f,m,g,k,d=this.type,l=d.da(),q=this.hc.xc&&!this.trigger;e=0;var r=d.Ob,t=d.B,y=d.yd,p=this.Lc,u=-1<p,J=this.tg,w=this.P,z=this.Da,C=this.Ji,N=this.jb,E;if(J)for(e=0,f=w.length;e<f;++e)m=w[e],m.Fc||(z[e]=m.get(0));else for(e=0,f=w.length;e<f;++e)z[e]=w[e].get(0);if(l.ia){Q(l.d);Q(l.Q);E=d.d;a=0;for(c=E.length;a<c;++a){k=E[a];if(J)for(e=0,f=w.length;e<f;++e)m=w[e],m.Fc&&(z[e]=m.get(a));u?(e=0,t&&(e=k.type.Hf[y]),e=N.apply(k.J[p+e],z)):e=N.apply(k,z);(g=Pa(e,C))?l.d.push(k):q&&
l.Q.push(k)}d.finish&&d.finish(!0);l.ia=!1;d.rd();return l.Zk()}b=0;E=(g=q&&!this.hc.Xt(this))?l.Q:l.d;var L=!1;a=0;for(c=E.length;a<c;++a){k=E[a];if(J)for(e=0,f=w.length;e<f;++e)m=w[e],m.Fc&&(z[e]=m.get(a));u?(e=0,t&&(e=k.type.Hf[y]),e=N.apply(k.J[p+e],z)):e=N.apply(k,z);if(Pa(e,C))if(L=!0,g){if(l.d.push(k),r)for(e=0,f=k.siblings.length;e<f;e++)m=k.siblings[e],m.type.da().d.push(m)}else{E[b]=k;if(r)for(e=0,f=k.siblings.length;e<f;e++)m=k.siblings[e],m.type.da().d[b]=m;b++}else if(g){E[b]=k;if(r)for(e=
0,f=k.siblings.length;e<f;e++)m=k.siblings[e],m.type.da().Q[b]=m;b++}else if(q&&(l.Q.push(k),r))for(e=0,f=k.siblings.length;e<f;e++)m=k.siblings[e],m.type.da().Q.push(m)}xa(E,b);if(r)for(t=d.Xb,a=0,c=t.length;a<c;a++)k=t[a].da(),g?xa(k.Q,b):xa(k.d,b);b=L;if(g&&!L)for(a=0,c=l.d.length;a<c;a++){k=l.d[a];if(J)for(e=0,f=w.length;e<f;e++)m=w[e],m.Fc&&(z[e]=m.get(a));e=u?N.apply(k.J[p],z):N.apply(k,z);if(Pa(e,C)){L=!0;break}}d.finish&&d.finish(b||q);return q?L:l.Zk()};Qb=a;b.prototype.Ga=function(){var a,
e,b;a=0;for(e=this.P.length;a<e;a++)b=this.P[a],b.Ga(),b.Fc&&(this.tg=!0)};b.prototype.nm=function(){var a=this.b,e,b,c=this.P,f=this.Da;e=0;for(b=c.length;e<b;++e)f[e]=c[e].get();return this.jb.apply(a.md,f)};b.prototype.mm=function(){var a=this.type,e=this.Lc,b=a.yd,c=this.tg,f=this.P,m=this.Da,g=this.jb,k=a.da().uc(),a=a.B,d=-1<e,l,q,r,t,y,p;if(c)for(q=0,t=f.length;q<t;++q)y=f[q],y.Fc||(m[q]=y.get(0));else for(q=0,t=f.length;q<t;++q)m[q]=f[q].get(0);l=0;for(r=k.length;l<r;++l){p=k[l];if(c)for(q=
0,t=f.length;q<t;++q)y=f[q],y.Fc&&(m[q]=y.get(l));d?(q=0,a&&(q=p.type.Hf[b]),g.apply(p.J[e+q],m)):g.apply(p,m)}return!1};Rb=b;var y=[],J=-1;c.prototype.Ga=function(){var a,e;if(11===this.type)this.Te=this.b.Un(this.Lh,this.hc.parent);else if(13===this.type)for(a=0,e=this.rf.length;a<e;a++)this.rf[a].Ga();this.gd&&this.gd.Ga()};c.prototype.hu=function(a){this.Fc||!a||a.la.Cj||(this.Fc=!0)};c.prototype.Hp=function(){this.Fc=!0};c.prototype.yt=function(a){this.Pd=a||0;a=q();this.gd.get(a);J--;return a.data};
c.prototype.zt=function(a){this.Pd=a||0;a=q();this.gd.get(a);J--;return x(a.data)?a.data:""};c.prototype.Ft=function(){return this.object};c.prototype.wt=function(){return this.xn};c.prototype.Dt=function(a){this.Pd=a||0;a=q();this.gd.get(a);J--;return a.cb()?this.b.Ig(a.data):this.b.Tk(a.data)};c.prototype.Et=function(){return this.Ia};c.prototype.Ct=function(){return this.key};c.prototype.Bt=function(){return this.index};c.prototype.At=function(a){a=a||0;var e=this.oa.type,b=null,b=e.da(),c=b.uc();
if(c.length)b=c[a%c.length].type;else if(b.Q.length)b=b.Q[a%b.Q.length].type;else if(e.d.length)b=e.d[a%e.d.length].type;else return 0;return this.index+b.vi[e.yd]};c.prototype.xt=function(){return this.Te};c.prototype.ut=function(){return this.Mn};c.prototype.Gt=function(){var a,e;a=0;for(e=this.rf.length;a<e;a++)this.Kh[a]=this.rf[a].get();return this.Kh};Sb=c;k.prototype.Ga=function(){this.ta=p(this.ta)};k.prototype.qf=function(a){var e=this.b.Tn();this.parent&&!this.Xg&&e?(this.hf>=e.length&&
(e.length=this.hf+1),e[this.hf]=a):this.data=a};k.prototype.Kg=function(){var a=this.b.Tn();return!this.parent||this.Xg||!a||this.Ni?this.data:this.hf>=a.length||"undefined"===typeof a[this.hf]?this.bl:a[this.hf]};k.prototype.Ya=function(){!this.parent||this.Xg||this.Ni||this.qf(this.bl)};Mb=k;f.prototype.toString=function(){return"include:"+this.Pg.toString()};f.prototype.Ga=function(){this.Pg=this.b.Fk[this.Lt];this.sheet.eo.add(this);this.ta=p(this.ta);for(var a=this.parent;a;)a.group&&a.ki.push(this),
a=a.parent;this.cq()};f.prototype.Ya=function(){this.parent&&this.b.wh(this.b.q);this.Pg.$k||this.Pg.Ya(!0);this.parent&&this.b.dg(this.b.q)};f.prototype.cq=function(){for(var a=this.parent;a;){if(a.group&&!a.Lf){this.ab=!1;return}a=a.parent}this.ab=!0};Wb=f;e.prototype.reset=function(a){this.Ib=a;this.Vb=this.Gb=0;Q(this.Sp);this.Dk=this.Ze=!1};Lb=e})();
(function(){function d(g,a){this.oa=g;this.b=g.b;this.type=a[0];this.get=[this.Ls,this.Hs,this.Us,this.Xs,this.ws,this.Vs,this.Ps,this.Es,this.Os,this.Ts,this.xs,this.Ss,this.Fs,this.Qs,this.Ms,this.Ns,this.Is,this.Js,this.Ds,this.Ws,this.Rs,this.Ks,this.Cs,this.Gs][this.type];var b=null;this.Gd=this.P=this.Da=this.jb=this.Nj=this.second=this.first=this.value=null;this.Lc=-1;this.Oc=null;this.iq=-1;this.Te=this.Lh=null;this.hg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Ub(g,a[1]);break;case 18:this.first=new Ub(g,a[1]);this.second=new Ub(g,a[2]);this.Nj=new Ub(g,a[3]);break;case 19:this.jb=this.b.Vd(a[1]);this.jb!==W.prototype.Ra.random&&this.jb!==W.prototype.Ra.Kr||this.oa.Hp();this.Da=[];this.P=[];3===a.length?(b=a[2],this.Da.length=b.length+1):this.Da.length=1;break;case 20:this.Gd=this.b.q[a[1]];this.Lc=-1;this.jb=this.b.Vd(a[2]);this.hg=a[3];Zb.Function&&this.jb===Zb.Function.prototype.Ra.nv&&this.oa.Hp();a[4]?this.Oc=new Ub(g,a[4]):this.Oc=null;this.Da=
[];this.P=[];6===a.length?(b=a[5],this.Da.length=b.length+1):this.Da.length=1;break;case 21:this.Gd=this.b.q[a[1]];this.hg=a[2];a[3]?this.Oc=new Ub(g,a[3]):this.Oc=null;this.iq=a[4];break;case 22:this.Gd=this.b.q[a[1]];this.Gd.Di(a[2]);this.Lc=this.Gd.Ok(a[2]);this.jb=this.b.Vd(a[3]);this.hg=a[4];a[5]?this.Oc=new Ub(g,a[5]):this.Oc=null;this.Da=[];this.P=[];7===a.length?(b=a[6],this.Da.length=b.length+1):this.Da.length=1;break;case 23:this.Lh=a[1],this.Te=null}this.oa.hu(this.Gd);4<=this.type&&17>=
this.type&&(this.first=new Ub(g,a[1]),this.second=new Ub(g,a[2]));if(b){var d,c;d=0;for(c=b.length;d<c;d++)this.P.push(new Ub(g,b[d]))}}function r(){++u;t.length===u&&t.push(new Tb);return t[u]}function p(g,a,b){var d,c;d=0;for(c=g.length;d<c;++d)g[d].get(b),a[d+1]=b.data}function l(g,a){this.type=g||Xb.vf;this.data=a||0;this.kf=null;this.type==Xb.vf&&(this.data=Math.floor(this.data))}d.prototype.Ga=function(){23===this.type&&(this.Te=this.oa.b.Un(this.Lh,this.oa.hc.parent));this.first&&this.first.Ga();
this.second&&this.second.Ga();this.Nj&&this.Nj.Ga();this.Oc&&this.Oc.Ga();if(this.P){var g,a;g=0;for(a=this.P.length;g<a;g++)this.P[g].Ga()}};var t=[],u=-1;d.prototype.Ws=function(g){var a=this.P,b=this.Da;b[0]=g;g=r();p(a,b,g);--u;this.jb.apply(this.b.md,b)};d.prototype.Rs=function(g){var a=this.Gd,b=this.Da,d=this.P,c=this.Oc,k=this.jb,f=this.oa.Pd,e=a.da(),m=e.uc();if(!m.length)if(e.Q.length)m=e.Q;else{this.hg?g.gc(""):g.pa(0);return}b[0]=g;g.kf=a;g=r();p(d,b,g);c&&(c.get(g),g.cb()&&(f=g.data,
m=a.d));--u;a=m.length;if(f>=a||f<=-a)f%=a;0>f&&(f+=a);k.apply(m[f],b)};d.prototype.Cs=function(g){var a=this.Gd,b=this.Da,d=this.P,c=this.Oc,k=this.Lc,f=this.jb,e=this.oa.Pd,m=a.da(),l=m.uc();if(!l.length)if(m.Q.length)l=m.Q;else{this.hg?g.gc(""):g.pa(0);return}b[0]=g;g.kf=a;g=r();p(d,b,g);c&&(c.get(g),g.cb()&&(e=g.data,l=a.d));--u;d=l.length;if(e>=d||e<=-d)e%=d;0>e&&(e+=d);e=l[e];l=0;a.B&&(l=e.type.Hf[a.yd]);f.apply(e.J[k+l],b)};d.prototype.Ks=function(g){var a=this.Oc,b=this.Gd,d=this.iq,c=this.oa.Pd,
k=b.da(),f=k.uc();if(!f.length)if(k.Q.length)f=k.Q;else{this.hg?g.gc(""):g.pa(0);return}if(a){k=r();a.get(k);if(k.cb()){c=k.data;f=b.d;0!==f.length&&(c%=f.length,0>c&&(c+=f.length));c=b.Sk(c);b=c.Ta[d];x(b)?g.gc(b):g.D(b);--u;return}--u}a=f.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=f[c];f=0;b.B&&(f=c.type.vi[b.yd]);b=c.Ta[d+f];x(b)?g.gc(b):g.D(b)};d.prototype.Ls=function(g){g.type=Xb.vf;g.data=this.value};d.prototype.Hs=function(g){g.type=Xb.uf;g.data=this.value};d.prototype.Us=function(g){g.type=
Xb.String;g.data=this.value};d.prototype.Xs=function(g){this.first.get(g);g.cb()&&(g.data=-g.data)};d.prototype.ws=function(g){this.first.get(g);var a=r();this.second.get(a);g.cb()&&a.cb()&&(g.data+=a.data,a.Nf()&&g.Xf());--u};d.prototype.Vs=function(g){this.first.get(g);var a=r();this.second.get(a);g.cb()&&a.cb()&&(g.data-=a.data,a.Nf()&&g.Xf());--u};d.prototype.Ps=function(g){this.first.get(g);var a=r();this.second.get(a);g.cb()&&a.cb()&&(g.data*=a.data,a.Nf()&&g.Xf());--u};d.prototype.Es=function(g){this.first.get(g);
var a=r();this.second.get(a);g.cb()&&a.cb()&&(g.data/=a.data,g.Xf());--u};d.prototype.Os=function(g){this.first.get(g);var a=r();this.second.get(a);g.cb()&&a.cb()&&(g.data%=a.data,a.Nf()&&g.Xf());--u};d.prototype.Ts=function(g){this.first.get(g);var a=r();this.second.get(a);g.cb()&&a.cb()&&(g.data=Math.pow(g.data,a.data),a.Nf()&&g.Xf());--u};d.prototype.xs=function(g){this.first.get(g);var a=r();this.second.get(a);a.Pf()||g.Pf()?this.zs(g,a):this.ys(g,a);--u};d.prototype.zs=function(g,a){g.Pf()&&
a.Pf()?this.Bs(g,a):this.As(g,a)};d.prototype.Bs=function(g,a){g.data+=a.data};d.prototype.As=function(g,a){g.Pf()?g.data+=(Math.round(1E10*a.data)/1E10).toString():g.gc(g.data.toString()+a.data)};d.prototype.ys=function(g,a){g.pa(g.data&&a.data?1:0)};d.prototype.Ss=function(g){this.first.get(g);var a=r();this.second.get(a);g.cb()&&a.cb()&&(g.data||a.data?g.pa(1):g.pa(0));--u};d.prototype.Ds=function(g){this.first.get(g);g.data?this.second.get(g):this.Nj.get(g)};d.prototype.Fs=function(g){this.first.get(g);
var a=r();this.second.get(a);g.pa(g.data===a.data?1:0);--u};d.prototype.Qs=function(g){this.first.get(g);var a=r();this.second.get(a);g.pa(g.data!==a.data?1:0);--u};d.prototype.Ms=function(g){this.first.get(g);var a=r();this.second.get(a);g.pa(g.data<a.data?1:0);--u};d.prototype.Ns=function(g){this.first.get(g);var a=r();this.second.get(a);g.pa(g.data<=a.data?1:0);--u};d.prototype.Is=function(g){this.first.get(g);var a=r();this.second.get(a);g.pa(g.data>a.data?1:0);--u};d.prototype.Js=function(g){this.first.get(g);
var a=r();this.second.get(a);g.pa(g.data>=a.data?1:0);--u};d.prototype.Gs=function(g){var a=this.Te.Kg();ga(a)?g.D(a):g.gc(a)};Ub=d;l.prototype.Nf=function(){return this.type===Xb.uf};l.prototype.cb=function(){return this.type===Xb.vf||this.type===Xb.uf};l.prototype.Pf=function(){return this.type===Xb.String};l.prototype.Xf=function(){this.Nf()||(this.Pf()&&(this.data=parseFloat(this.data)),this.type=Xb.uf)};l.prototype.pa=function(g){this.type=Xb.vf;this.data=Math.floor(g)};l.prototype.D=function(g){this.type=
Xb.uf;this.data=g};l.prototype.gc=function(g){this.type=Xb.String;this.data=g};l.prototype.Tu=function(g){ga(g)?(this.type=Xb.uf,this.data=g):x(g)?(this.type=Xb.String,this.data=g.toString()):(this.type=Xb.vf,this.data=0)};Tb=l;Xb={vf:0,uf:1,String:2}})();function W(d){this.b=d;this.Ub=[]}
W.prototype.xb=function(){var d={},r,p,l,t,u,g,a,b;d.waits=[];var q=d.waits,c;r=0;for(p=this.Ub.length;r<p;r++){g=this.Ub[r];c={t:g.time,st:g.Np,s:g.xm,ev:g.Ff.V,sm:[],sols:{}};g.Ff.Hc[g.Vb]&&(c.act=g.Ff.Hc[g.Vb].V);l=0;for(t=g.ta.length;l<t;l++)c.sm.push(g.ta[l].V);for(u in g.Cb)if(g.Cb.hasOwnProperty(u)){a=this.b.q[parseInt(u,10)];b={sa:g.Cb[u].wj,insts:[]};l=0;for(t=g.Cb[u].Bd.length;l<t;l++)b.insts.push(g.Cb[u].Bd[l].uid);c.sols[a.V.toString()]=b}q.push(c)}return d};
W.prototype.Pb=function(d){d=d.waits;var r,p,l,t,u,g,a,b,q,c,k;Q(this.Ub);r=0;for(p=d.length;r<p;r++)if(g=d[r],b=this.b.mn[g.ev.toString()]){q=-1;l=0;for(t=b.Hc.length;l<t;l++)if(b.Hc[l].V===g.act){q=l;break}if(-1!==q){a={Cb:{},ta:[],Ak:!1};a.time=g.t;a.Np=g.st||"";a.xm=!!g.s;a.Ff=b;a.Vb=q;l=0;for(t=g.sm.length;l<t;l++)(b=this.b.Fi(g.sm[l]))&&a.ta.push(b);for(u in g.sols)if(g.sols.hasOwnProperty(u)&&(b=this.b.Fi(parseInt(u,10)))){q=g.sols[u];c={wj:q.sa,Bd:[]};l=0;for(t=q.insts.length;l<t;l++)(k=this.b.Xn(q.insts[l]))&&
c.Bd.push(k);a.Cb[b.index.toString()]=c}this.Ub.push(a)}}};
(function(){function d(){}function r(){}function p(){}var l=W.prototype;d.prototype.wq=function(){return!0};d.prototype.Qm=function(){return!0};d.prototype.Pq=function(){return!0};d.prototype.sq=function(g,a,b){return Yb(g.Kg(),a,b)};d.prototype.Bq=function(g){return(g=this.b.Ng[g.toLowerCase()])&&g.Lf};d.prototype.vq=function(){var g=this.b.kb();return g.Dk?!1:!g.Ze};d.prototype.Rm=function(){return!0};d.prototype.Jq=function(){return!0};d.prototype.$j=function(){return!0};d.prototype.Vm=function(){return!0};
d.prototype.Qq=function(){return!0};d.prototype.Sh=function(){return!0};d.prototype.nq=function(g,a,b){return La(V(g),V(b))<=V(a)};d.prototype.Aq=function(g,a){return Na(V(g),V(a))};d.prototype.zq=function(g,a,b){g=Ja(g);a=Ja(a);b=Ja(b);return Na(b,a)?Na(g,a)&&!Na(g,b):!(!Na(g,a)&&Na(g,b))};l.k=new d;r.prototype.tq=function(g,a,b,d){if(a&&g&&(a=this.b.zn(g,a,b,d))){this.b.Qc++;var c;this.b.trigger(Object.getPrototypeOf(g.la).k.Rh,a);if(a.Ob)for(b=0,d=a.siblings.length;b<d;b++)c=a.siblings[b],this.b.trigger(Object.getPrototypeOf(c.type.la).k.Rh,
c);this.b.Qc--;g=g.da();g.ia=!1;Q(g.d);g.d[0]=a;if(a.Ob)for(b=0,d=a.siblings.length;b<d;b++)c=a.siblings[b],g=c.type.da(),g.ia=!1,Q(g.d),g.d[0]=c}};r.prototype.ir=function(g,a){0===g.Uj?ga(a)?g.qf(a):g.qf(parseFloat(a)):1===g.Uj&&g.qf(a.toString())};r.prototype.lq=function(g,a){0===g.Uj?ga(a)?g.qf(g.Kg()+a):g.qf(g.Kg()+parseFloat(a)):1===g.Uj&&g.qf(g.Kg()+a.toString())};var t=[],u=[];r.prototype.nr=function(g){if(!(0>g)){var a,b,d,c=this.b.kb(),k;t.length?k=t.pop():k={Cb:{},ta:[]};k.Ak=!1;k.time=
this.b.$b.ua+g;k.Np="";k.xm=!1;k.Ff=c.Ib;k.Vb=c.Vb+1;g=0;for(a=this.b.q.length;g<a;g++)d=this.b.q[g],b=d.da(),b.ia&&-1===c.Ib.ta.indexOf(d)||(k.ta.push(d),d=void 0,u.length?d=u.pop():d={Bd:[]},d.wj=!1,d.wj=b.ia,ya(d.Bd,b.d),k.Cb[g.toString()]=d);this.Ub.push(k);return!0}};r.prototype.br=function(g){this.b.xj=g};r.prototype.Gq=function(g){this.b.dh=g};l.Y=new r;p.prototype["int"]=function(g,a){x(a)?(g.pa(parseInt(a,10)),isNaN(g.data)&&(g.data=0)):g.pa(a)};p.prototype["float"]=function(g,a){x(a)?(g.D(parseFloat(a)),
isNaN(g.data)&&(g.data=0)):g.D(a)};p.prototype.random=function(g,a,b){void 0===b?g.D(Math.random()*a):g.D(Math.random()*(b-a)+a)};p.prototype.sqrt=function(g,a){g.D(Math.sqrt(a))};p.prototype.abs=function(g,a){g.D(Math.abs(a))};p.prototype.round=function(g,a){g.pa(Math.round(a))};p.prototype.floor=function(g,a){g.pa(Math.floor(a))};p.prototype.ceil=function(g,a){g.pa(Math.ceil(a))};p.prototype.sin=function(g,a){g.D(Math.sin(V(a)))};p.prototype.cos=function(g,a){g.D(Math.cos(V(a)))};p.prototype.tan=
function(g,a){g.D(Math.tan(V(a)))};p.prototype.asin=function(g,a){g.D(Fa(Math.asin(a)))};p.prototype.acos=function(g,a){g.D(Fa(Math.acos(a)))};p.prototype.atan=function(g,a){g.D(Fa(Math.atan(a)))};p.prototype.exp=function(g,a){g.D(Math.exp(a))};p.prototype.log10=function(g,a){g.D(Math.log(a)/Math.LN10)};p.prototype.max=function(g){var a=arguments[1];"number"!==typeof a&&(a=0);var b,d,c;b=2;for(d=arguments.length;b<d;b++)c=arguments[b],"number"===typeof c&&a<c&&(a=c);g.D(a)};p.prototype.min=function(g){var a=
arguments[1];"number"!==typeof a&&(a=0);var b,d,c;b=2;for(d=arguments.length;b<d;b++)c=arguments[b],"number"===typeof c&&a>c&&(a=c);g.D(a)};p.prototype.Ef=function(g){g.D(this.b.Ef)};p.prototype.ng=function(g){g.D(this.b.ng)};p.prototype.time=function(g){g.D(this.b.$b.ua)};p.prototype.Yc=function(g){g.pa(this.b.Yc)};p.prototype.ej=function(g){g.pa(this.b.ej)};p.prototype.Kk=function(g){g.pa(this.b.Kk)};p.prototype.j=function(g,a,b,d,c){g.D(Fa(Ka(a,b,d,c)))};p.prototype.left=function(g,a,b){g.gc(x(a)?
a.substr(0,b):"")};p.prototype.right=function(g,a,b){g.gc(x(a)?a.substr(a.length-b):"")};p.prototype.replace=function(g,a,b,d){x(a)&&x(b)&&x(d)?g.gc(a.replace(new RegExp(Ya(b),"gi"),d)):g.gc(x(a)?a:"")};p.prototype.trim=function(g,a){g.gc(x(a)?a.trim():"")};p.prototype.Kr=function(g){var a=P(Math.random()*(arguments.length-1));g.Tu(arguments[a+1])};p.prototype.uk=function(g){g.D(this.b.uk/1E3)};p.prototype.Xi=function(g){g.D(this.b.Xi)};l.Ra=new p;l.Ku=function(){var g,a,b,d,c,k,f=this.b.kb();g=0;
for(b=this.Ub.length;g<b;g++){d=this.Ub[g];if(-1===d.time){if(!d.xm)continue}else if(d.time>this.b.$b.ua)continue;f.Ib=d.Ff;f.Vb=d.Vb;f.Gb=0;for(a in d.Cb)d.Cb.hasOwnProperty(a)&&(c=this.b.q[parseInt(a,10)].da(),k=d.Cb[a],c.ia=k.wj,ya(c.d,k.Bd),c=k,Q(c.Bd),u.push(c));d.Ff.Ju();this.b.sk(d.ta);d.Ak=!0}a=g=0;for(b=this.Ub.length;g<b;g++)d=this.Ub[g],this.Ub[a]=d,d.Ak?(Ra(d.Cb),Q(d.ta),t.push(d)):a++;xa(this.Ub,a)}})();
(function(){ib=function(d,p){var l=d[1],t=d[3],u=d[4],g=d[5],a=d[6],b=d[7],q=d[8];p.k||(p.k={});p.Y||(p.Y={});p.Ra||(p.Ra={});var c=p.k,k=p.Y,f=p.Ra;t&&(c.sv=function(a,b){return Yb(this.x,a,b)},c.tv=function(a,b){return Yb(this.y,a,b)},c.zv=function(){var a=this.e;this.ca();var b=this.ga;return!(b.right<a.T||b.bottom<a.U||b.left>a.X||b.top>a.W)},c.Av=function(){this.ca();var a=this.ga,b=this.b.ma;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.Mv=function(a,b,c){var f=this.da(),h=
f.uc();if(!h.length)return!1;var d=h[0],g=d,k=Oa(d.x,d.y,b,c),l,q,r;l=1;for(q=h.length;l<q;l++)if(d=h[l],r=Oa(d.x,d.y,b,c),0===a&&r<k||1===a&&r>k)k=r,g=d;f.sh(g);return!0},k.bw=function(a){this.x!==a&&(this.x=a,this.K())},k.dw=function(a){this.y!==a&&(this.y=a,this.K())},k.hr=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.K()},k.Zv=function(a,b){var c=a.mt(this);if(c){var f;c.Hg?(f=c.Hg(b,!0),c=c.Hg(b,!1)):(f=c.x,c=c.y);if(this.x!==f||this.y!==c)this.x=f,this.y=c,this.K()}},k.Fv=function(a){0!==
a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.K())},k.Ev=function(a,b){0!==b&&(this.x+=Math.cos(V(a))*b,this.y+=Math.sin(V(a))*b,this.K())},f.$m=function(a){a.D(this.x)},f.an=function(a){a.D(this.y)},f.Ef=function(a){a.D(this.b.Gg(this))});u&&(c.rv=function(a,b){return Yb(this.width,a,b)},c.ov=function(a,b){return Yb(this.height,a,b)},k.kr=function(a){this.width!==a&&(this.width=a,this.K())},k.Xv=function(a){this.height!==a&&(this.height=a,this.K())},k.$v=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.K()},f.hw=function(a){a.D(this.width)},f.vv=function(a){a.D(this.height)},f.kv=function(a){this.ca();a.D(this.ga.left)},f.mv=function(a){this.ca();a.D(this.ga.top)},f.lv=function(a){this.ca();a.D(this.ga.right)},f.jv=function(a){this.ca();a.D(this.ga.bottom)});g&&(c.nq=function(a,b){return La(this.j,V(b))<=V(a)},c.Aq=function(a){return Na(this.j,V(a))},c.zq=function(a,b){var c=Ja(a),f=Ja(b),h=Ha(this.j);return Na(f,c)?Na(h,c)&&!Na(h,f):!(!Na(h,c)&&
Na(h,f))},k.cr=function(a){a=V(Ga(a));isNaN(a)||this.j===a||(this.j=a,this.K())},k.Qv=function(a){0===a||isNaN(a)||(this.j+=V(a),this.j=Ha(this.j),this.K())},k.Rv=function(a){0===a||isNaN(a)||(this.j-=V(a),this.j=Ha(this.j),this.K())},k.Sv=function(a,b){var c=Ma(this.j,V(b),V(a));isNaN(c)||this.j===c||(this.j=c,this.K())},k.Tv=function(a,b,c){a=Ma(this.j,Math.atan2(c-this.y,b-this.x),V(a));isNaN(a)||this.j===a||(this.j=a,this.K())},k.aw=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||
this.j===c||(this.j=c,this.K())},f.mq=function(a){a.D(Ia(this.j))});l||(c.pv=function(a,b,c){return Yb(this.Ta[a],b,c)},c.xv=function(a){return this.Ta[a]},c.Nv=function(a,b){var c=this.da(),f=c.uc();if(!f.length)return!1;var h=f[0],d=h,g=h.Ta[b],k,l,q;k=1;for(l=f.length;k<l;k++)if(h=f[k],q=h.Ta[b],0===a&&q<g||1===a&&q>g)g=q,d=h;c.sh(d);return!0},c.Lv=function(a){var b,c,f,h,d;if(this.b.Sn().Ji){d=this.da();if(d.ia)for(d.ia=!1,Q(d.d),Q(d.Q),f=this.d,b=0,c=f.length;b<c;b++)h=f[b],h.uid===a?d.Q.push(h):
d.d.push(h);else{f=b=0;for(c=d.d.length;b<c;b++)h=d.d[b],d.d[f]=h,h.uid===a?d.Q.push(h):f++;xa(d.d,f)}this.rd();return!!d.d.length}h=this.b.Xn(a);if(!h)return!1;d=this.da();if(!d.ia&&-1===d.d.indexOf(h))return!1;if(this.B)for(a=h.type.wa,b=0,c=a.length;b<c;b++){if(a[b]===this)return d.sh(h),this.rd(),!0}else if(h.type===this)return d.sh(h),this.rd(),!0;return!1},c.Rh=function(){return!0},c.Kq=function(){return!0},k.Yv=function(a,b){var c=this.Ta;ga(c[a])?c[a]=ga(b)?b:parseFloat(b):x(c[a])&&(c[a]=
x(b)?b:b.toString())},k.iv=function(a,b){var c=this.Ta;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):x(c[a])&&(c[a]=x(b)?c[a]+b:c[a]+b.toString())},k.ew=function(a,b){var c=this.Ta;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},k.Uv=function(a,b){this.Ta[a]=b?1:0},k.fw=function(a){this.Ta[a]=1-this.Ta[a]},k.uq=function(){this.b.Ie(this)},k.Fq||(k.Fq=function(a){var b,c;try{b=JSON.parse(a)}catch(f){return}this.b.Wi(this,b,!0);this.Je&&this.Je();if(this.J)for(a=0,b=this.J.length;a<b;++a)c=this.J[a],
c.Je&&c.Je()}),f.uv=function(a){var b=a.kf.d.length,c,f,h;c=0;for(f=this.b.Mc.length;c<f;c++)h=this.b.Mc[c],a.kf.B?0<=h.type.wa.indexOf(a.kf)&&b++:h.type===a.kf&&b++;a.pa(b)},f.Pv=function(a){a.pa(a.kf.da().uc().length)},f.gw=function(a){a.pa(this.uid)},f.wv=function(a){a.pa(this.Lg())},f.oq||(f.oq=function(a){a.gc(JSON.stringify(this.b.om(this,!0)))}));a&&(c.Bv=function(){return this.visible},k.jr=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ba=!0)},c.qv=function(a,b){return Yb(eb(100*
this.opacity),a,b)},k.fr=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ba=!0)},f.Opacity=function(a){a.D(eb(100*this.opacity))});b&&(c.yv=function(a){return a?this.e===a:!1},c.Ov=function(a){var b=this.da(),c=b.uc();if(!c.length)return!1;var f=c[0],h=f,d,g;d=1;for(g=c.length;d<g;d++)if(f=c[d],0===a){if(f.e.index>h.e.index||f.e.index===h.e.index&&f.hd()>h.hd())h=f}else if(f.e.index<h.e.index||f.e.index===h.e.index&&f.hd()<h.hd())h=f;b.sh(h);return!0},k.Iv=function(){var a=
this.e,b=a.d;b.length&&b[b.length-1]===this||(a.gg(this,!1),a.vg(this,!1),this.b.ba=!0)},k.Gv=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.gg(this,!1),a.Bu(this),this.b.ba=!0)},k.Hv=function(a){a&&a!=this.e&&(this.e.gg(this,!0),this.e=a,a.vg(this,!0),this.b.ba=!0)},k.jw=function(a,b){var c=0===a;if(b){var f=b.ht(this);f&&f.uid!==this.uid&&(this.e.index!==f.e.index&&(this.e.gg(this,!0),this.e=f.e,f.e.vg(this,!0)),this.e.ju(this,f,c),this.b.ba=!0)}},f.Dv=function(a){a.pa(this.e.cp)},f.Cv=
function(a){a.gc(this.e.name)},f.iw=function(a){a.pa(this.hd())});q&&(k.Vv=function(a,b){if(this.b.n){var c=this.type.Rk(b);if(!(0>c)){var f=1===a;this.Wd[c]!==f&&(this.Wd[c]=f,this.$c(),this.b.ba=!0)}}},k.Wv=function(a,b,c){if(this.b.n){var f=this.type.Rk(a);0>f||(a=this.type.L[f],f=this.Ca[f],b=Math.floor(b),0>b||b>=f.length||(1===this.b.n.qt(a.Ma,b)&&(c/=100),f[b]!==c&&(f[b]=c,a.ab&&(this.b.ba=!0))))}})};Db=function(){this.ok=this.$h=!0;this.type.Th=!0;this.b.ba=!0;var d,p,l=this.kk;d=0;for(p=
l.length;d<p;++d)l[d](this);this.e.qc&&this.ca()};Eb=function(d){d&&this.kk.push(d)};Gb=function(){if(this.$h){var d=this.ga,p=this.bb;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.Lb*this.width,-this.Mb*this.height);this.j?(d.offset(-this.x,-this.y),p.Jp(d,this.j),p.offset(this.x,this.y),p.nn(d)):p.De(d);d.normalize();this.$h=!1;this.gq()}};var d=new ta(0,0,0,0);Hb=function(){if(this.e.qc){var r=this.e.nb,p=this.ga;d.set(r.Db(p.left),r.Eb(p.top),r.Db(p.right),r.Eb(p.bottom));
this.Rb.Cg(d)||(this.Rb.right<this.Rb.left?r.update(this,null,d):r.update(this,this.Rb,d),this.Rb.zf(d),this.e.Vc=!0)}};Ib=function(){if(this.ok&&this.sd){this.ca();var r=this.type.ji,p=this.ga;d.set(r.Db(p.left),r.Eb(p.top),r.Db(p.right),r.Eb(p.bottom));this.ge.Cg(d)||(this.ge.right<this.ge.left?r.update(this,null,d):r.update(this,this.ge,d),this.ge.zf(d),this.ok=!1)}};Fb=function(d,p){return this.ga.sb(d,p)&&this.bb.sb(d,p)?this.Ge?this.Gw(d,p):this.M&&!this.M.qe()?(this.M.$d(this.width,this.height,
this.j),this.M.sb(d-this.x,p-this.y)):!0:!1};zb=function(){this.type.Sj();return this.We};Jb=function(){this.e.Lm();return this.bd};Kb=function(){Q(this.Z);var d,p,l,t=!0;d=0;for(p=this.Wd.length;d<p;d++)this.Wd[d]&&(l=this.type.L[d],this.Z.push(l),l.Tc||(t=!1));this.hq=!!this.Z.length;this.Kd=t};Ab=function(){return"Inst"+this.vp};lb=function(d){if(d&&d.Ob&&d.type!=this){var p,l,t;p=0;for(l=d.siblings.length;p<l;p++)if(t=d.siblings[p],t.type==this)return t}d=this.da().uc();return d.length?d[0]:null};
mb=function(d){var p=this.da().uc();return p.length?p[d.Lg()%p.length]:null};kb=function(){if(this.lg&&!this.B){var d,p;d=0;for(p=this.d.length;d<p;d++)this.d[d].We=d;var l=d,t=this.b.Mc;d=0;for(p=t.length;d<p;++d)t[d].type===this&&(t[d].We=l++);this.lg=!1}};xb=function(d){if(d<this.d.length)return this.d[d];d-=this.d.length;var p=this.b.Mc,l,t;l=0;for(t=p.length;l<t;++l)if(p[l].type===this){if(0===d)return p[l];--d}return null};pb=function(){return this.Qd[this.ed]};qb=function(){this.ed++;this.ed===
this.Qd.length?this.Qd.push(new jb(this)):(this.Qd[this.ed].ia=!0,Q(this.Qd[this.ed].Q))};rb=function(){this.ed++;this.ed===this.Qd.length&&this.Qd.push(new jb(this));var d=this.Qd[this.ed],p=this.Qd[this.ed-1];p.ia?d.ia=!0:(d.ia=!1,ya(d.d,p.d));Q(d.Q)};sb=function(){this.ed--};tb=function(d){var p,l,t,u,g,a=0;if(!this.B)for(p=0,l=this.wa.length;p<l;p++)for(g=this.wa[p],t=0,u=g.Aa.length;t<u;t++){if(d===g.Aa[t].name)return this.aa.lastBehIndex=a,g.Aa[t];a++}p=0;for(l=this.Aa.length;p<l;p++){if(d===
this.Aa[p].name)return this.aa.lastBehIndex=a,this.Aa[p];a++}return null};ub=function(d){return this.Di(d)?this.aa.lastBehIndex:-1};vb=function(d){var p,l;p=0;for(l=this.L.length;p<l;p++)if(this.L[p].name===d)return p;return-1};wb=function(){if(this.Ob&&!this.B){var d,p,l,t,u,g,a;this.Sj();g=this.da();var b=g.ia,q=(d=this.b.kb())&&d.Ib&&d.Ib.xc;d=0;for(p=this.Xb.length;d<p;d++)if(u=this.Xb[d],u!==this&&(u.Sj(),a=u.da(),a.ia=b,!b)){Q(a.d);l=0;for(t=g.d.length;l<t;++l)a.d[l]=u.Sk(g.d[l].We);if(q)for(Q(a.Q),
l=0,t=g.Q.length;l<t;++l)a.Q[l]=u.Sk(g.Q[l].We)}}};yb=function(){return"Type"+this.V};Yb=function(d,p,l){if("undefined"===typeof d||"undefined"===typeof l)return!1;switch(p){case 0:return d===l;case 1:return d!==l;case 2:return d<l;case 3:return d<=l;case 4:return d>l;case 5:return d>=l;default:return!1}}})();var gc={};function Y(d){this.b=d}
(function(){function d(){u&&g&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(b){a.pu(b)})}function r(){}function p(){}var l=Y.prototype;l.qa=function(a){this.la=a;this.b=a.b};var t=l.qa.prototype;t.R=function(){};var u=!1,g=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var a=document.createElement("script");a.onload=function(){u=!0;d()};a.src="offlineClient.js";document.head.appendChild(a)}});var a=null;
t.gp=function(){g=!0;d()};l.ja=function(a){this.type=a;this.b=a.b};t=l.ja.prototype;t.R=function(){var b=this;window.addEventListener("resize",function(){b.b.trigger(Y.prototype.k.Wq,b)});a=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){b.b.trigger(Y.prototype.k.Tq,b)}),window.addEventListener("offline",function(){b.b.trigger(Y.prototype.k.Rq,b)}));this.b.Cd||(document.addEventListener("appMobi.device.update.available",function(){b.b.trigger(Y.prototype.k.bk,
b)}),document.addEventListener("backbutton",function(){b.b.trigger(Y.prototype.k.Qh,b)}),document.addEventListener("menubutton",function(){b.b.trigger(Y.prototype.k.Sm,b)}),document.addEventListener("searchbutton",function(){b.b.trigger(Y.prototype.k.Xq,b)}),document.addEventListener("tizenhwkey",function(a){var c;switch(a.keyName){case "back":c=b.b.trigger(Y.prototype.k.Qh,b);!c&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=b.b.trigger(Y.prototype.k.Sm,
b))||a.preventDefault()}}));this.b.pl&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(a){b.b.trigger(Y.prototype.k.Qh,b)&&(a.handled=!0)}):this.b.po&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!b.b.trigger(Y.prototype.k.Qh,b)});this.b.sr(function(a){a?b.b.trigger(Y.prototype.k.Uq,b):b.b.trigger(Y.prototype.k.Vq,b)});this.$t="undefined"!==typeof window.is_scirra_arcade};t.pu=function(a){a=a.data.type;
"downloading-update"===a?this.b.trigger(Y.prototype.k.$q,this):"update-ready"===a||"update-pending"===a?this.b.trigger(Y.prototype.k.bk,this):"offline-ready"===a&&this.b.trigger(Y.prototype.k.Sq,this)};r.prototype.Tq=function(){return!0};r.prototype.Rq=function(){return!0};r.prototype.bk=function(){return!0};r.prototype.Vq=function(){return!0};r.prototype.Uq=function(){return!0};r.prototype.Wq=function(){return!0};r.prototype.Qh=function(){return!0};r.prototype.Sm=function(){return!0};r.prototype.Xq=
function(){return!0};r.prototype.$q=function(){return!0};r.prototype.bk=function(){return!0};r.prototype.Sq=function(){return!0};l.k=new r;p.prototype.rq=function(){this.b.kc?CocoonJS.App.forceToFinish():window.tizen?window.tizen.application.getCurrentApplication().exit():navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():this.$t||this.b.Ha||window.close()};p.prototype.mr=function(a){try{var d=a.split(","),c,g;c=0;for(g=
d.length;c<g;c++)d[c]=parseInt(d[c],10);navigator.vibrate?navigator.vibrate(d):navigator.mozVibrate?navigator.mozVibrate(d):navigator.webkitVibrate?navigator.webkitVibrate(d):navigator.msVibrate&&navigator.msVibrate(d)}catch(f){}};l.Y=new p;l.Ra=new function(){}})();function jc(d){this.b=d}
(function(){function d(d){this.oa=d;this.ab=!1;this.j=this.speed=this.y=this.x=0;this.opacity=1;this.Yd=this.Mf=this.size=this.Gi=0}var r=jc.prototype;r.qa=function(d){this.la=d;this.b=d.b};var p=r.qa.prototype;p.R=function(){this.B||(this.S=new Image,this.S.vk=this.Cm,this.F=null,this.b.Vj(this.S,this.Mj))};p.ag=function(){this.B||(this.F=null)};p.rh=function(){this.B||!this.d.length||this.F||(this.F=this.b.n.Vf(this.S,!0,this.b.na,this.Hh))};p.Fl=function(){this.B||this.F||!this.b.n||(this.F=this.b.n.Vf(this.S,
!0,this.b.na,this.Hh))};p.Rj=function(){this.B||this.d.length||!this.F||(this.b.n.deleteTexture(this.F),this.F=null)};p.oj=function(d){d.drawImage(this.S,0,0)};d.prototype.init=function(){var d=this.oa;this.x=d.x-d.Xj/2+Math.random()*d.Xj;this.y=d.y-d.Yj/2+Math.random()*d.Yj;this.speed=d.fl-d.Ej/2+Math.random()*d.Ej;this.j=d.j-d.Fj/2+Math.random()*d.Fj;this.opacity=d.dl;this.size=d.el-d.Dj/2+Math.random()*d.Dj;this.Gi=d.Yk-d.Hi/2+Math.random()*d.Hi;this.Yd=this.Mf=0};d.prototype.Tb=function(d){var l=
this.oa;this.x+=Math.cos(this.j)*this.speed*d;this.y+=Math.sin(this.j)*this.speed*d;this.y+=this.Mf*d;this.speed+=l.fb*d;this.size+=this.Gi*d;this.Mf+=l.Nk*d;this.Yd+=d;1>this.size?this.ab=!1:(0!==l.$g&&(this.j+=Math.random()*l.$g*d-l.$g*d/2),0!==l.bh&&(this.speed+=Math.random()*l.bh*d-l.bh*d/2),0!==l.ah&&(this.opacity+=Math.random()*l.ah*d-l.ah*d/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=l.Cf&&this.Yd>=l.timeout&&(this.ab=!1),2===l.Cf&&0>=this.speed&&(this.ab=!1))};d.prototype.Yb=
function(d){var l=this.oa.opacity*this.opacity;if(0!==l){0===this.oa.Cf&&(l*=1-this.Yd/this.oa.timeout);d.globalAlpha=l;var l=this.x-this.size/2,g=this.y-this.size/2;this.oa.b.mc&&(l=l+.5|0,g=g+.5|0);d.drawImage(this.oa.type.S,l,g,this.size,this.size)}};d.prototype.ub=function(d){var l=this.oa.opacity*this.opacity;0===this.oa.Cf&&(l*=1-this.Yd/this.oa.timeout);var g=this.size,a=g*this.oa.op,b=this.x-g/2,q=this.y-g/2;this.oa.b.mc&&(b=b+.5|0,q=q+.5|0);1>a||0===l||(a<d.iu||a>d.Kl?(d.Jd(l),d.Ae(b,q,b+
g,q,b+g,q+g,b,q+g)):d.vu(this.x,this.y,a,l))};d.prototype.left=function(){return this.x-this.size/2};d.prototype.right=function(){return this.x+this.size/2};d.prototype.top=function(){return this.y-this.size/2};d.prototype.bottom=function(){return this.y+this.size/2};r.ja=function(d){this.type=d;this.b=d.b};var p=r.ja.prototype,l=[];p.R=function(){var d=this.A;this.sj=d[0];this.Fj=V(d[1]);this.jg=d[2];this.ym=!0;this.fl=d[3];this.el=d[4];this.dl=d[5]/100;this.Yk=d[6];this.Xj=d[7];this.Yj=d[8];this.Ej=
d[9];this.Dj=d[10];this.Hi=d[11];this.fb=d[12];this.Nk=d[13];this.$g=d[14];this.bh=d[15];this.ah=d[16];this.Cf=d[17];this.timeout=d[18];this.nf=0;this.op=1;this.kj=this.x;this.mj=this.y;this.lj=this.x;this.jj=this.y;this.tr(function(d){d.ga.set(d.kj,d.mj,d.lj,d.jj);d.bb.De(d.ga);d.$h=!1;d.Mm();d.gq()});this.fc||(this.Ab=[]);this.b.Ih(this);this.type.Fl();if(1===this.jg)for(d=0;d<this.sj;d++)this.gk().opacity=0;this.yi=!0};p.xb=function(){var d={r:this.sj,sc:this.Fj,st:this.jg,s:this.ym,isp:this.fl,
isz:this.el,io:this.dl,gr:this.Yk,xr:this.Xj,yr:this.Yj,spr:this.Ej,szr:this.Dj,grnd:this.Hi,acc:this.fb,g:this.Nk,lar:this.$g,lsr:this.bh,lor:this.ah,dm:this.Cf,to:this.timeout,pcc:this.nf,ft:this.yi,p:[]},l,g,a,b=d.p;l=0;for(g=this.Ab.length;l<g;l++)a=this.Ab[l],b.push([a.x,a.y,a.speed,a.j,a.opacity,a.Gi,a.size,a.Mf,a.Yd]);return d};p.Pb=function(d){this.sj=d.r;this.Fj=d.sc;this.jg=d.st;this.ym=d.s;this.fl=d.isp;this.el=d.isz;this.dl=d.io;this.Yk=d.gr;this.Xj=d.xr;this.Yj=d.yr;this.Ej=d.spr;this.Dj=
d.szr;this.Hi=d.grnd;this.fb=d.acc;this.Nk=d.g;this.$g=d.lar;this.bh=d.lsr;this.ah=d.lor;this.Cf=d.dm;this.timeout=d.to;this.nf=d.pcc;this.yi=d.ft;l.push.apply(l,this.Ab);Q(this.Ab);var p,g,a,b=d.p;d=0;for(p=b.length;d<p;d++)g=this.gk(),a=b[d],g.x=a[0],g.y=a[1],g.speed=a[2],g.j=a[3],g.opacity=a[4],g.Gi=a[5],g.size=a[6],g.Mf=a[7],g.Yd=a[8]};p.lf=function(){l.push.apply(l,this.Ab);Q(this.Ab)};p.gk=function(){var p;l.length?(p=l.pop(),p.oa=this):p=new d(this);this.Ab.push(p);p.ab=!0;return p};p.Tb=function(){var d=
this.b.Gg(this),p,g,a,b;if(0===this.jg&&this.ym)for(this.nf+=d*this.sj,g=P(this.nf),this.nf-=g,p=0;p<g;p++)a=this.gk(),a.init();this.kj=this.x;this.mj=this.y;this.lj=this.x;this.jj=this.y;b=p=0;for(g=this.Ab.length;p<g;p++)a=this.Ab[p],this.Ab[b]=a,this.b.ba=!0,1===this.jg&&this.yi&&a.init(),a.Tb(d),a.ab?(a.left()<this.kj&&(this.kj=a.left()),a.right()>this.lj&&(this.lj=a.right()),a.top()<this.mj&&(this.mj=a.top()),a.bottom()>this.jj&&(this.jj=a.bottom()),b++):l.push(a);xa(this.Ab,b);this.K();this.yi=
!1;1===this.jg&&0===this.Ab.length&&this.b.Ie(this)};p.Yb=function(d){var l,g,a,b=this.e;l=0;for(g=this.Ab.length;l<g;l++)a=this.Ab[l],a.right()>=b.T&&a.bottom()>=b.U&&a.left()<=b.X&&a.top()<=b.W&&a.Yb(d)};p.ub=function(d){this.op=this.e.Kb();d.La(this.type.F);var l,g,a,b=this.e;l=0;for(g=this.Ab.length;l<g;l++)a=this.Ab[l],a.right()>=b.T&&a.bottom()>=b.U&&a.left()<=b.X&&a.top()<=b.W&&a.ub(d)};r.k=new function(){};r.Y=new function(){};r.Ra=new function(){}})();function X(d){this.b=d}
(function(){function d(){if(0===this.xk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.kg?b.drawImage(this.S,this.Zf,this.$f,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.S,0,0,this.width,this.height);this.xk=a.toDataURL("image/png")}return this.xk}function r(){}function p(){}function l(){}var t=X.prototype;t.qa=function(a){this.la=a;this.b=a.b};var u=t.qa.prototype;u.R=function(){if(!this.B){var a,b,c,f,h,
g,k,l,q;this.Ic=[];this.Og=!1;a=0;for(b=this.Wb.length;a<b;a++){h=this.Wb[a];k={};k.name=h[0];k.speed=h[1];k.loop=h[2];k.jm=h[3];k.km=h[4];k.pp=h[5];k.V=h[6];k.frames=[];c=0;for(f=h[7].length;c<f;c++)g=h[7][c],l={},l.Mj=g[0],l.Cm=g[1],l.Zf=g[2],l.$f=g[3],l.width=g[4],l.height=g[5],l.duration=g[6],l.Lb=g[7],l.Mb=g[8],l.al=g[9],l.nj=g[10],l.qp=g[11],l.kg=0!==l.width,l.xk="",l.pw=d,q={left:0,top:0,right:1,bottom:1},l.wm=q,l.F=null,(q=this.b.ct(g[0]))?l.S=q:(l.S=new Image,l.S.Mr=g[0],l.S.vk=g[1],l.S.Fr=
null,this.b.Vj(l.S,g[0])),k.frames.push(l),this.Ic.push(l);this.Wb[a]=k}}};u.fq=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=this.d[a],c.mi=c.hb.F};u.ag=function(){if(!this.B){var a,b,c;a=0;for(b=this.Ic.length;a<b;++a)c=this.Ic[a],c.S.Fr=null,c.F=null;this.Og=!1;this.fq()}};u.rh=function(){if(!this.B&&this.d.length){var a,b,c;a=0;for(b=this.Ic.length;a<b;++a)c=this.Ic[a],c.F=this.b.n.Vf(c.S,!1,this.b.na,c.qp);this.fq()}};u.Fl=function(){if(!this.B&&!this.Og&&this.b.n){var a,b,c;a=0;for(b=
this.Ic.length;a<b;++a)c=this.Ic[a],c.F=this.b.n.Vf(c.S,!1,this.b.na,c.qp);this.Og=!0}};u.Rj=function(){if(!this.B&&!this.d.length&&this.Og){var a,b,c;a=0;for(b=this.Ic.length;a<b;++a)c=this.Ic[a],this.b.n.deleteTexture(c.F),c.F=null;this.Og=!1}};var g=[];u.oj=function(a){var b,c,f;Q(g);b=0;for(c=this.Ic.length;b<c;++b)f=this.Ic[b].S,-1===g.indexOf(f)&&(a.drawImage(f,0,0),g.push(f))};t.ja=function(a){this.type=a;this.b=a.b;a=this.type.Wb[0].frames[0].nj;this.fc?this.M.yh(a):this.M=new $a(a)};var a=
t.ja.prototype;a.R=function(){this.visible=0===this.A[0];this.Ii=this.Vg=!1;this.sd=0!==this.A[3];this.ra=this.Pn(this.A[1])||this.type.Wb[0];this.C=this.A[2];0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);var a=this.ra.frames[this.C];this.M.yh(a.nj);this.Lb=a.Lb;this.Mb=a.Mb;this.Af=this.ra.speed;this.ie=this.ra.km;1===this.type.Wb.length&&1===this.type.Wb[0].frames.length||0===this.Af||(this.b.Ih(this),this.Vg=!0);this.fc?this.dd.reset():this.dd=new Xa;this.zd=
this.dd.ua;this.Le=!0;this.qd=0;this.Ke=!0;this.fi=this.hn="";this.vn=0;this.ei=-1;this.type.Fl();var b,c,f,d,g,k,l,a=0;for(b=this.type.Wb.length;a<b;a++)for(d=this.type.Wb[a],c=0,f=d.frames.length;c<f;c++)g=d.frames[c],0===g.width&&(g.width=g.S.width,g.height=g.S.height),g.kg&&(l=g.S,k=g.wm,k.left=g.Zf/l.width,k.top=g.$f/l.height,k.right=(g.Zf+g.width)/l.width,k.bottom=(g.$f+g.height)/l.height,0===g.Zf&&0===g.$f&&g.width===l.width&&g.height===l.height&&(g.kg=!1));this.hb=this.ra.frames[this.C];this.mi=
this.hb.F};a.xb=function(){var a={a:this.ra.V,f:this.C,cas:this.Af,fs:this.zd,ar:this.qd,at:this.dd.ua,rt:this.ie};this.Le||(a.ap=this.Le);this.Ke||(a.af=this.Ke);return a};a.Pb=function(a){var b=this.et(a.a);b&&(this.ra=b);this.C=a.f;0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);this.Af=a.cas;this.zd=a.fs;this.qd=a.ar;this.dd.reset();this.dd.ua=a.at;this.Le=a.hasOwnProperty("ap")?a.ap:!0;this.Ke=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.ie=
a.rt:this.ie=this.ra.km;this.hb=this.ra.frames[this.C];this.mi=this.hb.F;this.M.yh(this.hb.nj);this.Lb=this.hb.Lb;this.Mb=this.hb.Mb};a.jk=function(a){this.C=a?0:this.ra.frames.length-1;this.Le=!1;this.hn=this.ra.name;this.Ii=!0;this.b.trigger(X.prototype.k.Iq,this);this.b.trigger(X.prototype.k.Hq,this);this.Ii=!1;this.qd=0};a.Vh=function(){return this.dd.ua};a.Tb=function(){this.dd.add(this.b.Gg(this));this.fi.length&&this.En();0<=this.ei&&this.Fn();var a=this.dd.ua,b=this.ra,c=b.frames[this.C],
f=c.duration/this.Af;this.Le&&a>=this.zd+f&&(this.Ke?this.C++:this.C--,this.zd+=f,this.C>=b.frames.length&&(b.pp?(this.Ke=!1,this.C=b.frames.length-2):b.loop?this.C=this.ie:(this.qd++,this.qd>=b.jm?this.jk(!1):this.C=this.ie)),0>this.C&&(b.pp?(this.C=1,this.Ke=!0,b.loop||(this.qd++,this.qd>=b.jm&&this.jk(!0))):b.loop?this.C=this.ie:(this.qd++,this.qd>=b.jm?this.jk(!0):this.C=this.ie)),0>this.C?this.C=0:this.C>=b.frames.length&&(this.C=b.frames.length-1),a>this.zd+b.frames[this.C].duration/this.Af&&
(this.zd=a),a=b.frames[this.C],this.wf(c,a),this.b.ba=!0)};a.Pn=function(a){var b,c,f;b=0;for(c=this.type.Wb.length;b<c;b++)if(f=this.type.Wb[b],fb(f.name,a))return f;return null};a.et=function(a){var b,c,f;b=0;for(c=this.type.Wb.length;b<c;b++)if(f=this.type.Wb[b],f.V===a)return f;return null};a.En=function(){var a=this.ra.frames[this.C],b=this.Pn(this.fi);this.fi="";!b||fb(b.name,this.ra.name)&&this.Le||(this.ra=b,this.Af=b.speed,this.ie=b.km,0>this.C&&(this.C=0),this.C>=this.ra.frames.length&&
(this.C=this.ra.frames.length-1),1===this.vn&&(this.C=0),this.Le=!0,this.zd=this.dd.ua,this.Ke=!0,this.wf(a,this.ra.frames[this.C]),this.b.ba=!0)};a.Fn=function(){var a=this.ra.frames[this.C],b=this.C;this.C=P(this.ei);0>this.C&&(this.C=0);this.C>=this.ra.frames.length&&(this.C=this.ra.frames.length-1);b!==this.C&&(this.wf(a,this.ra.frames[this.C]),this.zd=this.dd.ua,this.b.ba=!0);this.ei=-1};a.wf=function(a,b){var c=a.width,f=a.height,d=b.width,g=b.height;c!=d&&(this.width*=d/c);f!=g&&(this.height*=
g/f);this.Lb=b.Lb;this.Mb=b.Mb;this.M.yh(b.nj);this.K();this.hb=b;this.mi=b.F;c=0;for(f=this.J.length;c<f;c++)d=this.J[c],d.qu&&d.qu(a,b);this.b.trigger(X.prototype.k.wf,this)};a.Yb=function(a){a.globalAlpha=this.opacity;var b=this.hb,c=b.kg,f=b.S,d=this.x,g=this.y,k=this.width,l=this.height;if(0===this.j&&0<=k&&0<=l)d-=this.Lb*k,g-=this.Mb*l,this.b.mc&&(d=Math.round(d),g=Math.round(g)),c?a.drawImage(f,b.Zf,b.$f,b.width,b.height,d,g,k,l):a.drawImage(f,d,g,k,l);else{this.b.mc&&(d=Math.round(d),g=Math.round(g));
a.save();var q=0<k?1:-1,p=0<l?1:-1;a.translate(d,g);1===q&&1===p||a.scale(q,p);a.rotate(this.j*q*p);d=0-this.Lb*ka(k);g=0-this.Mb*ka(l);c?a.drawImage(f,b.Zf,b.$f,b.width,b.height,d,g,ka(k),ka(l)):a.drawImage(f,d,g,ka(k),ka(l));a.restore()}};a.Df=function(a){this.ub(a)};a.ub=function(a){a.La(this.mi);a.Jd(this.opacity);var b=this.hb,c=this.bb;if(this.b.mc){var f=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y;b.kg?a.Id(c.ya+f,c.za+d,c.Za+f,c.$a+d,c.Pa+f,c.Qa+d,c.Na+f,c.Oa+d,b.wm):a.Ae(c.ya+f,
c.za+d,c.Za+f,c.$a+d,c.Pa+f,c.Qa+d,c.Na+f,c.Oa+d)}else b.kg?a.Id(c.ya,c.za,c.Za,c.$a,c.Pa,c.Qa,c.Na,c.Oa,b.wm):a.Ae(c.ya,c.za,c.Za,c.$a,c.Pa,c.Qa,c.Na,c.Oa)};a.jt=function(a){var b=this.hb,c,f;c=0;for(f=b.al.length;c<f;c++)if(fb(a,b.al[c][0]))return c;return-1};a.Hg=function(a,b){var c=this.hb,f=c.al,d;x(a)?d=this.jt(a):d=a-1;d=P(d);if(0>d||d>=f.length)return b?this.x:this.y;var g=(f[d][1]-c.Lb)*this.width,f=f[d][2],f=(f-c.Mb)*this.height,c=Math.cos(this.j);d=Math.sin(this.j);var k=g*c-f*d,f=f*c+
g*d,g=k+this.x,f=f+this.y;return b?g:f};var b=null,q=new ba,c=!1,k=[],f=new ta(0,0,0,0);u.finish=function(a){if(c){if(a){var f=this.b.kb().Ib.xc;a=b.da();var d=q.pd(),g,h;if(a.ia){a.ia=!1;Q(a.d);g=0;for(h=d.length;g<h;++g)a.d[g]=d[g];if(f)for(Q(a.Q),g=0,h=b.d.length;g<h;++g)d=b.d[g],q.contains(d)||a.Q.push(d)}else if(f)for(f=a.d.length,g=0,h=d.length;g<h;++g)a.d[f+g]=d[g],Da(a.Q,d[g]);else ya(a.d,d);b.rd()}q.clear();c=!1}};r.prototype.Cq=function(a){if(a){var d=!1,g,l,h,n=this.b.Sn(),p=n.type,n=n.Ji;
g=a.da();l=this.b.kb().Ib.xc;var r;g.ia?(this.ca(),f.zf(this.ga),f.offset(0,0),this.b.Qn(this.e,a,f,k),r=k):r=l?this.b.Vt()&&!g.Q.length&&g.d.length?g.d:g.Q:g.d;b=a;c=p!==a&&!n;g=0;for(l=r.length;g<l;g++)if(h=r[g],this.b.sf(this,h)){d=!0;if(n)break;p!==a&&q.add(h)}Q(k);a=d}else a=!1;return a};r.prototype.Hq=function(a){return fb(this.hn,a)};r.prototype.Iq=function(){return!0};r.prototype.wf=function(){return!0};t.k=new r;p.prototype.dr=function(a,b){this.fi=a;this.vn=b;this.Vg||(this.b.Ih(this),this.Vg=
!0);this.Ii||this.En()};p.prototype.er=function(a){this.ei=a;this.Vg||(this.b.Ih(this),this.Vg=!0);this.Ii||this.Fn()};t.Y=new p;l.prototype.xq=function(a,b){a.D(this.Hg(b,!0))};l.prototype.yq=function(a,b){a.D(this.Hg(b,!1))};t.Ra=new l})();function kc(d){this.b=d}
(function(){function d(a,b){return a.length?a.pop():new b}function r(a,b,c){if(c){var d;c=0;for(d=b.length;c<d;c++)a.length<g&&a.push(b[c]);Q(b)}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a.length<g&&a.push(b[d]),delete b[d])}function p(b,c,g){var k=b.zb;g=g.replace(/\s\s*$/,"");c>=k.length&&k.push(d(a,Object));c=k[c];c.text=g;c.width=b.Ml(g);b.Rd=la(b.Rd,c.width)}function l(){}var t=kc.prototype;t.R=function(){};t.qa=function(a){this.la=a;this.b=a.b};var u=t.qa.prototype;u.R=function(){this.B||
(this.S=new Image,this.b.Vj(this.S,this.Mj),this.F=null)};u.ag=function(){this.B||(this.F=null)};u.rh=function(){if(!this.B&&this.d.length){this.F||(this.F=this.b.n.Vf(this.S,!1,this.b.na,this.Hh));var a,b;a=0;for(b=this.d.length;a<b;a++)this.d[a].F=this.F}};u.Rj=function(){this.B||this.d.length||!this.F||(this.b.n.deleteTexture(this.F),this.F=null)};u.oj=function(a){a.drawImage(this.S,0,0)};t.ja=function(a){this.type=a;this.b=a.b};u=t.ja.prototype;u.lf=function(){r(a,this.zb,!0);r(b,this.hi,!1);
r(q,this.ii,!1);Ra(this.ee)};u.R=function(){this.S=this.type.S;this.gi=this.A[0];this.be=this.A[1];this.characterSet=this.A[2];this.text=this.A[3];this.de=this.A[4];this.visible=0===this.A[5];this.Ad=this.A[6]/2;this.Td=this.A[7]/2;this.Ph=0===this.A[9];this.yf=this.A[10];this.lineHeight=this.A[11];this.nd=this.Rd=0;this.fc?(Q(this.zb),Ra(this.hi),Ra(this.ii),Ra(this.ee)):(this.zb=[],this.hi={},this.ii={},this.ee={});this.oc=!0;this.cf=this.width;this.b.n&&(this.type.F||(this.type.F=this.b.n.Vf(this.type.S,
!1,this.b.na,this.type.Hh)),this.F=this.type.F);this.lr()};u.xb=function(){var a={t:this.text,csc:this.de,csp:this.yf,lh:this.lineHeight,tw:this.Rd,th:this.nd,lrt:this.bf,ha:this.Ad,va:this.Td,cw:{}},b;for(b in this.ee)a.cw[b]=this.ee[b];return a};u.Pb=function(a){this.text=a.t;this.de=a.csc;this.yf=a.csp;this.lineHeight=a.lh;this.Rd=a.tw;this.nd=a.th;this.bf=a.lrt;a.hasOwnProperty("ha")&&(this.Ad=a.ha);a.hasOwnProperty("va")&&(this.Td=a.va);for(var b in a.cw)this.ee[b]=a.cw[b];this.oc=!0;this.cf=
this.width};var g=1E3,a=[],b=[],q=[];u.lr=function(){for(var a=this.S,c=a.width,g=a.height,a=this.gi,k=this.be,l=a/c,h=k/g,n=this.characterSet,c=Math.floor(c/a),g=Math.floor(g/k),p=0;p<n.length&&!(p>=c*g);p++){var r=p%c,t=Math.floor(p/c),u=n.charAt(p);if(this.b.n){var K=this.ii,D=r*l,A=t*h,r=(r+1)*l,t=(t+1)*h;void 0===K[u]&&(K[u]=d(q,ta));K[u].left=D;K[u].top=A;K[u].right=r;K[u].bottom=t}else K=this.hi,r=r*a,t=t*k,D=a,A=k,void 0===K[u]&&(K[u]=d(b,Object)),K[u].x=r,K[u].y=t,K[u].jq=D,K[u].$n=A}};var c=
[];t.dk=function(a){Q(c);for(var b="",d,g=0;g<a.length;)if(d=a.charAt(g),"\n"===d)b.length&&(c.push(b),b=""),c.push("\n"),++g;else if(" "===d||"\t"===d||"-"===d){do b+=a.charAt(g),g++;while(g<a.length&&(" "===a.charAt(g)||"\t"===a.charAt(g)));c.push(b);b=""}else g<a.length&&(b+=d,g++);b.length&&c.push(b)};t.ek=function(b){var c=b.text,g=b.zb;if(c&&c.length){var k=b.width;if(2>=k)r(a,g,!0);else{var l=b.de,h=b.yf;if(c.length*(b.gi*l+h)-h<=k&&-1===c.indexOf("\n")&&(h=b.Ml(c),h<=k)){r(a,g,!0);g.push(d(a,
Object));g[0].text=c;g[0].width=h;b.Rd=h;b.nd=b.be*l+b.lineHeight;return}this.fk(b);b.nd=g.length*(b.be*l+b.lineHeight)}}else r(a,g,!0)};t.fk=function(b){var e=b.Ph,d=b.text,k=b.zb,l=b.width;e&&(this.dk(d),d=c);var h="",n,q,r,t=0,u=!1;for(r=0;r<d.length;r++)"\n"===d[r]?(!0===u?u=!1:(p(b,t,h),t++),h=""):(u=!1,n=h,h+=d[r],q=b.Ml(h.replace(/\s\s*$/,"")),q>l&&(""===n?(p(b,t,h),h="",u=!0):(p(b,t,n),h=d[r]),t++,e||" "!==h||(h="")));h.replace(/\s\s*$/,"").length&&(p(b,t,h),t++);for(r=t;r<k.length;r++)a.length<
g&&a.push(k[r]);k.length=t};u.Ml=function(a){for(var b=this.yf,c=a.length,d=0,g=0;g<c;g++)d+=this.Pk(a.charAt(g))*this.de+b;return d-(0<d?b:0)};u.Pk=function(a){var b=this.ee;return void 0!==b[a]?b[a]:this.gi};u.yp=function(){if(this.oc||this.width!==this.cf)this.nd=this.Rd=0,this.type.la.ek(this),this.oc=!1,this.cf=this.width};u.Yb=function(a){var b=this.S;if(""!==this.text&&null!=b&&(this.yp(),!(this.height<this.be*this.de+this.lineHeight))){a.globalAlpha=this.opacity;var b=this.x,c=this.y;this.b.mc&&
(b=Math.round(b),c=Math.round(c));var d=this.e.T,g=this.e.U,h=this.e.X,k=this.e.W;a.save();a.translate(b,c);a.rotate(this.j);for(var l=this.j,q=this.Ad,p=this.de,r=this.be*p,t=this.lineHeight,u=this.yf,A=this.zb,H,R=-(this.Lb*this.width),B=-(this.Mb*this.height),B=B+this.Td*la(0,this.height-this.nd),I,G,M,T=0;T<A.length;T++){var F=A[T].text;H=q*la(0,this.width-A[T].width);I=R+H;B+=t;if(0===l&&c+B+r<g)B+=r;else{for(var w=0;w<F.length;w++){G=F.charAt(w);H=this.Pk(G);var z=this.hi[G];if(0===l&&b+I+H*
p+u<d)I+=H*p+u;else{if(I+H*p>this.width+1E-5)break;void 0!==z&&(G=I,M=B,0===l&&1===p&&(G=Math.round(G),M=Math.round(M)),a.drawImage(this.S,z.x,z.y,z.jq,z.$n,G,M,z.jq*p,z.$n*p));I+=H*p+u;if(0===l&&b+I>h)break}}B+=r;if(0===l&&(B+r+t>this.height||c+B>k))break}}a.restore()}};var k=new ua;u.ub=function(a){a.La(this.F);a.Jd(this.opacity);if(this.text&&(this.yp(),!(this.height<this.be*this.de+this.lineHeight))){this.ca();var b=this.bb,c=0,d=0;this.b.mc&&(c=Math.round(this.x)-this.x,d=Math.round(this.y)-
this.y);var g=this.e.T,h=this.e.U,l=this.e.X,q=this.e.W,p=this.j,r=this.Ad,t=this.Td,u=this.de,D=this.be*u,A=this.lineHeight,H=this.yf,R=this.zb,B=this.nd,I,G,M;0!==p&&(G=Math.cos(p),M=Math.sin(p));for(var c=b.ya+c,b=b.za+d,T,t=t*la(0,this.height-B),F,w,B=0;B<R.length;B++)if(d=R[B].text,T=I=r*la(0,this.width-R[B].width),t+=A,0===p&&b+t+D<h)t+=D;else{for(var z=0;z<d.length;z++){var C=d.charAt(z);I=this.Pk(C);C=this.ii[C];if(0===p&&c+T+I*u+H<g)T+=I*u+H;else{if(T+I*u>this.width+1E-5)break;if(void 0!==
C){var N=this.gi*u,E=this.be*u;F=T;w=t;0===p&&1===u&&(F=Math.round(F),w=Math.round(w));k.ya=F;k.za=w;k.Za=F+N;k.$a=w;k.Na=F;k.Oa=w+E;k.Pa=F+N;k.Qa=w+E;0!==p&&(F=k,w=G,N=M,E=void 0,E=F.ya*w-F.za*N,F.za=F.za*w+F.ya*N,F.ya=E,E=F.Za*w-F.$a*N,F.$a=F.$a*w+F.Za*N,F.Za=E,E=F.Na*w-F.Oa*N,F.Oa=F.Oa*w+F.Na*N,F.Na=E,E=F.Pa*w-F.Qa*N,F.Qa=F.Qa*w+F.Pa*N,F.Pa=E);k.offset(c,b);a.Id(k.ya,k.za,k.Za,k.$a,k.Pa,k.Qa,k.Na,k.Oa,C)}T+=I*u+H;if(0===p&&c+T>l)break}}t+=D;if(0===p&&(t+D+A>this.height||b+t>q))break}}};t.k=new function(){};
l.prototype.Zm=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.oc=!0,this.b.ba=!0)};u.Vh=function(a,b){var c=parseInt(b,10);this.ee[a]!==c&&(this.ee[a]=c,this.oc=!0,this.b.ba=!0)};t.Y=new l;t.Ra=new function(){}})();function lc(d){this.b=d}
(function(){function d(){return a.length?a.pop():{}}function r(b){var d,c;d=0;for(c=b.length;d<c;d++)a.push(b[d]);Q(b)}function p(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function l(){}var t=lc.prototype;t.R=function(){t.Y.kr=function(a){this.width!==a&&(this.width=a,this.oc=!0,this.K())}};t.qa=function(a){this.la=a;this.b=a.b};var u=t.qa.prototype;u.R=function(){};u.ag=function(){if(!this.B){var a,d,c;a=0;for(d=this.d.length;a<d;a++)c=this.d[a],c.jd=null,c.jf=null,
c.cc=null}};t.ja=function(a){this.type=a;this.b=a.b;this.fc?Q(this.zb):this.zb=[];this.oc=!0};u=t.ja.prototype;u.R=function(){this.text=this.A[0];this.visible=0===this.A[1];this.font=this.A[2];this.color=this.A[3];this.Ad=this.A[4];this.Td=this.A[5];this.Ph=0===this.A[7];this.cf=this.Ti=this.width;this.Si=this.height;this.El=this.A[8];this.Ai=this.Gf="";this.nd=this.Rd=this.vh=0;this.tu();this.cc=this.jf=this.jd=null;this.$o=!1;this.bf=this.b.Yc;this.fc?this.eg.set(0,0,1,1):this.eg=new ta(0,0,1,1);
this.b.n&&this.b.Ih(this)};u.tu=function(){var a=this.font.split(" "),d;for(d=0;d<a.length;d++)if("pt"===a[d].substr(a[d].length-2,2)){this.vh=parseInt(a[d].substr(0,a[d].length-2));this.em=Math.ceil(this.vh/72*96)+4;0<d&&(this.Ai=a[d-1]);this.Gf=a[d+1];for(d+=2;d<a.length;d++)this.Gf+=" "+a[d];break}};u.xb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Ad,va:this.Td,wr:this.Ph,lho:this.El,fn:this.Gf,fs:this.Ai,ps:this.vh,pxh:this.em,tw:this.Rd,th:this.nd,lrt:this.bf}};u.Pb=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Ad=a.ha;this.Td=a.va;this.Ph=a.wr;this.El=a.lho;this.Gf=a.fn;this.Ai=a.fs;this.vh=a.ps;this.em=a.pxh;this.Rd=a.tw;this.nd=a.th;this.bf=a.lrt;this.oc=!0;this.cf=this.Ti=this.width;this.Si=this.height};u.Tb=function(){if(this.b.n&&this.cc&&300<=this.b.Yc-this.bf){var a=this.e;this.ca();var d=this.ga;if(d.right<a.T||d.bottom<a.U||d.left>a.X||d.top>a.W)this.b.n.deleteTexture(this.cc),this.jd=this.jf=this.cc=null}};u.lf=function(){this.jd=this.jf=null;this.b.n&&this.cc&&
this.b.n.deleteTexture(this.cc);this.cc=null};u.Vh=function(){this.font=this.Ai+" "+this.vh.toString()+"pt "+this.Gf;this.oc=!0;this.b.ba=!0};u.Yb=function(a,d){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=d?1:this.opacity;var c=1;d&&(c=Math.abs(this.e.Kb()),a.save(),a.scale(c,c));if(this.oc||this.width!==this.cf)this.type.la.ek(this.text,this.zb,a,this.width,this.Ph),this.oc=!1,this.cf=this.width;this.ca();var c=d?0:this.bb.ya,g=d?0:this.bb.za;this.b.mc&&(c=c+.5|0,g=
g+.5|0);0===this.j||d||(a.save(),a.translate(c,g),a.rotate(this.j),g=c=0);var f=g+this.height,e=this.em,e=e+this.El,l,p;1===this.Td?g+=Math.max(this.height/2-this.zb.length*e/2,0):2===this.Td&&(g+=Math.max(this.height-this.zb.length*e-2,0));for(p=0;p<this.zb.length&&!(l=c,1===this.Ad?l=c+(this.width-this.zb[p].width)/2:2===this.Ad&&(l=c+(this.width-this.zb[p].width)),a.fillText(this.zb[p].text,l,g),g+=e,g>=f-e);p++);(0!==this.j||d)&&a.restore();this.bf=this.b.Yc};u.ub=function(a){if(!(1>this.width||
1>this.height)){var d=this.oc||this.$o;this.$o=!1;var c=this.e.Kb(),g=this.e.Zb(),f=this.eg,e=c*this.width,l=c*this.height,p=Math.ceil(e),r=Math.ceil(l),h=Math.abs(p),n=Math.abs(r),t=this.b.I/2,u=this.b.H/2;this.jf||(this.jd=document.createElement("canvas"),this.jd.width=h,this.jd.height=n,this.Ti=h,this.Si=n,d=!0,this.jf=this.jd.getContext("2d"));if(h!==this.Ti||n!==this.Si)this.jd.width=h,this.jd.height=n,this.cc&&(a.deleteTexture(this.cc),this.cc=null),d=!0;d&&(this.jf.clearRect(0,0,h,n),this.Yb(this.jf,
!0),this.cc||(this.cc=a.Hb(h,n,this.b.na,this.b.pe)),a.Om(this.jd,this.cc,this.b.pe));this.Ti=h;this.Si=n;a.La(this.cc);a.Jd(this.opacity);a.Bc();a.translate(-t,-u);a.pc();var O=this.bb,d=this.e.xa(O.ya,O.za,!0,!0),h=this.e.xa(O.ya,O.za,!1,!0),n=this.e.xa(O.Za,O.$a,!0,!0),t=this.e.xa(O.Za,O.$a,!1,!0),u=this.e.xa(O.Pa,O.Qa,!0,!0),ja=this.e.xa(O.Pa,O.Qa,!1,!0),K=this.e.xa(O.Na,O.Oa,!0,!0),O=this.e.xa(O.Na,O.Oa,!1,!0);if(this.b.mc||0===this.j&&0===g)var D=(d+.5|0)-d,A=(h+.5|0)-h,d=d+D,h=h+A,n=n+D,t=
t+A,u=u+D,ja=ja+A,K=K+D,O=O+A;0===this.j&&0===g?(n=d+p,t=h,u=n,ja=h+r,K=d,O=ja,f.right=1,f.bottom=1):(f.right=e/p,f.bottom=l/r);a.Id(d,h,n,t,u,ja,K,O,f);a.Bc();a.scale(c,c);a.vj(-this.e.Zb());a.translate((this.e.T+this.e.X)/-2,(this.e.U+this.e.W)/-2);a.pc();this.bf=this.b.Yc}};var g=[];t.dk=function(a){Q(g);for(var d="",c,k=0;k<a.length;)if(c=a.charAt(k),"\n"===c)d.length&&(g.push(d),d=""),g.push("\n"),++k;else if(" "===c||"\t"===c||"-"===c){do d+=a.charAt(k),k++;while(k<a.length&&(" "===a.charAt(k)||
"\t"===a.charAt(k)));g.push(d);d=""}else k<a.length&&(d+=c,k++);d.length&&g.push(d)};var a=[];t.ek=function(a,g,c,k,f){if(a&&a.length)if(2>=k)r(g);else{if(100>=a.length&&-1===a.indexOf("\n")){var e=c.measureText(a).width;if(e<=k){r(g);g.push(d());g[0].text=a;g[0].width=e;return}}this.fk(a,g,c,k,f)}else r(g)};t.fk=function(b,l,c,k,f){f&&(this.dk(b),b=g);var e="",m,r,t,h=0;for(t=0;t<b.length;t++)"\n"===b[t]?(h>=l.length&&l.push(d()),e=p(e),r=l[h],r.text=e,r.width=c.measureText(e).width,h++,e=""):(m=
e,e+=b[t],r=c.measureText(e).width,r>=k&&(h>=l.length&&l.push(d()),m=p(m),r=l[h],r.text=m,r.width=c.measureText(m).width,h++,e=b[t],f||" "!==e||(e="")));e.length&&(h>=l.length&&l.push(d()),e=p(e),r=l[h],r.text=e,r.width=c.measureText(e).width,h++);for(t=h;t<l.length;t++)a.push(l[t]);l.length=h};t.k=new function(){};l.prototype.Zm=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.oc=!0,this.b.ba=!0)};t.Y=new l;t.Ra=new function(){}})();
function Z(d){this.b=d}
(function(){function d(a){q=a.x;c=a.y;k=a.z}function r(a,b,c,d){var e;e=f.length?f.pop():new p;e.init(a,b,c,d);return e}function p(){this.Ch=this.id=this.ef=this.df=this.y=this.x=this.Ij=this.Hj=this.yl=this.time=this.Am=0;this.Jh=this.Pj=!1}function l(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function t(){}function u(){}var g=Z.prototype;g.qa=function(a){this.la=a;
this.b=a.b};g.qa.prototype.R=function(){};g.ja=function(a){this.type=a;this.b=a.b;this.touches=[];this.Nl=!1};var a=g.ja.prototype,b={left:0,top:0};a.Fg=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var q=0,c=0,k=0,f=[];p.prototype.init=function(a,b,c,d){var e=Sa();this.Am=this.yl=this.time=e;this.Hj=a;this.Ij=b;this.x=a;this.y=b;this.df=a;this.ef=b;this.pressure=this.height=this.width=0;this.id=c;this.Ch=d;this.Jh=this.Pj=!1};p.prototype.update=
function(a,b,c,d,e,f){this.yl=this.time;this.time=a;this.df=this.x;this.ef=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Jh&&15<=Oa(this.Hj,this.Ij,this.x,this.y)&&(this.Jh=!0)};p.prototype.gu=function(a,b){!this.Pj&&500<=Sa()-this.Am&&!this.Jh&&15>Oa(this.Hj,this.Ij,this.x,this.y)&&(this.Pj=!0,a.od=this.Ch,a.og=this.id,a.Kf=b,a.b.trigger(Z.prototype.k.Nq,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.k.Oq,a),a.Kf=0)};var e=-1E3,m=-1E3,y=-1E4;p.prototype.Vo=function(a,
b){if(!this.Pj){var c=Sa();333>=c-this.Am&&!this.Jh&&15>Oa(this.Hj,this.Ij,this.x,this.y)&&(a.od=this.Ch,a.og=this.id,a.Kf=b,666>=c-y&&25>Oa(e,m,this.x,this.y)?(a.b.trigger(Z.prototype.k.Lq,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.k.Mq,a),m=e=-1E3,y=-1E4):(a.b.trigger(Z.prototype.k.Yq,a),a.ud=this.x,a.vd=this.y,a.b.trigger(Z.prototype.k.Zq,a),e=this.x,m=this.y,y=c),a.Kf=0)}};a.R=function(){this.Yt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Kf=this.og=this.od=
this.vd=this.ud=this.dn=this.cn=this.bn=this.qr=this.pr=this.or=this.ij=this.hj=this.gj=0;this.cv=0!==this.A[0];var a=0<this.b.Jb?document:this.b.canvas,b=document;this.b.Cd?b=a=window.Canvas:this.b.kc&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.ip(a)},!1),a.addEventListener("pointermove",function(a){c.hp(a)},!1),b.addEventListener("pointerup",function(a){c.fj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.fj(a,!0)},!1),this.b.canvas&&
(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.ip(a)},!1),a.addEventListener("MSPointerMove",function(a){c.hp(a)},!1),b.addEventListener("MSPointerUp",
function(a){c.fj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.fj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.kp(a)},!1),a.addEventListener("touchmove",function(a){c.jp(a)},!1),b.addEventListener("touchend",function(a){c.Tl(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Tl(a,!0)},
!1));if(this.Yt){var e=function(a){a=a.reading;c.bn=a.accelerationX;c.cn=a.accelerationY;c.dn=a.accelerationZ},f=function(a){a=a.reading;c.gj=a.yawDegrees;c.hj=a.pitchDegrees;c.ij=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),k&&k.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.gj=a.alpha||0;c.hj=a.beta||0;c.ij=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.or=a.accelerationIncludingGravity.x||0,c.pr=a.accelerationIncludingGravity.y||
0,c.qr=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.bn=a.acceleration.x||0,c.cn=a.acceleration.y||0,c.dn=a.acceleration.z||0)},!1);this.cv&&!this.b.Ha&&(jQuery(document).mousemove(function(a){c.nu(a)}),jQuery(document).mousedown(function(a){c.mu(a)}),jQuery(document).mouseup(function(a){c.ou(a)}));!this.b.Pi&&this.b.vc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(d,null,{frequency:40});this.b.Up(this)};a.hp=function(a){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var c=this.Fg(a.pointerId),d=Sa();if(0<=c){var e=this.b.Ha?b:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,a.pageX-e.left,a.pageY-e.top,a.width||0,a.height||0,a.pressure||0)}}};a.ip=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&gb(a)&&a.preventDefault();var c=this.b.Ha?b:jQuery(this.b.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;Sa();
this.od=this.touches.length;this.og=a.pointerId;this.touches.push(r(d,c,a.pointerId,this.od));this.b.oe=!0;this.b.trigger(Z.prototype.k.Um,this);this.b.trigger(Z.prototype.k.Xm,this);this.ud=d;this.vd=c;this.b.trigger(Z.prototype.k.ak,this);this.b.oe=!1}};a.fj=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&gb(a)&&a.preventDefault();var c=this.Fg(a.pointerId);this.od=0<=c?this.touches[c].Ch:-1;this.og=0<=c?this.touches[c].id:-1;this.b.oe=!0;this.b.trigger(Z.prototype.k.Tm,
this);this.b.trigger(Z.prototype.k.Wm,this);0<=c&&(b||this.touches[c].Vo(this,c),100>f.length&&f.push(this.touches[c]),this.touches.splice(c,1));this.b.oe=!1}};a.jp=function(a){a.preventDefault&&a.preventDefault();var c=Sa(),d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.Fg(f.identifier),0<=g){var k=this.b.Ha?b:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-k.left,f.pageY-k.top,2*(f.Bw||f.Kw||f.uw||f.xw||0),2*(f.Cw||f.Lw||f.vw||f.yw||
0),f.ow||f.Jw||f.sw||f.ww||0)}};a.kp=function(a){a.preventDefault&&gb(a)&&a.preventDefault();var c=this.b.Ha?b:jQuery(this.b.canvas).offset();Sa();this.b.oe=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.Fg(f.identifier),-1===g){g=f.pageX-c.left;var k=f.pageY-c.top;this.od=this.touches.length;this.og=f.identifier;this.touches.push(r(g,k,f.identifier,this.od));this.b.trigger(Z.prototype.k.Um,this);this.b.trigger(Z.prototype.k.Xm,this);this.ud=g;this.vd=k;this.b.trigger(Z.prototype.k.ak,
this)}this.b.oe=!1};a.Tl=function(a,b){a.preventDefault&&gb(a)&&a.preventDefault();this.b.oe=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Fg(e.identifier),0<=e&&(this.od=this.touches[e].Ch,this.og=this.touches[e].id,this.b.trigger(Z.prototype.k.Tm,this),this.b.trigger(Z.prototype.k.Wm,this),b||this.touches[e].Vo(this,e),100>f.length&&f.push(this.touches[e]),this.touches.splice(e,1));this.b.oe=!1};a.Vh=function(){return this.b.vc&&0===this.gj&&0!==k?90*k:this.gj};
a.lw=function(){return this.b.vc&&0===this.hj&&0!==c?90*c:this.hj};a.mw=function(){return this.b.vc&&0===this.ij&&0!==q?90*q:this.ij};a.mu=function(a){l(a)||(this.kp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.Nl=!0)};a.nu=function(a){this.Nl&&!l(a)&&this.jp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.ou=function(a){a.preventDefault&&this.b.ao&&!this.b.pe&&a.preventDefault();this.b.ao=!0;l(a)||(this.Tl({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.Nl=!1)};a.mg=function(){var a,b,c,d=Sa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.yl=d),c.gu(this,a)};t.prototype.Xm=function(){return!0};t.prototype.Wm=function(){return!0};t.prototype.ak=function(a){return a?this.b.Lj(a,this.ud,this.vd):!1};var J=[];t.prototype.Dq=function(a){if(!a)return!1;var b=a.da(),c=b.uc(),d,e,f,g,k,l;f=0;for(g=c.length;f<g;f++){var m=c[f];m.ca();k=0;for(l=this.touches.length;k<l;k++)if(e=this.touches[k],d=m.e.gb(e.x,e.y,!0),e=m.e.gb(e.x,
e.y,!1),m.sb(d,e)){J.push(m);break}}return J.length?(b.ia=!1,ya(b.d,J),a.rd(),Q(J),!0):!1};t.prototype.Um=function(a){a=Math.floor(a);return a===this.od};t.prototype.Tm=function(a){a=Math.floor(a);return a===this.od};t.prototype.Nq=function(){return!0};t.prototype.Yq=function(){return!0};t.prototype.Lq=function(){return!0};t.prototype.Oq=function(a){return a?this.b.Lj(a,this.ud,this.vd):!1};t.prototype.Zq=function(a){return a?this.b.Lj(a,this.ud,this.vd):!1};t.prototype.Mq=function(a){return a?this.b.Lj(a,
this.ud,this.vd):!1};g.k=new t;u.prototype.$m=function(a,b){var c=this.Kf;if(0>c||c>=this.touches.length)a.D(0);else{var e,d,f,g,k;fa(b)?(e=this.b.Ig(0),d=e.scale,f=e.cd,g=e.yc,k=e.j,e.scale=1,e.cd=1,e.yc=1,e.j=0,a.D(e.gb(this.touches[c].x,this.touches[c].y,!0)),e.scale=d,e.cd=f,e.yc=g,e.j=k):(e=ga(b)?this.b.Ig(b):this.b.Tk(b))?a.D(e.gb(this.touches[c].x,this.touches[c].y,!0)):a.D(0)}};u.prototype.an=function(a,b){var c=this.Kf;if(0>c||c>=this.touches.length)a.D(0);else{var e,d,f,g,k;fa(b)?(e=this.b.Ig(0),
d=e.scale,f=e.cd,g=e.zc,k=e.j,e.scale=1,e.cd=1,e.zc=1,e.j=0,a.D(e.gb(this.touches[c].x,this.touches[c].y,!1)),e.scale=d,e.cd=f,e.zc=g,e.j=k):(e=ga(b)?this.b.Ig(b):this.b.Tk(b))?a.D(e.gb(this.touches[c].x,this.touches[c].y,!1)):a.D(0)}};g.Ra=new u})();function mc(d){this.b=d}
(function(){function d(a){a%=k.length;0>a&&(a+=k.length);return a}function r(){var a,b,c,f;a=0;for(b=k.length;a<b;++a)c=k[a],(f=k[d(a-1)])&&!c&&(e=a),!f&&c&&(y=a)}var p=mc.prototype;p.qa=function(a){this.la=a;this.b=a.b};var l=p.qa.prototype,t=!1,u=null,g=null;l.R=function(){this.B||t||(t=!0,u=new Image,u.vk=15E3,this.b.Vj(u,"penumbra.png"))};l.ag=function(){if(!this.B){this.ec=this.F=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.F=null,c.ec=null}};l.rh=function(){if(!this.B){var a,
b;a=0;for(b=this.d.length;a<b;++a)this.d[a].An()}};p.ja=function(a){this.type=a;this.b=a.b};l=p.ja.prototype;l.R=function(){if(!g){var a=u.width,b=u.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(u,0,0,a,b);g=c.getImageData(0,0,a,b).data}this.ue=this.x;this.ve=this.y;this.Co=this.A[0];this.Qb=1E3;this.Uf=this.A[1];this.tn=this.A[2];this.tag=this.A[3];this.Bl=this.Cl=this.Dl=0;this.vo=this.x;this.wo=this.y;this.ec=this.F=null;this.b.n?
this.An():this.Uf=0;this.b.Up(this)};l.un=function(a){return 1===this.tn?fb(this.tag,a):2===this.tn?!fb(this.tag,a):!0};l.mg=function(){if(this.vo!==this.x||this.wo!==this.y)this.ue=this.x,this.ve=this.y;var a=this.e,b=(a.T+a.X)/2,c=(a.U+a.W)/2,e=a.X-a.T+this.Qb,d=a.W-a.U+this.Qb;if(b!==this.x||c!==this.y||e!==this.width||d!==this.height)this.x=b,this.y=c,this.width=e,this.height=d,this.K();this.vo=this.x;this.wo=this.y;this.Qb=1.5*Oa(a.T,a.U,a.X,a.W)};l.lf=function(){this.b.n&&(this.F&&(this.b.n.deleteTexture(this.F),
this.F=null),this.ec&&(this.b.n.deleteTexture(this.ec),this.ec=null))};l.xb=function(){return{}};l.Pb=function(){};var a=[],b=[];l.Yn=function(){this.b.tm&&(this.b.Zn(this.e,this.b.tm.zw,this.ga,a),Ta(a))};var q=[],c=0,k=[],f=[],e=-1,m=-1,y=-1,J=-1,h=0,n=0,v=[],ma=0,O=0,ja=0,K=0,D=0,A=0,H=0,R=0,B=new $a([]);l.Yb=function(c){this.Yn();c.save();c.fillStyle="rgba("+this.Dl+","+this.Cl+","+this.Bl+","+this.opacity+")";var e,d,f,g,h,l,m,n,q,p;e=0;for(d=a.length;e<d;++e)if(f=a[e],f.aa.shadowcasterEnabled&&
this.un(f.aa.shadowcasterTag))if(f.ca(),m=f.aa.shadowcasterHeight,f.Ge){f.Rn(this.ga,b);n=f.x;q=f.y;f=0;for(g=b.length;f<g;++f){h=b[f];p=h.xp;h.of?(h=h.of,l=p.left,p=p.top):(B.De(p,0,0),h=B,p=l=0);this.di(h,n+l,q+p,m,!1);c.beginPath();c.moveTo(v[0],v[1]);h=2;for(l=v.length;h<l;h+=2)c.lineTo(v[h],v[h+1]);c.closePath();c.fill();Q(k);Q(v)}Q(b)}else{f.M&&!f.M.qe()?(f.M.$d(f.width,f.height,f.j),h=f.M):(B.Ce(f.bb,f.x,f.y,f.width,f.height),h=B);this.di(h,f.x,f.y,m,Pa(0>f.width,0>f.height));c.beginPath();
c.moveTo(v[0],v[1]);f=2;for(g=v.length;f<g;f+=2)c.lineTo(v[f],v[f+1]);c.closePath();c.fill();Q(k);Q(v)}c.restore();Q(a)};l.nt=function(a,b,e,d){c=a.Ac;Q(q);var f,g=a.Ka;n=h=0;var k;for(k=0;k<c;++k)f=2*k,a=g[f]+b,f=g[f+1]+e,d?(q.unshift(f),q.unshift(a)):(q.push(a),q.push(f)),h+=a,n+=f;h/=c;n/=c};l.di=function(a,b,d,g,h){this.nt(a,b,d,h);var l;Q(k);Q(f);Q(v);J=m=y=e=-1;d=this.ue;h=this.ve;if(0<this.Uf)this.mk(-this.Uf),r(),ya(f,k),m=e,J=y,Q(k),y=e=-1,this.mk(this.Uf),r(),-1!==e&&-1!==y&&-1!==m&&-1!==
J&&this.Hr();else for(this.mk(0),r(),a=0;a<c;++a)l=2*a,b=q[l],l=q[l+1],this.Gr(a,d,h,b,l,g)};l.Gr=function(a,b,c,f,g,h){var l;l=k[d(a-1)];var m=a===e,n=a===y;k[a]||l?(a=Ka(b,c,f,g),l=Oa(b,c,f,g),h=this.Ir(b,c,f,g,h),b+=Math.cos(a)*(l+h),c+=Math.sin(a)*(l+h)):(b=f,c=g);n&&(v.push(f),v.push(g));v.push(b);v.push(c);m&&(v.push(f),v.push(g))};l.mk=function(a){var b=this.ue,e=this.ve,d=b,f=e,g,l,m,p,r;for(g=0;g<c;++g)l=2*g,m=g+1,m=m===c?0:2*m,p=q[l],l=q[l+1],r=q[m],m=q[m+1],0!==a&&(f=Ka(b,e,h,n)-Math.PI/
2,d=b+Math.cos(f)*a,f=e+Math.sin(f)*a),k.push(La(Ka(p,l,d,f),Ka(p,l,r,m)-Math.PI/2)>=Math.PI/2)};var I=0,G=0;l.Hr=function(){for(var a=m,b,e,d;a=a%c,b=2*a,e=q[b],d=q[b+1],v.push(e),v.push(d),a!==y;++a);var f=this.Uf,g=Ka(this.ue,this.ve,h,n),a=this.ue+Math.cos(g-Math.PI/2)*f,k=this.ve+Math.sin(g-Math.PI/2)*f,g=Ka(a,k,e,d),l=Oa(a,k,e,d),a=a+Math.cos(g)*(l+this.Qb),k=k+Math.sin(g)*(l+this.Qb);b=2*m;var p=q[b];b=q[b+1];var g=Ka(this.ue,this.ve,h,n),r=this.ue+Math.cos(g+Math.PI/2)*f,t=this.ve+Math.sin(g+
Math.PI/2)*f,g=Ka(r,t,p,b),l=Oa(r,t,p,b),f=r+Math.cos(g)*(l+this.Qb),g=t+Math.sin(g)*(l+this.Qb);D=e;A=d;ma=p;O=b;var u,B,J,l=a-e,r=k-d;u=f-p;B=g-b;J=-u*r+l*B;0===J?e=!1:(t=(-r*(e-p)+l*(d-b))/J,J=-u*r+l*B,0===J?e=!1:(p=(u*(d-b)-B*(e-p))/J,0<=t&&1>=t&&0<=p&&1>=p?(I=e+p*l,G=d+p*r,e=!0):e=!1));e?(v.push(I),v.push(G),H=I,R=G,ja=I,K=G):(v.push(a),v.push(k),v.push(f),v.push(g),H=a,R=k,ja=f,K=g)};l.Ir=function(a,b,c,e,d){if(d>=this.Co)return this.Qb;if(0>=d)return 0;a=Oa(a,b,c,e);a=Math.atan(a/(this.Co-
d));d=d*Math.tan(a);d>=this.Qb&&(d=this.Qb);0>d&&(d=0);return d};l.ub=function(c){c.Jd(this.opacity);this.Yn();var d,f,g,h,l,n,p,q,r,t;d=0;for(f=a.length;d<f;++d)if(g=a[d],g.aa.shadowcasterEnabled&&this.un(g.aa.shadowcasterTag))if(g.ca(),l=g.aa.shadowcasterHeight,g.Ge){g.Rn(this.ga,b);p=g.x;q=g.y;g=0;for(h=b.length;g<h;++g)n=b[g],r=n.xp,n.of?(n=n.of,t=r.left,r=r.top):(B.De(r,0,0),n=B,r=t=0),this.di(n,p+t,q+r,l,!1),6>v.length||(c.La(this.F),c.yn(v),-1<e&&-1<m&&(c.La(this.ec),this.ri(c,!0)),-1<y&&-1<
J&&(c.La(this.ec),this.ri(c,!1)),Q(k),Q(v));Q(b)}else g.M&&!g.M.qe()?(g.M.$d(g.width,g.height,g.j),n=g.M):(B.Ce(g.bb,g.x,g.y,g.width,g.height),n=B),this.di(n,g.x,g.y,l,Pa(0>g.width,0>g.height)),6>v.length||(c.La(this.F),c.yn(v),-1<e&&-1<m&&(c.La(this.ec),this.ri(c,!0)),-1<y&&-1<J&&(c.La(this.ec),this.ri(c,!1)),Q(k),Q(v));Q(a)};l.ri=function(a,b){var c=this.ue,d=this.ve,f,g,k,l,p,r;b?(k=ma,l=O,p=ja,r=K):(k=D,l=A,p=H,r=R);var t=this.Uf,u=Ka(c,d,h,n),v=Math.PI/2;b&&(v=-v);c+=Math.cos(u+v)*t;d+=Math.sin(u+
v)*t;t=!1;if(b){if(t=e!==m)f=q[2*e],g=q[2*e+1]}else if(t=y!==J)f=q[2*J],g=q[2*J+1];var u=t?Ka(f,g,k,l):Ka(c,d,k,l),v=k+Math.cos(u)*this.Qb,B=l+Math.sin(u)*this.Qb,G,I,qa,nb=qa=0,ob=1;t&&(qa=Ka(c,d,f,g),G=f+Math.cos(qa)*this.Qb,I=g+Math.sin(qa)*this.Qb,c=Ka(k,l,p,r),qa=La(u,qa)/La(c,qa),u=Oa(f,g,k,l),u=u/(u+this.Qb),c=Ka(0,1,qa,0),d=Oa(0,1,qa,0),nb+=Math.cos(c)*u*d,ob+=Math.sin(c)*u*d);a.wp(k,l,p,r,v,B,v,B,nb,ob,1,qa,qa);t&&a.wp(f,g,v,B,G,I,G,I,0,1,qa,0,0)};l.An=function(){this.b.n&&(this.F&&(this.b.n.deleteTexture(this.F),
this.F=null),this.ec&&(this.b.n.deleteTexture(this.ec),this.ec=null),this.Nr(),this.Qr())};l.Nr=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.Dl+","+this.Cl+","+this.Bl+")";b.fillRect(0,0,16,16);this.F=this.b.n.Hb(16,16,!1,!1,!0);this.b.n.Om(a,this.F)};l.Qr=function(){var a=u.width,b=u.height,c=this.Dl,e=this.Cl,d=this.Bl,f=g,h=document.createElement("canvas");h.width=a;h.height=b;var k=h.getContext("2d"),l=k.createImageData(a,
b),m=l.data,n,p;n=0;for(p=m.length;n<p;n+=4)m[n]=c,m[n+1]=e,m[n+2]=d,m[n+3]=f[n+3];k.putImageData(l,0,0);this.ec=this.b.n.Hb(a,b,this.b.na,!1,!1);this.b.n.Om(h,this.ec)};p.k=new function(){};p.Y=new function(){};p.Ra=new function(){}})();function nc(d){this.b=d}
(function(){function d(){}var r=nc.prototype;r.qa=function(d){this.behavior=d;this.b=d.b};r.qa.prototype.R=function(){};r.ja=function(d,p){this.type=d;this.behavior=d.behavior;this.i=p;this.b=d.b;this.Nd=this.Md=this.Ld=this.Od=this.Ve=this.Wc=this.Sc=this.Nc=this.ad=!1;this.G=0;this.wb=this.Fb=this.i.j};var p=r.ja.prototype;p.R=function(){this.ac=this.A[0];this.fb=this.A[1];this.Fa=this.A[2];this.Jj=V(this.A[3]);this.Ck=V(this.A[4]);this.Lk=this.A[5];this.rm=1===this.A[6];this.zk=1===this.A[7];this.enabled=
0!==this.A[8];this.df=this.i.x;this.ef=this.i.y;this.Qf=this.i.j;this.zk&&!this.b.Ha&&(jQuery(document).keydown(function(d){return function(p){d.Rl(p)}}(this)),jQuery(document).keyup(function(d){return function(p){d.Sl(p)}}(this)))};p.xb=function(){return{ignoreInput:this.Ve,enabled:this.enabled,s:this.G,a:this.Fb,m:this.wb,maxspeed:this.ac,acc:this.fb,dec:this.Fa,steerSpeed:this.Jj,driftRecover:this.Ck,friction:this.Lk,lastx:this.df,lasty:this.ef,lastAngle:this.Qf}};p.Pb=function(d){this.Ve=d.ignoreInput;
this.enabled=d.enabled;this.G=d.s;this.Fb=d.a;this.wb=d.m;this.ac=d.maxspeed;this.fb=d.acc;this.Fa=d.dec;this.Jj=d.steerSpeed;this.Ck=d.driftRecover;this.Lk=d.friction;this.df=d.lastx;this.ef=d.lasty;this.Qf=d.lastAngle;this.Nd=this.Md=this.Ld=this.Od=this.Wc=this.Sc=this.Nc=this.ad=!1};p.Rl=function(d){switch(d.which){case 37:d.preventDefault();this.Sc=!0;break;case 38:d.preventDefault();this.ad=!0;break;case 39:d.preventDefault();this.Wc=!0;break;case 40:d.preventDefault(),this.Nc=!0}};p.Sl=function(d){switch(d.which){case 37:d.preventDefault();
this.Sc=!1;break;case 38:d.preventDefault();this.ad=!1;break;case 39:d.preventDefault();this.Wc=!1;break;case 40:d.preventDefault(),this.Nc=!1}};p.mf=function(){this.Wc=this.Sc=this.Nc=this.ad=!1};p.Tb=function(){var d=this.b.Gg(this.i),p=this.Sc||this.Md,r=this.Wc||this.Nd,g=this.ad||this.Od,a=this.Nc||this.Ld;this.Ld=this.Od=this.Nd=this.Md=!1;if(this.enabled){this.rm&&this.i.j!==this.Qf&&(this.Qf=this.wb=this.Fb=this.i.j);var b=this.b.nc(this.i);if(b&&(this.b.fg(this.i,b),!this.b.qj(this.i)))return;
this.Ve&&(a=g=r=p=!1);g&&!a&&(this.G+=this.fb*d,this.G>this.ac&&(this.G=this.ac));a&&!g&&(this.G-=this.Fa*d,this.G<-this.ac&&(this.G=-this.ac));a===g&&(0<this.G?(this.G-=this.Fa*d*.1,0>this.G&&(this.G=0)):0>this.G&&(this.G+=this.Fa*d*.1,0<this.G&&(this.G=0)));0>this.G&&(g=p,p=r,r=g);p&&!r&&(this.Fb=Ha(this.Fb-this.Jj*d*(Math.abs(this.G)/this.ac)));r&&!p&&(this.Fb=Ha(this.Fb+this.Jj*d*(Math.abs(this.G)/this.ac)));p=this.Ck*d;r=La(this.Fb,this.wb);r>V(90)&&(p+=r-V(90));r<=p?this.wb=Ha(this.Fb):Na(this.Fb,
this.wb)?this.wb=Ha(this.wb+p):this.wb=Ha(this.wb-p);this.df=this.i.x;this.ef=this.i.y;if(0!==this.G&&0!==d){if(this.i.x+=Math.cos(this.wb)*this.G*d,this.i.y+=Math.sin(this.wb)*this.G*d,this.rm&&(this.Qf=this.i.j=this.Fb),this.i.K(),p=this.b.nc(this.i))this.b.fg(this.i,p),this.G=Math.abs(this.G),this.wb=this.b.Jr(this.i,this.df,this.ef),this.i.x+=Math.cos(this.wb)*this.G*d,this.i.y+=Math.sin(this.wb)*this.G*d,this.i.K(),this.G*=1-this.Lk,this.b.cm(this.i,Math.cos(this.wb),Math.sin(this.wb),Math.max(2.5*
this.G*d,30))||this.b.qj(this.i,100)}else this.rm&&this.i.j!==this.Fb&&(this.Qf=this.i.j=this.Fb,this.i.K(),this.b.nc(this.i)&&this.b.qj(this.i,100))}};r.k=new function(){};d.prototype.Ym=function(d){this.Fa=d;0>this.Fa&&(this.Fa=0)};d.prototype.ck=function(d){switch(d){case 0:this.Md=!0;break;case 1:this.Nd=!0;break;case 2:this.Od=!0;break;case 3:this.Ld=!0}};r.Y=new d;r.Ra=new function(){}})();function oc(d){this.b=d}
(function(){function d(){}var r=oc.prototype;r.qa=function(d){this.behavior=d;this.b=d.b};r.qa.prototype.R=function(){};r.ja=function(d,p){this.type=d;this.behavior=d.behavior;this.i=p;this.b=d.b;this.Nd=this.Md=this.Ld=this.Od=this.Ve=this.Wc=this.Sc=this.Nc=this.ad=!1;this.xl=this.wl=this.ul=this.zl=-1;this.fa=this.ea=0};var p=r.ja.prototype;p.R=function(){this.ac=this.A[0];this.fb=this.A[1];this.Fa=this.A[2];this.Bk=this.A[3];this.ik=this.A[4];this.zk=1===this.A[5];this.enabled=0!==this.A[6];this.zk&&
!this.b.Ha&&(jQuery(document).keydown(function(d){return function(p){d.Rl(p)}}(this)),jQuery(document).keyup(function(d){return function(p){d.Sl(p)}}(this)))};p.xb=function(){return{dx:this.ea,dy:this.fa,enabled:this.enabled,maxspeed:this.ac,acc:this.fb,dec:this.Fa,ignoreInput:this.Ve}};p.Pb=function(d){this.ea=d.dx;this.fa=d.dy;this.enabled=d.enabled;this.ac=d.maxspeed;this.fb=d.acc;this.Fa=d.dec;this.Ve=d.ignoreInput;this.Nd=this.Md=this.Ld=this.Od=this.Wc=this.Sc=this.Nc=this.ad=!1;this.xl=this.wl=
this.ul=this.zl=-1};p.Rl=function(d){var p=this.b.Yc;switch(d.which){case 37:d.preventDefault();this.wl<p&&(this.Sc=!0);break;case 38:d.preventDefault();this.zl<p&&(this.ad=!0);break;case 39:d.preventDefault();this.xl<p&&(this.Wc=!0);break;case 40:d.preventDefault(),this.ul<p&&(this.Nc=!0)}};p.Sl=function(d){var p=this.b.Yc;switch(d.which){case 37:d.preventDefault();this.Sc=!1;this.wl=p;break;case 38:d.preventDefault();this.ad=!1;this.zl=p;break;case 39:d.preventDefault();this.Wc=!1;this.xl=p;break;
case 40:d.preventDefault(),this.Nc=!1,this.ul=p}};p.mf=function(){this.Wc=this.Sc=this.Nc=this.ad=!1};p.Tb=function(){var d=this.b.Gg(this.i),p=this.Sc||this.Md,r=this.Wc||this.Nd,g=this.ad||this.Od,a=this.Nc||this.Ld;this.Ld=this.Od=this.Nd=this.Md=!1;if(this.enabled){var b=this.b.nc(this.i);if(b&&(this.b.fg(this.i,b),!this.b.qj(this.i)))return;this.Ve&&(a=g=r=p=!1);0===this.Bk?r=p=!1:1===this.Bk&&(a=g=!1);2===this.Bk&&(g||a)&&(r=p=!1);p==r&&(0>this.ea?(this.ea+=this.Fa*d,0<this.ea&&(this.ea=0)):
0<this.ea&&(this.ea-=this.Fa*d,0>this.ea&&(this.ea=0)));g==a&&(0>this.fa?(this.fa+=this.Fa*d,0<this.fa&&(this.fa=0)):0<this.fa&&(this.fa-=this.Fa*d,0>this.fa&&(this.fa=0)));p&&!r&&(this.ea=0<this.ea?this.ea-(this.fb+this.Fa)*d:this.ea-this.fb*d);r&&!p&&(this.ea=0>this.ea?this.ea+(this.fb+this.Fa)*d:this.ea+this.fb*d);g&&!a&&(this.fa=0<this.fa?this.fa-(this.fb+this.Fa)*d:this.fa-this.fb*d);a&&!g&&(this.fa=0>this.fa?this.fa+(this.fb+this.Fa)*d:this.fa+this.fb*d);if(0!==this.ea||0!==this.fa){Math.sqrt(this.ea*
this.ea+this.fa*this.fa)>this.ac&&(b=Math.atan2(this.fa,this.ea),this.ea=this.ac*Math.cos(b),this.fa=this.ac*Math.sin(b));r=this.i.x;g=this.i.y;p=this.i.j;this.i.x+=this.ea*d;this.i.K();if(b=this.b.nc(this.i))this.b.cm(this.i,0>this.ea?1:-1,0,Math.abs(Math.floor(this.ea*d)))||(this.i.x=r),this.ea=0,this.i.K(),this.b.fg(this.i,b);this.i.y+=this.fa*d;this.i.K();if(b=this.b.nc(this.i))this.b.cm(this.i,0,0>this.fa?1:-1,Math.abs(Math.floor(this.fa*d)))||(this.i.y=g),this.fa=0,this.i.K(),this.b.fg(this.i,
b);d=eb(this.ea);b=eb(this.fa);0===d&&0===b||!this.i.type.la.au||(1===this.ik?this.i.j=Ja(90*Math.round(Fa(Math.atan2(b,d))/90)):2===this.ik?this.i.j=Ja(45*Math.round(Fa(Math.atan2(b,d))/45)):3===this.ik&&(this.i.j=Math.atan2(b,d)));this.i.K();this.i.j!=p&&(b=this.b.nc(this.i))&&(this.i.j=p,this.i.K(),this.b.fg(this.i,b))}}};r.k=new function(){};d.prototype.Ym=function(d){this.Fa=d;0>this.Fa&&(this.Fa=0)};d.prototype.ck=function(d){switch(d){case 0:this.Md=!0;break;case 1:this.Nd=!0;break;case 2:this.Od=
!0;break;case 3:this.Ld=!0}};r.Y=new d;r.Ra=new function(){}})();function pc(d){this.b=d}
(function(){var d=pc.prototype;d.qa=function(d){this.behavior=d;this.b=d.b};d.qa.prototype.R=function(){};d.ja=function(d,p){this.type=d;this.behavior=d.behavior;this.i=p;this.b=d.b;this.mode=0};d=d.ja.prototype;d.R=function(){this.mode=this.A[0]};d.Tb=function(){};d.mg=function(){this.i.ca();var d=this.i.ga,p=this.i.e.Ia,l=!1;0===this.mode?(0>this.i.x&&(this.i.x=0,l=!0),0>this.i.y&&(this.i.y=0,l=!0),this.i.x>p.width&&(this.i.x=p.width,l=!0),this.i.y>p.height&&(this.i.y=p.height,l=!0)):(0>d.left&&
(this.i.x-=d.left,l=!0),0>d.top&&(this.i.y-=d.top,l=!0),d.right>p.width&&(this.i.x-=d.right-p.width,l=!0),d.bottom>p.height&&(this.i.y-=d.bottom-p.height,l=!0));l&&this.i.K()}})();function qc(d){this.b=d;this.vm=this.Bj=this.Ah=this.um=0}
(function(){var d=qc.prototype;d.qa=function(d){this.behavior=d;this.b=d.b};d.qa.prototype.R=function(){};d.ja=function(d,l){this.type=d;this.behavior=d.behavior;this.i=l;this.b=d.b};var r=d.ja.prototype;r.R=function(){this.enabled=0!==this.A[0]};r.xb=function(){return{smg:this.behavior.um,ss:this.behavior.Ah,se:this.behavior.Bj,smd:this.behavior.vm}};r.Pb=function(d){this.behavior.um=d.smg;this.behavior.Ah=d.ss;this.behavior.Bj=d.se;this.behavior.vm=d.smd};r.Tb=function(){};r.mg=function(){if(this.enabled){var d=
this.behavior.cj.pd(),l=0,r=0,u,g,a,b=0;u=0;for(g=d.length;u<g;u++){a:{a=d[u];for(var q=void 0,c=void 0,k=void 0,q=0,c=a.J.length;q<c;++q)if(k=a.J[q],k.behavior instanceof qc){a=k;break a}a=null}a&&a.enabled&&(l+=d[u].x,r+=d[u].y,++b)}d=this.i.e.Ia;g=this.b.$b.ua;a=u=0;g>=this.behavior.Ah&&g<this.behavior.Bj&&(u=this.behavior.um*Math.min(this.b.ng,1),0===this.behavior.vm&&(u*=1-(g-this.behavior.Ah)/(this.behavior.Bj-this.behavior.Ah)),g=Math.random()*Math.PI*2,a=Math.random()*u,u=Math.cos(g)*a,a*=
Math.sin(g));d.pm(l/b+u);d.qm(r/b+a)}};d.Y=new function(){}})();function ic(d){this.b=d}(function(){var d=ic.prototype;d.qa=function(d){this.behavior=d;this.b=d.b};d.qa.prototype.R=function(){};d.ja=function(d,l){this.type=d;this.behavior=d.behavior;this.i=l;this.b=d.b};var r=d.ja.prototype;r.R=function(){this.i.aa.solidEnabled=0!==this.A[0]};r.Tb=function(){};d.k=new function(){};d.Y=new function(){}})();
function hc(){return[Y,jc,mc,X,kc,lc,Z,oc,pc,qc,nc,ic,W.prototype.k.Bq,Z.prototype.k.Dq,W.prototype.k.sq,oc.prototype.Y.ck,X.prototype.Y.er,X.prototype.Y.dr,W.prototype.k.wq,kc.prototype.Y.Zm,X.prototype.Y.jr,nc.prototype.Y.ck,nc.prototype.Y.Ym,Z.prototype.k.ak,X.prototype.k.Cq,W.prototype.Y.ir,X.prototype.Y.hr,X.prototype.Ra.xq,X.prototype.Ra.yq,X.prototype.Y.cr,X.prototype.Ra.mq,X.prototype.Ra.$m,X.prototype.Ra.an,X.prototype.Y.uq,W.prototype.Y.lq,W.prototype.Y.nr,W.prototype.Y.tq,X.prototype.Y.fr,
Y.prototype.Y.rq,W.prototype.Y.br,Y.prototype.Y.mr,W.prototype.k.Qm,W.prototype.Y.Gq]};
